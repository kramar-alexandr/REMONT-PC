external function UUID GetServerUUIDRemote();
external function string 255 RemainingEinvoicesQuantity;
external function Boolean DisplayAdditionalFields();
remote function Integer MailAcceptanceStatus(LongInt);
external function Boolean IsMoveToCloud(record SetupStatusBlock);
external function Boolean IsMoveToCloudB();
external outer function Boolean IsCloudControllerClient();
external function string 255 GetCurrentStoreName();
external function Boolean CompaniesInClientMode();
external function Boolean ProductInDemoMode();
remote function string 255 GetCompanyShortCode(string);
external function Boolean AnyModuleAvailable();
external function Boolean AcceptanceStatusColumnTest(string);
external function Integer FlipCharCode(Integer,Integer);
external procedure RateField(real,real,real,string,integer,string,boolean,real,real,string,boolean);
external function boolean AddBicToMasterWindow(integer,var real,var real,real,real,real,real);
external function Boolean IsIntEnabActive(var string,var string,var Boolean,var string);
external function Boolean TouchScreenLookVertical();
external procedure SysEClass_Tool(Integer,var real,var real);
external procedure GTransEClass_Tool(Integer,var real,var real);
external procedure GTrans2EClass_Tool(Integer,var real,var real,var real);
external procedure GBaseEClass_Tool(Integer,var real,var real);
external procedure TransGenVClass_Tool(Integer,var real,var real);
external procedure GetCurUser(var record UserVc);
external procedure JobRClass_RUS();
external function string 60 UserDefined(string,string);
external outer function string 255 MasterBannerURL();
external procedure ItemStatusUserSettings(string,var Boolean,var Boolean,var Boolean,var Boolean,var Boolean,var Boolean,var Boolean,var Boolean,var Boolean,var Boolean,var Boolean,var Boolean,var Boolean,var Boolean);
external function Boolean AllowedInCountry(integer);
external function Integer ResourceWindowResourceType();
external function Boolean ResPlan_Rental();
external function Boolean ResPlan_ProdOperations();
remote function Boolean ReadPOSButtons(string,string,longint,var string,var string,var string,var record POSButtonsVc,var Integer);
external function Boolean TouchScreenLook();
external procedure ExtractObj(string,var Integer,var string);
external function Boolean IsSessionOpen(string,string,Date,Time);
external procedure CntNPTSPaymentCurrencies(var Array string,var Array string,var Array Integer,var Array string,var Integer);
remote procedure CntPOSCurrencies(var Array string,var Array Boolean,var Integer);
external function Boolean CheckOffLineRecords(Boolean);
external function string 60 TileUserDefined(string,Integer,var Integer);
external function Boolean CUVATNrColumn;
external function Integer GetInternetEnablerCountry();
external function Integer CntVarietyCode(Integer,var Array string);
external function Integer VarietyMatMax(Integer);
external function Boolean UseTaxTemplatesforTaxCalc();
remote procedure TablesViewWClassDo(record LocalMachineBlock,string,Array string,Array string,Array string,Array string,Array Integer,var Integer,var LongInt);
external function string 20 GetMenuCode(string);
external procedure DrawModifierButtons(var Integer);
remote procedure ForkLiftQueueArray(string,string,var Array string,var Array string,var Array string,var Array string,var Array val,var Array Integer,var Array string,var Integer,Boolean,LongInt,LongInt,string);

external function Boolean DisplayLoginButtons();
external function Integer LoginShortcutsLines(Integer);
external function Integer LoginShortcutsPos(Real,Integer);

external procedure DefineTTRRowTypes(Integer);
external function real ItemButtons(string,Integer);
external procedure HWStoreWClassAddProducts(Integer);
external function Boolean HasCharts();
external function Boolean HasDetailedCharts();
external function Boolean HasNewRegistration();
external function Boolean ActivityIsForAcceptanceOrFYI(record ActVc,Boolean,Boolean);
// TravelLog
external function Integer LoginShortcuts();
external function Boolean TestConfigurationEnabler(string);
remote function Integer CustomerSalesPaymentTermType(string);
// POS Standalone
external function Boolean DefCustCodeSetup();
// in-apps
external function Boolean HasInAppsAvailable();
external function Integer CountCountries();

// Language functions ENG
external function Boolean DisplayLoginKeyPad_ENG();
external function string 255 VATZoneEditFieldLabelENG(Integer);
external function real VATZoneButtonsLabelsENG(real,real,real,real);
external procedure LoginButtons2_ENG(Real,Real);
external procedure FORMDEF_ENG();
external function string 255 DemoMsgWClassTitle_ENG(Boolean,Boolean);
external procedure TBEClassDef_ENG();
external function string 255 VATZoneNameENG();
external procedure TSERW_ENG();
external procedure TSERWNT_ENG();
external procedure TSERWTouch_ENG();
external procedure TSERWTEST_ENG();
external procedure INVFORM_ENG(Boolean);
external procedure DisplayRecordDetails_ENG(LongInt,LongInt,string,date,time,string,string,string,string,string,string,string,string,string,string,string,Integer,string,string,string,val,string,Boolean,string,string);
external procedure DrawPOSInterface_ENG(string,string,record POSButtonsVc,Integer,string,Integer);
external procedure DisplayRecordDetailsCustDisplay_ENG(LongInt,LongInt,string,date,time,string,string,string,string,string,string,Integer,string,string,string,val);
external function string 255 ResDayWClassWindowTitle_ENG();
external function string 255 ResMonWClassWindowTitle_ENG();
external function string 255 RTMonWClassWindowTitle_ENG();
external procedure SetupNightAuditWindowControls_ENG(Boolean);
external procedure CURClassDefinitionENG();
external function real DrawPaymentModesButtons_IV_ENG(real);
external function real FunctionButtons_ENG(string);
external procedure CreditCardWindowHeader_ENG(Boolean,Boolean,Real);
external procedure CreditCardWindowButtons_ENG(string,string,real);
external procedure CreditCardWindowInvoiceDetail_ENG(Real);
external procedure CreditCardWindowDeliveryDetail_ENG(Real);
external function real DrawPaymentModesButtons_ENG();
external procedure DrawBarMenuTiles_ENG(string);
external procedure DrawRestPMOtherPay_ENG();
external procedure DisplayRecordDetailsRA_ENG(LongInt,LongInt,string,date,time,string,string,string,string,string,string,Integer,string,LongInt,Date,string,LongInt,string);
external procedure DrawModifierButtons2_ENG(var integer,var integer);
external procedure OKCancel_ENG();
external procedure DefineElearningURLCacheLClass_ENG();
external procedure DefineElearningURLCacheDClass_ENG();
external function real TravelLogDeductions_ENG(real,real);
external procedure LoginButtons_ENG(Real);
external procedure FORMDEF2_ENG();
external procedure FORMDEF3_ENG();
external procedure ARS2RClass_ENG();
external procedure ALLVATRClass_ENG();

// Language functions ARB
external function Boolean DisplayLoginKeyPad_ARB();
external function string 255 VATZoneEditFieldLabelARB(Integer);
external function real VATZoneButtonsLabelsARB(real,real,real,real);
external procedure LoginButtons2_ARB(Real,Real);
external procedure FORMDEF_ARB();
external function string 255 DemoMsgWClassTitle_ARB(Boolean,Boolean);
external procedure TBEClassDef_ARB();
external function string 255 VATZoneNameARB();
external procedure TSERW_ARB();
external procedure TSERWNT_ARB();
external procedure TSERWTouch_ARB();
external procedure TSERWTEST_ARB();
external procedure INVFORM_ARB(Boolean);
external procedure DisplayRecordDetails_ARB(LongInt,LongInt,string,date,time,string,string,string,string,string,string,string,string,string,string,string,Integer,string,string,string,val,string,Boolean,string,string);
external procedure DrawPOSInterface_ARB(string,string,record POSButtonsVc,Integer,string,Integer);
external procedure DisplayRecordDetailsCustDisplay_ARB(LongInt,LongInt,string,date,time,string,string,string,string,string,string,Integer,string,string,string,val);
external function string 255 ResDayWClassWindowTitle_ARB();
external function string 255 ResMonWClassWindowTitle_ARB();
external function string 255 RTMonWClassWindowTitle_ARB();
external procedure SetupNightAuditWindowControls_ARB(Boolean);
external procedure CURClassDefinitionARB();
external function real DrawPaymentModesButtons_IV_ARB(real);
external function real FunctionButtons_ARB(string);
external procedure CreditCardWindowHeader_ARB(Boolean,Boolean,Real);
external procedure CreditCardWindowButtons_ARB(string,string,real);
external procedure CreditCardWindowInvoiceDetail_ARB(Real);
external procedure CreditCardWindowDeliveryDetail_ARB(Real);
external function real DrawPaymentModesButtons_ARB();
external procedure DrawBarMenuTiles_ARB(string);
external procedure DrawRestPMOtherPay_ARB();
external procedure DisplayRecordDetailsRA_ARB(LongInt,LongInt,string,date,time,string,string,string,string,string,string,Integer,string,LongInt,Date,string,LongInt,string);
external procedure DrawModifierButtons2_ARB(var integer,var integer);
external procedure OKCancel_ARB();
external procedure DefineElearningURLCacheLClass_ARB();
external procedure DefineElearningURLCacheDClass_ARB();
external function real TravelLogDeductions_ARB(real,real);
external procedure LoginButtons_ARB(Real);
external procedure FORMDEF2_ARB();
external procedure FORMDEF3_ARB();
external procedure ARS2RClass_ARB();
external procedure ALLVATRClass_ARB();

// Language functions AUS
external function Boolean DisplayLoginKeyPad_AUS();
external function string 255 VATZoneEditFieldLabelAUS(Integer);
external function real VATZoneButtonsLabelsAUS(real,real,real,real);
external procedure LoginButtons2_AUS(Real,Real);
external procedure FORMDEF_AUS();
external function string 255 DemoMsgWClassTitle_AUS(Boolean,Boolean);
external procedure TBEClassDef_AUS();
external function string 255 VATZoneNameAUS();
external procedure TSERW_AUS();
external procedure TSERWNT_AUS();
external procedure TSERWTouch_AUS();
external procedure TSERWTEST_AUS();
external procedure INVFORM_AUS(Boolean);
external procedure DisplayRecordDetails_AUS(LongInt,LongInt,string,date,time,string,string,string,string,string,string,string,string,string,string,string,Integer,string,string,string,val,string,Boolean,string,string);
external procedure DrawPOSInterface_AUS(string,string,record POSButtonsVc,Integer,string,Integer);
external procedure DisplayRecordDetailsCustDisplay_AUS(LongInt,LongInt,string,date,time,string,string,string,string,string,string,Integer,string,string,string,val);
external function string 255 ResDayWClassWindowTitle_AUS();
external function string 255 ResMonWClassWindowTitle_AUS();
external function string 255 RTMonWClassWindowTitle_AUS();
external procedure SetupNightAuditWindowControls_AUS(Boolean);
external procedure CURClassDefinitionAUS();
external function real DrawPaymentModesButtons_IV_AUS(real);
external function real FunctionButtons_AUS(string);
external procedure CreditCardWindowHeader_AUS(Boolean,Boolean,Real);
external procedure CreditCardWindowButtons_AUS(string,string,real);
external procedure CreditCardWindowInvoiceDetail_AUS(Real);
external procedure CreditCardWindowDeliveryDetail_AUS(Real);
external function real DrawPaymentModesButtons_AUS();
external procedure DrawBarMenuTiles_AUS(string);
external procedure DrawRestPMOtherPay_AUS();
external procedure DisplayRecordDetailsRA_AUS(LongInt,LongInt,string,date,time,string,string,string,string,string,string,Integer,string,LongInt,Date,string,LongInt,string);
external procedure DrawModifierButtons2_AUS(var integer,var integer);
external procedure OKCancel_AUS();
external procedure DefineElearningURLCacheLClass_AUS();
external procedure DefineElearningURLCacheDClass_AUS();
external function real TravelLogDeductions_AUS(real,real);
external procedure LoginButtons_AUS(Real);
external procedure FORMDEF2_AUS();
external procedure FORMDEF3_AUS();
external procedure ARS2RClass_AUS();
external procedure ALLVATRClass_AUS();

// Language functions BRA
external function Boolean DisplayLoginKeyPad_BRA();
external function string 255 VATZoneEditFieldLabelBRA(Integer);
external function real VATZoneButtonsLabelsBRA(real,real,real,real);
external procedure LoginButtons2_BRA(Real,Real);
external procedure FORMDEF_BRA();
external function string 255 DemoMsgWClassTitle_BRA(Boolean,Boolean);
external procedure TBEClassDef_BRA();
external function string 255 VATZoneNameBRA();
external procedure TSERW_BRA();
external procedure TSERWNT_BRA();
external procedure TSERWTouch_BRA();
external procedure TSERWTEST_BRA();
external procedure INVFORM_BRA(Boolean);
external procedure DisplayRecordDetails_BRA(LongInt,LongInt,string,date,time,string,string,string,string,string,string,string,string,string,string,string,Integer,string,string,string,val,string,Boolean,string,string);
external procedure DrawPOSInterface_BRA(string,string,record POSButtonsVc,Integer,string,Integer);
external procedure DisplayRecordDetailsCustDisplay_BRA(LongInt,LongInt,string,date,time,string,string,string,string,string,string,Integer,string,string,string,val);
external function string 255 ResDayWClassWindowTitle_BRA();
external function string 255 ResMonWClassWindowTitle_BRA();
external function string 255 RTMonWClassWindowTitle_BRA();
external procedure SetupNightAuditWindowControls_BRA(Boolean);
external procedure CURClassDefinitionBRA();
external function real DrawPaymentModesButtons_IV_BRA(real);
external function real FunctionButtons_BRA(string);
external procedure CreditCardWindowHeader_BRA(Boolean,Boolean,Real);
external procedure CreditCardWindowButtons_BRA(string,string,real);
external procedure CreditCardWindowInvoiceDetail_BRA(Real);
external procedure CreditCardWindowDeliveryDetail_BRA(Real);
external function real DrawPaymentModesButtons_BRA();
external procedure DrawBarMenuTiles_BRA(string);
external procedure DrawRestPMOtherPay_BRA();
external procedure DisplayRecordDetailsRA_BRA(LongInt,LongInt,string,date,time,string,string,string,string,string,string,Integer,string,LongInt,Date,string,LongInt,string);
external procedure DrawModifierButtons2_BRA(var integer,var integer);
external procedure OKCancel_BRA();
external procedure DefineElearningURLCacheLClass_BRA();
external procedure DefineElearningURLCacheDClass_BRA();
external function real TravelLogDeductions_BRA(real,real);
external procedure LoginButtons_BRA(Real);
external procedure FORMDEF2_BRA();
external procedure FORMDEF3_BRA();
external procedure ARS2RClass_BRA();
external procedure ALLVATRClass_BRA();

// Language functions CAN
external function Boolean DisplayLoginKeyPad_CAN();
external function string 255 VATZoneEditFieldLabelCAN(Integer);
external function real VATZoneButtonsLabelsCAN(real,real,real,real);
external procedure LoginButtons2_CAN(Real,Real);
external procedure FORMDEF_CAN();
external function string 255 DemoMsgWClassTitle_CAN(Boolean,Boolean);
external procedure TBEClassDef_CAN();
external function string 255 VATZoneNameCAN();
external procedure TSERW_CAN();
external procedure TSERWNT_CAN();
external procedure TSERWTouch_CAN();
external procedure TSERWTEST_CAN();
external procedure INVFORM_CAN(Boolean);
external procedure DisplayRecordDetails_CAN(LongInt,LongInt,string,date,time,string,string,string,string,string,string,string,string,string,string,string,Integer,string,string,string,val,string,Boolean,string,string);
external procedure DrawPOSInterface_CAN(string,string,record POSButtonsVc,Integer,string,Integer);
external procedure DisplayRecordDetailsCustDisplay_CAN(LongInt,LongInt,string,date,time,string,string,string,string,string,string,Integer,string,string,string,val);
external function string 255 ResDayWClassWindowTitle_CAN();
external function string 255 ResMonWClassWindowTitle_CAN();
external function string 255 RTMonWClassWindowTitle_CAN();
external procedure SetupNightAuditWindowControls_CAN(Boolean);
external procedure CURClassDefinitionCAN();
external function real DrawPaymentModesButtons_IV_CAN(real);
external function real FunctionButtons_CAN(string);
external procedure CreditCardWindowHeader_CAN(Boolean,Boolean,Real);
external procedure CreditCardWindowButtons_CAN(string,string,real);
external procedure CreditCardWindowInvoiceDetail_CAN(Real);
external procedure CreditCardWindowDeliveryDetail_CAN(Real);
external function real DrawPaymentModesButtons_CAN();
external procedure DrawBarMenuTiles_CAN(string);
external procedure DrawRestPMOtherPay_CAN();
external procedure DisplayRecordDetailsRA_CAN(LongInt,LongInt,string,date,time,string,string,string,string,string,string,Integer,string,LongInt,Date,string,LongInt,string);
external procedure DrawModifierButtons2_CAN(var integer,var integer);
external procedure OKCancel_CAN();
external procedure DefineElearningURLCacheLClass_CAN();
external procedure DefineElearningURLCacheDClass_CAN();
external function real TravelLogDeductions_CAN(real,real);
external procedure LoginButtons_CAN(Real);
external procedure FORMDEF2_CAN();
external procedure FORMDEF3_CAN();
external procedure ARS2RClass_CAN();
external procedure ALLVATRClass_CAN();

// Language functions CRO
external function Boolean DisplayLoginKeyPad_CRO();
external function string 255 VATZoneEditFieldLabelCRO(Integer);
external function real VATZoneButtonsLabelsCRO(real,real,real,real);
external procedure LoginButtons2_CRO(Real,Real);
external procedure FORMDEF_CRO();
external function string 255 DemoMsgWClassTitle_CRO(Boolean,Boolean);
external procedure TBEClassDef_CRO();
external function string 255 VATZoneNameCRO();
external procedure TSERW_CRO();
external procedure TSERWNT_CRO();
external procedure TSERWTouch_CRO();
external procedure TSERWTEST_CRO();
external procedure INVFORM_CRO(Boolean);
external procedure DisplayRecordDetails_CRO(LongInt,LongInt,string,date,time,string,string,string,string,string,string,string,string,string,string,string,Integer,string,string,string,val,string,Boolean,string,string);
external procedure DrawPOSInterface_CRO(string,string,record POSButtonsVc,Integer,string,Integer);
external procedure DisplayRecordDetailsCustDisplay_CRO(LongInt,LongInt,string,date,time,string,string,string,string,string,string,Integer,string,string,string,val);
external function string 255 ResDayWClassWindowTitle_CRO();
external function string 255 ResMonWClassWindowTitle_CRO();
external function string 255 RTMonWClassWindowTitle_CRO();
external procedure SetupNightAuditWindowControls_CRO(Boolean);
external procedure CURClassDefinitionCRO();
external function real DrawPaymentModesButtons_IV_CRO(real);
external function real FunctionButtons_CRO(string);
external procedure CreditCardWindowHeader_CRO(Boolean,Boolean,Real);
external procedure CreditCardWindowButtons_CRO(string,string,real);
external procedure CreditCardWindowInvoiceDetail_CRO(Real);
external procedure CreditCardWindowDeliveryDetail_CRO(Real);
external function real DrawPaymentModesButtons_CRO();
external procedure DrawBarMenuTiles_CRO(string);
external procedure DrawRestPMOtherPay_CRO();
external procedure DisplayRecordDetailsRA_CRO(LongInt,LongInt,string,date,time,string,string,string,string,string,string,Integer,string,LongInt,Date,string,LongInt,string);
external procedure DrawModifierButtons2_CRO(var integer,var integer);
external procedure OKCancel_CRO();
external procedure DefineElearningURLCacheLClass_CRO();
external procedure DefineElearningURLCacheDClass_CRO();
external function real TravelLogDeductions_CRO(real,real);
external procedure LoginButtons_CRO(Real);
external procedure FORMDEF2_CRO();
external procedure FORMDEF3_CRO();
external procedure ARS2RClass_CRO();
external procedure ALLVATRClass_CRO();

// Language functions CHI
external function Boolean DisplayLoginKeyPad_CHI();
external function string 255 VATZoneEditFieldLabelCHI(Integer);
external function real VATZoneButtonsLabelsCHI(real,real,real,real);
external procedure LoginButtons2_CHI(Real,Real);
external procedure FORMDEF_CHI();
external function string 255 DemoMsgWClassTitle_CHI(Boolean,Boolean);
external procedure TBEClassDef_CHI();
external function string 255 VATZoneNameCHI();
external procedure TSERW_CHI();
external procedure TSERWNT_CHI();
external procedure TSERWTouch_CHI();
external procedure TSERWTEST_CHI();
external procedure INVFORM_CHI(Boolean);
external procedure DisplayRecordDetails_CHI(LongInt,LongInt,string,date,time,string,string,string,string,string,string,string,string,string,string,string,Integer,string,string,string,val,string,Boolean,string,string);
external procedure DrawPOSInterface_CHI(string,string,record POSButtonsVc,Integer,string,Integer);
external procedure DisplayRecordDetailsCustDisplay_CHI(LongInt,LongInt,string,date,time,string,string,string,string,string,string,Integer,string,string,string,val);
external function string 255 ResDayWClassWindowTitle_CHI();
external function string 255 ResMonWClassWindowTitle_CHI();
external function string 255 RTMonWClassWindowTitle_CHI();
external procedure SetupNightAuditWindowControls_CHI(Boolean);
external procedure CURClassDefinitionCHI();
external function real DrawPaymentModesButtons_IV_CHI(real);
external function real FunctionButtons_CHI(string);
external procedure CreditCardWindowHeader_CHI(Boolean,Boolean,Real);
external procedure CreditCardWindowButtons_CHI(string,string,real);
external procedure CreditCardWindowInvoiceDetail_CHI(Real);
external procedure CreditCardWindowDeliveryDetail_CHI(Real);
external function real DrawPaymentModesButtons_CHI();
external procedure DrawBarMenuTiles_CHI(string);
external procedure DrawRestPMOtherPay_CHI();
external procedure DisplayRecordDetailsRA_CHI(LongInt,LongInt,string,date,time,string,string,string,string,string,string,Integer,string,LongInt,Date,string,LongInt,string);
external procedure DrawModifierButtons2_CHI(var integer,var integer);
external procedure OKCancel_CHI();
external procedure DefineElearningURLCacheLClass_CHI();
external procedure DefineElearningURLCacheDClass_CHI();
external function real TravelLogDeductions_CHI(real,real);
external procedure LoginButtons_CHI(Real);
external procedure FORMDEF2_CHI();
external procedure FORMDEF3_CHI();
external procedure ARS2RClass_CHI();
external procedure ALLVATRClass_CHI();

// Language functions CZE
external function Boolean DisplayLoginKeyPad_CZE();
external function string 255 VATZoneEditFieldLabelCZE(Integer);
external function real VATZoneButtonsLabelsCZE(real,real,real,real);
external procedure LoginButtons2_CZE(Real,Real);
external procedure FORMDEF_CZE();
external function string 255 DemoMsgWClassTitle_CZE(Boolean,Boolean);
external procedure TBEClassDef_CZE();
external function string 255 VATZoneNameCZE();
external procedure TSERW_CZE();
external procedure TSERWNT_CZE();
external procedure TSERWTouch_CZE();
external procedure TSERWTEST_CZE();
external procedure INVFORM_CZE(Boolean);
external procedure DisplayRecordDetails_CZE(LongInt,LongInt,string,date,time,string,string,string,string,string,string,string,string,string,string,string,Integer,string,string,string,val,string,Boolean,string,string);
external procedure DrawPOSInterface_CZE(string,string,record POSButtonsVc,Integer,string,Integer);
external procedure DisplayRecordDetailsCustDisplay_CZE(LongInt,LongInt,string,date,time,string,string,string,string,string,string,Integer,string,string,string,val);
external function string 255 ResDayWClassWindowTitle_CZE();
external function string 255 ResMonWClassWindowTitle_CZE();
external function string 255 RTMonWClassWindowTitle_CZE();
external procedure SetupNightAuditWindowControls_CZE(Boolean);
external procedure CURClassDefinitionCZE();
external function real DrawPaymentModesButtons_IV_CZE(real);
external function real FunctionButtons_CZE(string);
external procedure CreditCardWindowHeader_CZE(Boolean,Boolean,Real);
external procedure CreditCardWindowButtons_CZE(string,string,real);
external procedure CreditCardWindowInvoiceDetail_CZE(Real);
external procedure CreditCardWindowDeliveryDetail_CZE(Real);
external function real DrawPaymentModesButtons_CZE();
external procedure DrawBarMenuTiles_CZE(string);
external procedure DrawRestPMOtherPay_CZE();
external procedure DisplayRecordDetailsRA_CZE(LongInt,LongInt,string,date,time,string,string,string,string,string,string,Integer,string,LongInt,Date,string,LongInt,string);
external procedure DrawModifierButtons2_CZE(var integer,var integer);
external procedure OKCancel_CZE();
external procedure DefineElearningURLCacheLClass_CZE();
external procedure DefineElearningURLCacheDClass_CZE();
external function real TravelLogDeductions_CZE(real,real);
external procedure LoginButtons_CZE(Real);
external procedure FORMDEF2_CZE();
external procedure FORMDEF3_CZE();
external procedure ARS2RClass_CZE();
external procedure ALLVATRClass_CZE();

// Language functions DAN
external function Boolean DisplayLoginKeyPad_DAN();
external function string 255 VATZoneEditFieldLabelDAN(Integer);
external function real VATZoneButtonsLabelsDAN(real,real,real,real);
external procedure LoginButtons2_DAN(Real,Real);
external procedure FORMDEF_DAN();
external function string 255 DemoMsgWClassTitle_DAN(Boolean,Boolean);
external procedure TBEClassDef_DAN();
external function string 255 VATZoneNameDAN();
external procedure TSERW_DAN();
external procedure TSERWNT_DAN();
external procedure TSERWTouch_DAN();
external procedure TSERWTEST_DAN();
external procedure INVFORM_DAN(Boolean);
external procedure DisplayRecordDetails_DAN(LongInt,LongInt,string,date,time,string,string,string,string,string,string,string,string,string,string,string,Integer,string,string,string,val,string,Boolean,string,string);
external procedure DrawPOSInterface_DAN(string,string,record POSButtonsVc,Integer,string,Integer);
external procedure DisplayRecordDetailsCustDisplay_DAN(LongInt,LongInt,string,date,time,string,string,string,string,string,string,Integer,string,string,string,val);
external function string 255 ResDayWClassWindowTitle_DAN();
external function string 255 ResMonWClassWindowTitle_DAN();
external function string 255 RTMonWClassWindowTitle_DAN();
external procedure SetupNightAuditWindowControls_DAN(Boolean);
external procedure CURClassDefinitionDAN();
external function real DrawPaymentModesButtons_IV_DAN(real);
external function real FunctionButtons_DAN(string);
external procedure CreditCardWindowHeader_DAN(Boolean,Boolean,Real);
external procedure CreditCardWindowButtons_DAN(string,string,real);
external procedure CreditCardWindowInvoiceDetail_DAN(Real);
external procedure CreditCardWindowDeliveryDetail_DAN(Real);
external function real DrawPaymentModesButtons_DAN();
external procedure DrawBarMenuTiles_DAN(string);
external procedure DrawRestPMOtherPay_DAN();
external procedure DisplayRecordDetailsRA_DAN(LongInt,LongInt,string,date,time,string,string,string,string,string,string,Integer,string,LongInt,Date,string,LongInt,string);
external procedure DrawModifierButtons2_DAN(var integer,var integer);
external procedure OKCancel_DAN();
external procedure DefineElearningURLCacheLClass_DAN();
external procedure DefineElearningURLCacheDClass_DAN();
external function real TravelLogDeductions_DAN(real,real);
external procedure LoginButtons_DAN(Real);
external procedure FORMDEF2_DAN();
external procedure FORMDEF3_DAN();
external procedure ARS2RClass_DAN();
external procedure ALLVATRClass_DAN();

// Language functions ESP
external function Boolean DisplayLoginKeyPad_ESP();
external function string 255 VATZoneEditFieldLabelESP(Integer);
external function real VATZoneButtonsLabelsESP(real,real,real,real);
external procedure LoginButtons2_ESP(Real,Real);
external procedure FORMDEF_ESP();
external function string 255 DemoMsgWClassTitle_ESP(Boolean,Boolean);
external procedure TBEClassDef_ESP();
external function string 255 VATZoneNameESP();
external procedure TSERW_ESP();
external procedure TSERWNT_ESP();
external procedure TSERWTouch_ESP();
external procedure TSERWTEST_ESP();
external procedure INVFORM_ESP(Boolean);
external procedure DisplayRecordDetails_ESP(LongInt,LongInt,string,date,time,string,string,string,string,string,string,string,string,string,string,string,Integer,string,string,string,val,string,Boolean,string,string);
external procedure DrawPOSInterface_ESP(string,string,record POSButtonsVc,Integer,string,Integer);
external procedure DisplayRecordDetailsCustDisplay_ESP(LongInt,LongInt,string,date,time,string,string,string,string,string,string,Integer,string,string,string,val);
external function string 255 ResDayWClassWindowTitle_ESP();
external function string 255 ResMonWClassWindowTitle_ESP();
external function string 255 RTMonWClassWindowTitle_ESP();
external procedure SetupNightAuditWindowControls_ESP(Boolean);
external procedure CURClassDefinitionESP();
external function real DrawPaymentModesButtons_IV_ESP(real);
external function real FunctionButtons_ESP(string);
external procedure CreditCardWindowHeader_ESP(Boolean,Boolean,Real);
external procedure CreditCardWindowButtons_ESP(string,string,real);
external procedure CreditCardWindowInvoiceDetail_ESP(Real);
external procedure CreditCardWindowDeliveryDetail_ESP(Real);
external function real DrawPaymentModesButtons_ESP();
external procedure DrawBarMenuTiles_ESP(string);
external procedure DrawRestPMOtherPay_ESP();
external procedure DisplayRecordDetailsRA_ESP(LongInt,LongInt,string,date,time,string,string,string,string,string,string,Integer,string,LongInt,Date,string,LongInt,string);
external procedure DrawModifierButtons2_ESP(var integer,var integer);
external procedure OKCancel_ESP();
external procedure DefineElearningURLCacheLClass_ESP();
external procedure DefineElearningURLCacheDClass_ESP();
external function real TravelLogDeductions_ESP(real,real);
external procedure LoginButtons_ESP(Real);
external procedure FORMDEF2_ESP();
external procedure FORMDEF3_ESP();
external procedure ARS2RClass_ESP();
external procedure ALLVATRClass_ESP();

// Language functions EST
external function Boolean DisplayLoginKeyPad_EST();
external function string 255 VATZoneEditFieldLabelEST(Integer);
external function real VATZoneButtonsLabelsEST(real,real,real,real);
external procedure LoginButtons2_EST(Real,Real);
external procedure FORMDEF_EST();
external function string 255 DemoMsgWClassTitle_EST(Boolean,Boolean);
external procedure TBEClassDef_EST();
external function string 255 VATZoneNameEST();
external procedure TSERW_EST();
external procedure TSERWNT_EST();
external procedure TSERWTouch_EST();
external procedure TSERWTEST_EST();
external procedure INVFORM_EST(Boolean);
external procedure DisplayRecordDetails_EST(LongInt,LongInt,string,date,time,string,string,string,string,string,string,string,string,string,string,string,Integer,string,string,string,val,string,Boolean,string,string);
external procedure DrawPOSInterface_EST(string,string,record POSButtonsVc,Integer,string,Integer);
external procedure DisplayRecordDetailsCustDisplay_EST(LongInt,LongInt,string,date,time,string,string,string,string,string,string,Integer,string,string,string,val);
external function string 255 ResDayWClassWindowTitle_EST();
external function string 255 ResMonWClassWindowTitle_EST();
external function string 255 RTMonWClassWindowTitle_EST();
external procedure SetupNightAuditWindowControls_EST(Boolean);
external procedure CURClassDefinitionEST();
external function real DrawPaymentModesButtons_IV_EST(real);
external function real FunctionButtons_EST(string);
external procedure CreditCardWindowHeader_EST(Boolean,Boolean,Real);
external procedure CreditCardWindowButtons_EST(string,string,real);
external procedure CreditCardWindowInvoiceDetail_EST(Real);
external procedure CreditCardWindowDeliveryDetail_EST(Real);
external function real DrawPaymentModesButtons_EST();
external procedure DrawBarMenuTiles_EST(string);
external procedure DrawRestPMOtherPay_EST();
external procedure DisplayRecordDetailsRA_EST(LongInt,LongInt,string,date,time,string,string,string,string,string,string,Integer,string,LongInt,Date,string,LongInt,string);
external procedure DrawModifierButtons2_EST(var integer,var integer);
external procedure OKCancel_EST();
external procedure DefineElearningURLCacheLClass_EST();
external procedure DefineElearningURLCacheDClass_EST();
external function real TravelLogDeductions_EST(real,real);
external procedure LoginButtons_EST(Real);
external procedure FORMDEF2_EST();
external procedure FORMDEF3_EST();
external procedure ARS2RClass_EST();
external procedure ALLVATRClass_EST();

// Language functions FIN
external function Boolean DisplayLoginKeyPad_FIN();
external function string 255 VATZoneEditFieldLabelFIN(Integer);
external function real VATZoneButtonsLabelsFIN(real,real,real,real);
external procedure LoginButtons2_FIN(Real,Real);
external procedure FORMDEF_FIN();
external function string 255 DemoMsgWClassTitle_FIN(Boolean,Boolean);
external procedure TBEClassDef_FIN();
external function string 255 VATZoneNameFIN();
external procedure TSERW_FIN();
external procedure TSERWNT_FIN();
external procedure TSERWTouch_FIN();
external procedure TSERWTEST_FIN();
external procedure INVFORM_FIN(Boolean);
external procedure DisplayRecordDetails_FIN(LongInt,LongInt,string,date,time,string,string,string,string,string,string,string,string,string,string,string,Integer,string,string,string,val,string,Boolean,string,string);
external procedure DrawPOSInterface_FIN(string,string,record POSButtonsVc,Integer,string,Integer);
external procedure DisplayRecordDetailsCustDisplay_FIN(LongInt,LongInt,string,date,time,string,string,string,string,string,string,Integer,string,string,string,val);
external function string 255 ResDayWClassWindowTitle_FIN();
external function string 255 ResMonWClassWindowTitle_FIN();
external function string 255 RTMonWClassWindowTitle_FIN();
external procedure SetupNightAuditWindowControls_FIN(Boolean);
external procedure CURClassDefinitionFIN();
external function real DrawPaymentModesButtons_IV_FIN(real);
external function real FunctionButtons_FIN(string);
external procedure CreditCardWindowHeader_FIN(Boolean,Boolean,Real);
external procedure CreditCardWindowButtons_FIN(string,string,real);
external procedure CreditCardWindowInvoiceDetail_FIN(Real);
external procedure CreditCardWindowDeliveryDetail_FIN(Real);
external function real DrawPaymentModesButtons_FIN();
external procedure DrawBarMenuTiles_FIN(string);
external procedure DrawRestPMOtherPay_FIN();
external procedure DisplayRecordDetailsRA_FIN(LongInt,LongInt,string,date,time,string,string,string,string,string,string,Integer,string,LongInt,Date,string,LongInt,string);
external procedure DrawModifierButtons2_FIN(var integer,var integer);
external procedure OKCancel_FIN();
external procedure DefineElearningURLCacheLClass_FIN();
external procedure DefineElearningURLCacheDClass_FIN();
external function real TravelLogDeductions_FIN(real,real);
external procedure LoginButtons_FIN(Real);
external procedure FORMDEF2_FIN();
external procedure FORMDEF3_FIN();
external procedure ARS2RClass_FIN();
external procedure ALLVATRClass_FIN();

// Language functions FRA
external function Boolean DisplayLoginKeyPad_FRA();
external function string 255 VATZoneEditFieldLabelFRA(Integer);
external function real VATZoneButtonsLabelsFRA(real,real,real,real);
external procedure LoginButtons2_FRA(Real,Real);
external procedure FORMDEF_FRA();
external function string 255 DemoMsgWClassTitle_FRA(Boolean,Boolean);
external procedure TBEClassDef_FRA();
external function string 255 VATZoneNameFRA();
external procedure TSERW_FRA();
external procedure TSERWNT_FRA();
external procedure TSERWTouch_FRA();
external procedure TSERWTEST_FRA();
external procedure INVFORM_FRA(Boolean);
external procedure DisplayRecordDetails_FRA(LongInt,LongInt,string,date,time,string,string,string,string,string,string,string,string,string,string,string,Integer,string,string,string,val,string,Boolean,string,string);
external procedure DrawPOSInterface_FRA(string,string,record POSButtonsVc,Integer,string,Integer);
external procedure DisplayRecordDetailsCustDisplay_FRA(LongInt,LongInt,string,date,time,string,string,string,string,string,string,Integer,string,string,string,val);
external function string 255 ResDayWClassWindowTitle_FRA();
external function string 255 ResMonWClassWindowTitle_FRA();
external function string 255 RTMonWClassWindowTitle_FRA();
external procedure SetupNightAuditWindowControls_FRA(Boolean);
external procedure CURClassDefinitionFRA();
external function real DrawPaymentModesButtons_IV_FRA(real);
external function real FunctionButtons_FRA(string);
external procedure CreditCardWindowHeader_FRA(Boolean,Boolean,Real);
external procedure CreditCardWindowButtons_FRA(string,string,real);
external procedure CreditCardWindowInvoiceDetail_FRA(Real);
external procedure CreditCardWindowDeliveryDetail_FRA(Real);
external function real DrawPaymentModesButtons_FRA();
external procedure DrawBarMenuTiles_FRA(string);
external procedure DrawRestPMOtherPay_FRA();
external procedure DisplayRecordDetailsRA_FRA(LongInt,LongInt,string,date,time,string,string,string,string,string,string,Integer,string,LongInt,Date,string,LongInt,string);
external procedure DrawModifierButtons2_FRA(var integer,var integer);
external procedure OKCancel_FRA();
external procedure DefineElearningURLCacheLClass_FRA();
external procedure DefineElearningURLCacheDClass_FRA();
external function real TravelLogDeductions_FRA(real,real);
external procedure LoginButtons_FRA(Real);
external procedure FORMDEF2_FRA();
external procedure FORMDEF3_FRA();
external procedure ARS2RClass_FRA();
external procedure ALLVATRClass_FRA();

// Language functions FRC
external function Boolean DisplayLoginKeyPad_FRC();
external function string 255 VATZoneEditFieldLabelFRC(Integer);
external function real VATZoneButtonsLabelsFRC(real,real,real,real);
external procedure LoginButtons2_FRC(Real,Real);
external procedure FORMDEF_FRC();
external function string 255 DemoMsgWClassTitle_FRC(Boolean,Boolean);
external procedure TBEClassDef_FRC();
external function string 255 VATZoneNameFRC();
external procedure TSERW_FRC();
external procedure TSERWNT_FRC();
external procedure TSERWTouch_FRC();
external procedure TSERWTEST_FRC();
external procedure INVFORM_FRC(Boolean);
external procedure DisplayRecordDetails_FRC(LongInt,LongInt,string,date,time,string,string,string,string,string,string,string,string,string,string,string,Integer,string,string,string,val,string,Boolean,string,string);
external procedure DrawPOSInterface_FRC(string,string,record POSButtonsVc,Integer,string,Integer);
external procedure DisplayRecordDetailsCustDisplay_FRC(LongInt,LongInt,string,date,time,string,string,string,string,string,string,Integer,string,string,string,val);
external function string 255 ResDayWClassWindowTitle_FRC();
external function string 255 ResMonWClassWindowTitle_FRC();
external function string 255 RTMonWClassWindowTitle_FRC();
external procedure SetupNightAuditWindowControls_FRC(Boolean);
external procedure CURClassDefinitionFRC();
external function real DrawPaymentModesButtons_IV_FRC(real);
external function real FunctionButtons_FRC(string);
external procedure CreditCardWindowHeader_FRC(Boolean,Boolean,Real);
external procedure CreditCardWindowButtons_FRC(string,string,real);
external procedure CreditCardWindowInvoiceDetail_FRC(Real);
external procedure CreditCardWindowDeliveryDetail_FRC(Real);
external function real DrawPaymentModesButtons_FRC();
external procedure DrawBarMenuTiles_FRC(string);
external procedure DrawRestPMOtherPay_FRC();
external procedure DisplayRecordDetailsRA_FRC(LongInt,LongInt,string,date,time,string,string,string,string,string,string,Integer,string,LongInt,Date,string,LongInt,string);
external procedure DrawModifierButtons2_FRC(var integer,var integer);
external procedure OKCancel_FRC();
external procedure DefineElearningURLCacheLClass_FRC();
external procedure DefineElearningURLCacheDClass_FRC();
external function real TravelLogDeductions_FRC(real,real);
external procedure LoginButtons_FRC(Real);
external procedure FORMDEF2_FRC();
external procedure FORMDEF3_FRC();
external procedure ARS2RClass_FRC();
external procedure ALLVATRClass_FRC();

// Language functions FAR
external function Boolean DisplayLoginKeyPad_FAR();
external function string 255 VATZoneEditFieldLabelFAR(Integer);
external function real VATZoneButtonsLabelsFAR(real,real,real,real);
external procedure LoginButtons2_FAR(Real,Real);
external procedure FORMDEF_FAR();
external function string 255 DemoMsgWClassTitle_FAR(Boolean,Boolean);
external procedure TBEClassDef_FAR();
external function string 255 VATZoneNameFAR();
external procedure TSERW_FAR();
external procedure TSERWNT_FAR();
external procedure TSERWTouch_FAR();
external procedure TSERWTEST_FAR();
external procedure INVFORM_FAR(Boolean);
external procedure DisplayRecordDetails_FAR(LongInt,LongInt,string,date,time,string,string,string,string,string,string,string,string,string,string,string,Integer,string,string,string,val,string,Boolean,string,string);
external procedure DrawPOSInterface_FAR(string,string,record POSButtonsVc,Integer,string,Integer);
external procedure DisplayRecordDetailsCustDisplay_FAR(LongInt,LongInt,string,date,time,string,string,string,string,string,string,Integer,string,string,string,val);
external function string 255 ResDayWClassWindowTitle_FAR();
external function string 255 ResMonWClassWindowTitle_FAR();
external function string 255 RTMonWClassWindowTitle_FAR();
external procedure SetupNightAuditWindowControls_FAR(Boolean);
external procedure CURClassDefinitionFAR();
external function real DrawPaymentModesButtons_IV_FAR(real);
external function real FunctionButtons_FAR(string);
external procedure CreditCardWindowHeader_FAR(Boolean,Boolean,Real);
external procedure CreditCardWindowButtons_FAR(string,string,real);
external procedure CreditCardWindowInvoiceDetail_FAR(Real);
external procedure CreditCardWindowDeliveryDetail_FAR(Real);
external function real DrawPaymentModesButtons_FAR();
external procedure DrawBarMenuTiles_FAR(string);
external procedure DrawRestPMOtherPay_FAR();
external procedure DisplayRecordDetailsRA_FAR(LongInt,LongInt,string,date,time,string,string,string,string,string,string,Integer,string,LongInt,Date,string,LongInt,string);
external procedure DrawModifierButtons2_FAR(var integer,var integer);
external procedure OKCancel_FAR();
external procedure DefineElearningURLCacheLClass_FAR();
external procedure DefineElearningURLCacheDClass_FAR();
external function real TravelLogDeductions_FAR(real,real);
external procedure LoginButtons_FAR(Real);
external procedure FORMDEF2_FAR();
external procedure FORMDEF3_FAR();
external procedure ARS2RClass_FAR();
external procedure ALLVATRClass_FAR();

// Language functions GER
external function Boolean DisplayLoginKeyPad_GER();
external function string 255 VATZoneEditFieldLabelGER(Integer);
external function real VATZoneButtonsLabelsGER(real,real,real,real);
external procedure LoginButtons2_GER(Real,Real);
external procedure FORMDEF_GER();
external function string 255 DemoMsgWClassTitle_GER(Boolean,Boolean);
external procedure TBEClassDef_GER();
external function string 255 VATZoneNameGER();
external procedure TSERW_GER();
external procedure TSERWNT_GER();
external procedure TSERWTouch_GER();
external procedure TSERWTEST_GER();
external procedure INVFORM_GER(Boolean);
external procedure DisplayRecordDetails_GER(LongInt,LongInt,string,date,time,string,string,string,string,string,string,string,string,string,string,string,Integer,string,string,string,val,string,Boolean,string,string);
external procedure DrawPOSInterface_GER(string,string,record POSButtonsVc,Integer,string,Integer);
external procedure DisplayRecordDetailsCustDisplay_GER(LongInt,LongInt,string,date,time,string,string,string,string,string,string,Integer,string,string,string,val);
external function string 255 ResDayWClassWindowTitle_GER();
external function string 255 ResMonWClassWindowTitle_GER();
external function string 255 RTMonWClassWindowTitle_GER();
external procedure SetupNightAuditWindowControls_GER(Boolean);
external procedure CURClassDefinitionGER();
external function real DrawPaymentModesButtons_IV_GER(real);
external function real FunctionButtons_GER(string);
external procedure CreditCardWindowHeader_GER(Boolean,Boolean,Real);
external procedure CreditCardWindowButtons_GER(string,string,real);
external procedure CreditCardWindowInvoiceDetail_GER(Real);
external procedure CreditCardWindowDeliveryDetail_GER(Real);
external function real DrawPaymentModesButtons_GER();
external procedure DrawBarMenuTiles_GER(string);
external procedure DrawRestPMOtherPay_GER();
external procedure DisplayRecordDetailsRA_GER(LongInt,LongInt,string,date,time,string,string,string,string,string,string,Integer,string,LongInt,Date,string,LongInt,string);
external procedure DrawModifierButtons2_GER(var integer,var integer);
external procedure OKCancel_GER();
external procedure DefineElearningURLCacheLClass_GER();
external procedure DefineElearningURLCacheDClass_GER();
external function real TravelLogDeductions_GER(real,real);
external procedure LoginButtons_GER(Real);
external procedure FORMDEF2_GER();
external procedure FORMDEF3_GER();
external procedure ARS2RClass_GER();
external procedure ALLVATRClass_GER();

// Language functions HEB
external function Boolean DisplayLoginKeyPad_HEB();
external function string 255 VATZoneEditFieldLabelHEB(Integer);
external function real VATZoneButtonsLabelsHEB(real,real,real,real);
external procedure LoginButtons2_HEB(Real,Real);
external procedure FORMDEF_HEB();
external function string 255 DemoMsgWClassTitle_HEB(Boolean,Boolean);
external procedure TBEClassDef_HEB();
external function string 255 VATZoneNameHEB();
external procedure TSERW_HEB();
external procedure TSERWNT_HEB();
external procedure TSERWTouch_HEB();
external procedure TSERWTEST_HEB();
external procedure INVFORM_HEB(Boolean);
external procedure DisplayRecordDetails_HEB(LongInt,LongInt,string,date,time,string,string,string,string,string,string,string,string,string,string,string,Integer,string,string,string,val,string,Boolean,string,string);
external procedure DrawPOSInterface_HEB(string,string,record POSButtonsVc,Integer,string,Integer);
external procedure DisplayRecordDetailsCustDisplay_HEB(LongInt,LongInt,string,date,time,string,string,string,string,string,string,Integer,string,string,string,val);
external function string 255 ResDayWClassWindowTitle_HEB();
external function string 255 ResMonWClassWindowTitle_HEB();
external function string 255 RTMonWClassWindowTitle_HEB();
external procedure SetupNightAuditWindowControls_HEB(Boolean);
external procedure CURClassDefinitionHEB();
external function real DrawPaymentModesButtons_IV_HEB(real);
external function real FunctionButtons_HEB(string);
external procedure CreditCardWindowHeader_HEB(Boolean,Boolean,Real);
external procedure CreditCardWindowButtons_HEB(string,string,real);
external procedure CreditCardWindowInvoiceDetail_HEB(Real);
external procedure CreditCardWindowDeliveryDetail_HEB(Real);
external function real DrawPaymentModesButtons_HEB();
external procedure DrawBarMenuTiles_HEB(string);
external procedure DrawRestPMOtherPay_HEB();
external procedure DisplayRecordDetailsRA_HEB(LongInt,LongInt,string,date,time,string,string,string,string,string,string,Integer,string,LongInt,Date,string,LongInt,string);
external procedure DrawModifierButtons2_HEB(var integer,var integer);
external procedure OKCancel_HEB();
external procedure DefineElearningURLCacheLClass_HEB();
external procedure DefineElearningURLCacheDClass_HEB();
external function real TravelLogDeductions_HEB(real,real);
external procedure LoginButtons_HEB(Real);
external procedure FORMDEF2_HEB();
external procedure FORMDEF3_HEB();
external procedure ARS2RClass_HEB();
external procedure ALLVATRClass_HEB();

// Language functions HUN
external function Boolean DisplayLoginKeyPad_HUN();
external function string 255 VATZoneEditFieldLabelHUN(Integer);
external function real VATZoneButtonsLabelsHUN(real,real,real,real);
external procedure LoginButtons2_HUN(Real,Real);
external procedure FORMDEF_HUN();
external function string 255 DemoMsgWClassTitle_HUN(Boolean,Boolean);
external procedure TBEClassDef_HUN();
external function string 255 VATZoneNameHUN();
external procedure TSERW_HUN();
external procedure TSERWNT_HUN();
external procedure TSERWTouch_HUN();
external procedure TSERWTEST_HUN();
external procedure INVFORM_HUN(Boolean);
external procedure DisplayRecordDetails_HUN(LongInt,LongInt,string,date,time,string,string,string,string,string,string,string,string,string,string,string,Integer,string,string,string,val,string,Boolean,string,string);
external procedure DrawPOSInterface_HUN(string,string,record POSButtonsVc,Integer,string,Integer);
external procedure DisplayRecordDetailsCustDisplay_HUN(LongInt,LongInt,string,date,time,string,string,string,string,string,string,Integer,string,string,string,val);
external function string 255 ResDayWClassWindowTitle_HUN();
external function string 255 ResMonWClassWindowTitle_HUN();
external function string 255 RTMonWClassWindowTitle_HUN();
external procedure SetupNightAuditWindowControls_HUN(Boolean);
external procedure CURClassDefinitionHUN();
external function real DrawPaymentModesButtons_IV_HUN(real);
external function real FunctionButtons_HUN(string);
external procedure CreditCardWindowHeader_HUN(Boolean,Boolean,Real);
external procedure CreditCardWindowButtons_HUN(string,string,real);
external procedure CreditCardWindowInvoiceDetail_HUN(Real);
external procedure CreditCardWindowDeliveryDetail_HUN(Real);
external function real DrawPaymentModesButtons_HUN();
external procedure DrawBarMenuTiles_HUN(string);
external procedure DrawRestPMOtherPay_HUN();
external procedure DisplayRecordDetailsRA_HUN(LongInt,LongInt,string,date,time,string,string,string,string,string,string,Integer,string,LongInt,Date,string,LongInt,string);
external procedure DrawModifierButtons2_HUN(var integer,var integer);
external procedure OKCancel_HUN();
external procedure DefineElearningURLCacheLClass_HUN();
external procedure DefineElearningURLCacheDClass_HUN();
external function real TravelLogDeductions_HUN(real,real);
external procedure LoginButtons_HUN(Real);
external procedure FORMDEF2_HUN();
external procedure FORMDEF3_HUN();
external procedure ARS2RClass_HUN();
external procedure ALLVATRClass_HUN();

// Language functions ICE
external function Boolean DisplayLoginKeyPad_ICE();
external function string 255 VATZoneEditFieldLabelICE(Integer);
external function real VATZoneButtonsLabelsICE(real,real,real,real);
external procedure LoginButtons2_ICE(Real,Real);
external procedure FORMDEF_ICE();
external function string 255 DemoMsgWClassTitle_ICE(Boolean,Boolean);
external procedure TBEClassDef_ICE();
external function string 255 VATZoneNameICE();
external procedure TSERW_ICE();
external procedure TSERWNT_ICE();
external procedure TSERWTouch_ICE();
external procedure TSERWTEST_ICE();
external procedure INVFORM_ICE(Boolean);
external procedure DisplayRecordDetails_ICE(LongInt,LongInt,string,date,time,string,string,string,string,string,string,string,string,string,string,string,Integer,string,string,string,val,string,Boolean,string,string);
external procedure DrawPOSInterface_ICE(string,string,record POSButtonsVc,Integer,string,Integer);
external procedure DisplayRecordDetailsCustDisplay_ICE(LongInt,LongInt,string,date,time,string,string,string,string,string,string,Integer,string,string,string,val);
external function string 255 ResDayWClassWindowTitle_ICE();
external function string 255 ResMonWClassWindowTitle_ICE();
external function string 255 RTMonWClassWindowTitle_ICE();
external procedure SetupNightAuditWindowControls_ICE(Boolean);
external procedure CURClassDefinitionICE();
external function real DrawPaymentModesButtons_IV_ICE(real);
external function real FunctionButtons_ICE(string);
external procedure CreditCardWindowHeader_ICE(Boolean,Boolean,Real);
external procedure CreditCardWindowButtons_ICE(string,string,real);
external procedure CreditCardWindowInvoiceDetail_ICE(Real);
external procedure CreditCardWindowDeliveryDetail_ICE(Real);
external function real DrawPaymentModesButtons_ICE();
external procedure DrawBarMenuTiles_ICE(string);
external procedure DrawRestPMOtherPay_ICE();
external procedure DisplayRecordDetailsRA_ICE(LongInt,LongInt,string,date,time,string,string,string,string,string,string,Integer,string,LongInt,Date,string,LongInt,string);
external procedure DrawModifierButtons2_ICE(var integer,var integer);
external procedure OKCancel_ICE();
external procedure DefineElearningURLCacheLClass_ICE();
external procedure DefineElearningURLCacheDClass_ICE();
external function real TravelLogDeductions_ICE(real,real);
external procedure LoginButtons_ICE(Real);
external procedure FORMDEF2_ICE();
external procedure FORMDEF3_ICE();
external procedure ARS2RClass_ICE();
external procedure ALLVATRClass_ICE();

// Language functions ITA
external function Boolean DisplayLoginKeyPad_ITA();
external function string 255 VATZoneEditFieldLabelITA(Integer);
external function real VATZoneButtonsLabelsITA(real,real,real,real);
external procedure LoginButtons2_ITA(Real,Real);
external procedure FORMDEF_ITA();
external function string 255 DemoMsgWClassTitle_ITA(Boolean,Boolean);
external procedure TBEClassDef_ITA();
external function string 255 VATZoneNameITA();
external procedure TSERW_ITA();
external procedure TSERWNT_ITA();
external procedure TSERWTouch_ITA();
external procedure TSERWTEST_ITA();
external procedure INVFORM_ITA(Boolean);
external procedure DisplayRecordDetails_ITA(LongInt,LongInt,string,date,time,string,string,string,string,string,string,string,string,string,string,string,Integer,string,string,string,val,string,Boolean,string,string);
external procedure DrawPOSInterface_ITA(string,string,record POSButtonsVc,Integer,string,Integer);
external procedure DisplayRecordDetailsCustDisplay_ITA(LongInt,LongInt,string,date,time,string,string,string,string,string,string,Integer,string,string,string,val);
external function string 255 ResDayWClassWindowTitle_ITA();
external function string 255 ResMonWClassWindowTitle_ITA();
external function string 255 RTMonWClassWindowTitle_ITA();
external procedure SetupNightAuditWindowControls_ITA(Boolean);
external procedure CURClassDefinitionITA();
external function real DrawPaymentModesButtons_IV_ITA(real);
external function real FunctionButtons_ITA(string);
external procedure CreditCardWindowHeader_ITA(Boolean,Boolean,Real);
external procedure CreditCardWindowButtons_ITA(string,string,real);
external procedure CreditCardWindowInvoiceDetail_ITA(Real);
external procedure CreditCardWindowDeliveryDetail_ITA(Real);
external function real DrawPaymentModesButtons_ITA();
external procedure DrawBarMenuTiles_ITA(string);
external procedure DrawRestPMOtherPay_ITA();
external procedure DisplayRecordDetailsRA_ITA(LongInt,LongInt,string,date,time,string,string,string,string,string,string,Integer,string,LongInt,Date,string,LongInt,string);
external procedure DrawModifierButtons2_ITA(var integer,var integer);
external procedure OKCancel_ITA();
external procedure DefineElearningURLCacheLClass_ITA();
external procedure DefineElearningURLCacheDClass_ITA();
external function real TravelLogDeductions_ITA(real,real);
external procedure LoginButtons_ITA(Real);
external procedure FORMDEF2_ITA();
external procedure FORMDEF3_ITA();
external procedure ARS2RClass_ITA();
external procedure ALLVATRClass_ITA();

// Language functions KEE
external function Boolean DisplayLoginKeyPad_KEE();
external function string 255 VATZoneEditFieldLabelKEE(Integer);
external function real VATZoneButtonsLabelsKEE(real,real,real,real);
external procedure LoginButtons2_KEE(Real,Real);
external procedure FORMDEF_KEE();
external function string 255 DemoMsgWClassTitle_KEE(Boolean,Boolean);
external procedure TBEClassDef_KEE();
external function string 255 VATZoneNameKEE();
external procedure TSERW_KEE();
external procedure TSERWNT_KEE();
external procedure TSERWTouch_KEE();
external procedure TSERWTEST_KEE();
external procedure INVFORM_KEE(Boolean);
external procedure DisplayRecordDetails_KEE(LongInt,LongInt,string,date,time,string,string,string,string,string,string,string,string,string,string,string,Integer,string,string,string,val,string,Boolean,string,string);
external procedure DrawPOSInterface_KEE(string,string,record POSButtonsVc,Integer,string,Integer);
external procedure DisplayRecordDetailsCustDisplay_KEE(LongInt,LongInt,string,date,time,string,string,string,string,string,string,Integer,string,string,string,val);
external function string 255 ResDayWClassWindowTitle_KEE();
external function string 255 ResMonWClassWindowTitle_KEE();
external function string 255 RTMonWClassWindowTitle_KEE();
external procedure SetupNightAuditWindowControls_KEE(Boolean);
external procedure CURClassDefinitionKEE();
external function real DrawPaymentModesButtons_IV_KEE(real);
external function real FunctionButtons_KEE(string);
external procedure CreditCardWindowHeader_KEE(Boolean,Boolean,Real);
external procedure CreditCardWindowButtons_KEE(string,string,real);
external procedure CreditCardWindowInvoiceDetail_KEE(Real);
external procedure CreditCardWindowDeliveryDetail_KEE(Real);
external function real DrawPaymentModesButtons_KEE();
external procedure DrawBarMenuTiles_KEE(string);
external procedure DrawRestPMOtherPay_KEE();
external procedure DisplayRecordDetailsRA_KEE(LongInt,LongInt,string,date,time,string,string,string,string,string,string,Integer,string,LongInt,Date,string,LongInt,string);
external procedure DrawModifierButtons2_KEE(var integer,var integer);
external procedure OKCancel_KEE();
external procedure DefineElearningURLCacheLClass_KEE();
external procedure DefineElearningURLCacheDClass_KEE();
external function real TravelLogDeductions_KEE(real,real);
external procedure LoginButtons_KEE(Real);
external procedure FORMDEF2_KEE();
external procedure FORMDEF3_KEE();
external procedure ARS2RClass_KEE();
external procedure ALLVATRClass_KEE();

// Language functions LAT
external function Boolean DisplayLoginKeyPad_LAT();
external function string 255 VATZoneEditFieldLabelLAT(Integer);
external function real VATZoneButtonsLabelsLAT(real,real,real,real);
external procedure LoginButtons2_LAT(Real,Real);
external procedure FORMDEF_LAT();
external function string 255 DemoMsgWClassTitle_LAT(Boolean,Boolean);
external procedure TBEClassDef_LAT();
external function string 255 VATZoneNameLAT();
external procedure TSERW_LAT();
external procedure TSERWNT_LAT();
external procedure TSERWTouch_LAT();
external procedure TSERWTEST_LAT();
external procedure INVFORM_LAT(Boolean);
external procedure DisplayRecordDetails_LAT(LongInt,LongInt,string,date,time,string,string,string,string,string,string,string,string,string,string,string,Integer,string,string,string,val,string,Boolean,string,string);
external procedure DrawPOSInterface_LAT(string,string,record POSButtonsVc,Integer,string,Integer);
external procedure DisplayRecordDetailsCustDisplay_LAT(LongInt,LongInt,string,date,time,string,string,string,string,string,string,Integer,string,string,string,val);
external function string 255 ResDayWClassWindowTitle_LAT();
external function string 255 ResMonWClassWindowTitle_LAT();
external function string 255 RTMonWClassWindowTitle_LAT();
external procedure SetupNightAuditWindowControls_LAT(Boolean);
external procedure CURClassDefinitionLAT();
external function real DrawPaymentModesButtons_IV_LAT(real);
external function real FunctionButtons_LAT(string);
external procedure CreditCardWindowHeader_LAT(Boolean,Boolean,Real);
external procedure CreditCardWindowButtons_LAT(string,string,real);
external procedure CreditCardWindowInvoiceDetail_LAT(Real);
external procedure CreditCardWindowDeliveryDetail_LAT(Real);
external function real DrawPaymentModesButtons_LAT();
external procedure DrawBarMenuTiles_LAT(string);
external procedure DrawRestPMOtherPay_LAT();
external procedure DisplayRecordDetailsRA_LAT(LongInt,LongInt,string,date,time,string,string,string,string,string,string,Integer,string,LongInt,Date,string,LongInt,string);
external procedure DrawModifierButtons2_LAT(var integer,var integer);
external procedure OKCancel_LAT();
external procedure DefineElearningURLCacheLClass_LAT();
external procedure DefineElearningURLCacheDClass_LAT();
external function real TravelLogDeductions_LAT(real,real);
external procedure LoginButtons_LAT(Real);
external procedure FORMDEF2_LAT();
external procedure FORMDEF3_LAT();
external procedure ARS2RClass_LAT();
external procedure ALLVATRClass_LAT();

// Language functions LIT
external function Boolean DisplayLoginKeyPad_LIT();
external function string 255 VATZoneEditFieldLabelLIT(Integer);
external function real VATZoneButtonsLabelsLIT(real,real,real,real);
external procedure LoginButtons2_LIT(Real,Real);
external procedure FORMDEF_LIT();
external function string 255 DemoMsgWClassTitle_LIT(Boolean,Boolean);
external procedure TBEClassDef_LIT();
external function string 255 VATZoneNameLIT();
external procedure TSERW_LIT();
external procedure TSERWNT_LIT();
external procedure TSERWTouch_LIT();
external procedure TSERWTEST_LIT();
external procedure INVFORM_LIT(Boolean);
external procedure DisplayRecordDetails_LIT(LongInt,LongInt,string,date,time,string,string,string,string,string,string,string,string,string,string,string,Integer,string,string,string,val,string,Boolean,string,string);
external procedure DrawPOSInterface_LIT(string,string,record POSButtonsVc,Integer,string,Integer);
external procedure DisplayRecordDetailsCustDisplay_LIT(LongInt,LongInt,string,date,time,string,string,string,string,string,string,Integer,string,string,string,val);
external function string 255 ResDayWClassWindowTitle_LIT();
external function string 255 ResMonWClassWindowTitle_LIT();
external function string 255 RTMonWClassWindowTitle_LIT();
external procedure SetupNightAuditWindowControls_LIT(Boolean);
external procedure CURClassDefinitionLIT();
external function real DrawPaymentModesButtons_IV_LIT(real);
external function real FunctionButtons_LIT(string);
external procedure CreditCardWindowHeader_LIT(Boolean,Boolean,Real);
external procedure CreditCardWindowButtons_LIT(string,string,real);
external procedure CreditCardWindowInvoiceDetail_LIT(Real);
external procedure CreditCardWindowDeliveryDetail_LIT(Real);
external function real DrawPaymentModesButtons_LIT();
external procedure DrawBarMenuTiles_LIT(string);
external procedure DrawRestPMOtherPay_LIT();
external procedure DisplayRecordDetailsRA_LIT(LongInt,LongInt,string,date,time,string,string,string,string,string,string,Integer,string,LongInt,Date,string,LongInt,string);
external procedure DrawModifierButtons2_LIT(var integer,var integer);
external procedure OKCancel_LIT();
external procedure DefineElearningURLCacheLClass_LIT();
external procedure DefineElearningURLCacheDClass_LIT();
external function real TravelLogDeductions_LIT(real,real);
external procedure LoginButtons_LIT(Real);
external procedure FORMDEF2_LIT();
external procedure FORMDEF3_LIT();
external procedure ARS2RClass_LIT();
external procedure ALLVATRClass_LIT();

// Language functions NOR
external function Boolean DisplayLoginKeyPad_NOR();
external function string 255 VATZoneEditFieldLabelNOR(Integer);
external function real VATZoneButtonsLabelsNOR(real,real,real,real);
external procedure LoginButtons2_NOR(Real,Real);
external procedure FORMDEF_NOR();
external function string 255 DemoMsgWClassTitle_NOR(Boolean,Boolean);
external procedure TBEClassDef_NOR();
external function string 255 VATZoneNameNOR();
external procedure TSERW_NOR();
external procedure TSERWNT_NOR();
external procedure TSERWTouch_NOR();
external procedure TSERWTEST_NOR();
external procedure INVFORM_NOR(Boolean);
external procedure DisplayRecordDetails_NOR(LongInt,LongInt,string,date,time,string,string,string,string,string,string,string,string,string,string,string,Integer,string,string,string,val,string,Boolean,string,string);
external procedure DrawPOSInterface_NOR(string,string,record POSButtonsVc,Integer,string,Integer);
external procedure DisplayRecordDetailsCustDisplay_NOR(LongInt,LongInt,string,date,time,string,string,string,string,string,string,Integer,string,string,string,val);
external function string 255 ResDayWClassWindowTitle_NOR();
external function string 255 ResMonWClassWindowTitle_NOR();
external function string 255 RTMonWClassWindowTitle_NOR();
external procedure SetupNightAuditWindowControls_NOR(Boolean);
external procedure CURClassDefinitionNOR();
external function real DrawPaymentModesButtons_IV_NOR(real);
external function real FunctionButtons_NOR(string);
external procedure CreditCardWindowHeader_NOR(Boolean,Boolean,Real);
external procedure CreditCardWindowButtons_NOR(string,string,real);
external procedure CreditCardWindowInvoiceDetail_NOR(Real);
external procedure CreditCardWindowDeliveryDetail_NOR(Real);
external function real DrawPaymentModesButtons_NOR();
external procedure DrawBarMenuTiles_NOR(string);
external procedure DrawRestPMOtherPay_NOR();
external procedure DisplayRecordDetailsRA_NOR(LongInt,LongInt,string,date,time,string,string,string,string,string,string,Integer,string,LongInt,Date,string,LongInt,string);
external procedure DrawModifierButtons2_NOR(var integer,var integer);
external procedure OKCancel_NOR();
external procedure DefineElearningURLCacheLClass_NOR();
external procedure DefineElearningURLCacheDClass_NOR();
external function real TravelLogDeductions_NOR(real,real);
external procedure LoginButtons_NOR(Real);
external procedure FORMDEF2_NOR();
external procedure FORMDEF3_NOR();
external procedure ARS2RClass_NOR();
external procedure ALLVATRClass_NOR();

// Language functions NZE
external function Boolean DisplayLoginKeyPad_NZE();
external function string 255 VATZoneEditFieldLabelNZE(Integer);
external function real VATZoneButtonsLabelsNZE(real,real,real,real);
external procedure LoginButtons2_NZE(Real,Real);
external procedure FORMDEF_NZE();
external function string 255 DemoMsgWClassTitle_NZE(Boolean,Boolean);
external procedure TBEClassDef_NZE();
external function string 255 VATZoneNameNZE();
external procedure TSERW_NZE();
external procedure TSERWNT_NZE();
external procedure TSERWTouch_NZE();
external procedure TSERWTEST_NZE();
external procedure INVFORM_NZE(Boolean);
external procedure DisplayRecordDetails_NZE(LongInt,LongInt,string,date,time,string,string,string,string,string,string,string,string,string,string,string,Integer,string,string,string,val,string,Boolean,string,string);
external procedure DrawPOSInterface_NZE(string,string,record POSButtonsVc,Integer,string,Integer);
external procedure DisplayRecordDetailsCustDisplay_NZE(LongInt,LongInt,string,date,time,string,string,string,string,string,string,Integer,string,string,string,val);
external function string 255 ResDayWClassWindowTitle_NZE();
external function string 255 ResMonWClassWindowTitle_NZE();
external function string 255 RTMonWClassWindowTitle_NZE();
external procedure SetupNightAuditWindowControls_NZE(Boolean);
external procedure CURClassDefinitionNZE();
external function real DrawPaymentModesButtons_IV_NZE(real);
external function real FunctionButtons_NZE(string);
external procedure CreditCardWindowHeader_NZE(Boolean,Boolean,Real);
external procedure CreditCardWindowButtons_NZE(string,string,real);
external procedure CreditCardWindowInvoiceDetail_NZE(Real);
external procedure CreditCardWindowDeliveryDetail_NZE(Real);
external function real DrawPaymentModesButtons_NZE();
external procedure DrawBarMenuTiles_NZE(string);
external procedure DrawRestPMOtherPay_NZE();
external procedure DisplayRecordDetailsRA_NZE(LongInt,LongInt,string,date,time,string,string,string,string,string,string,Integer,string,LongInt,Date,string,LongInt,string);
external procedure DrawModifierButtons2_NZE(var integer,var integer);
external procedure OKCancel_NZE();
external procedure DefineElearningURLCacheLClass_NZE();
external procedure DefineElearningURLCacheDClass_NZE();
external function real TravelLogDeductions_NZE(real,real);
external procedure LoginButtons_NZE(Real);
external procedure FORMDEF2_NZE();
external procedure FORMDEF3_NZE();
external procedure ARS2RClass_NZE();
external procedure ALLVATRClass_NZE();

// Language functions PHE
external function Boolean DisplayLoginKeyPad_PHE();
external function string 255 VATZoneEditFieldLabelPHE(Integer);
external function real VATZoneButtonsLabelsPHE(real,real,real,real);
external procedure LoginButtons2_PHE(Real,Real);
external procedure FORMDEF_PHE();
external function string 255 DemoMsgWClassTitle_PHE(Boolean,Boolean);
external procedure TBEClassDef_PHE();
external function string 255 VATZoneNamePHE();
external procedure TSERW_PHE();
external procedure TSERWNT_PHE();
external procedure TSERWTouch_PHE();
external procedure TSERWTEST_PHE();
external procedure INVFORM_PHE(Boolean);
external procedure DisplayRecordDetails_PHE(LongInt,LongInt,string,date,time,string,string,string,string,string,string,string,string,string,string,string,Integer,string,string,string,val,string,Boolean,string,string);
external procedure DrawPOSInterface_PHE(string,string,record POSButtonsVc,Integer,string,Integer);
external procedure DisplayRecordDetailsCustDisplay_PHE(LongInt,LongInt,string,date,time,string,string,string,string,string,string,Integer,string,string,string,val);
external function string 255 ResDayWClassWindowTitle_PHE();
external function string 255 ResMonWClassWindowTitle_PHE();
external function string 255 RTMonWClassWindowTitle_PHE();
external procedure SetupNightAuditWindowControls_PHE(Boolean);
external procedure CURClassDefinitionPHE();
external function real DrawPaymentModesButtons_IV_PHE(real);
external function real FunctionButtons_PHE(string);
external procedure CreditCardWindowHeader_PHE(Boolean,Boolean,Real);
external procedure CreditCardWindowButtons_PHE(string,string,real);
external procedure CreditCardWindowInvoiceDetail_PHE(Real);
external procedure CreditCardWindowDeliveryDetail_PHE(Real);
external function real DrawPaymentModesButtons_PHE();
external procedure DrawBarMenuTiles_PHE(string);
external procedure DrawRestPMOtherPay_PHE();
external procedure DisplayRecordDetailsRA_PHE(LongInt,LongInt,string,date,time,string,string,string,string,string,string,Integer,string,LongInt,Date,string,LongInt,string);
external procedure DrawModifierButtons2_PHE(var integer,var integer);
external procedure OKCancel_PHE();
external procedure DefineElearningURLCacheLClass_PHE();
external procedure DefineElearningURLCacheDClass_PHE();
external function real TravelLogDeductions_PHE(real,real);
external procedure LoginButtons_PHE(Real);
external procedure FORMDEF2_PHE();
external procedure FORMDEF3_PHE();
external procedure ARS2RClass_PHE();
external procedure ALLVATRClass_PHE();

// Language functions POL
external function Boolean DisplayLoginKeyPad_POL();
external function string 255 VATZoneEditFieldLabelPOL(Integer);
external function real VATZoneButtonsLabelsPOL(real,real,real,real);
external procedure LoginButtons2_POL(Real,Real);
external procedure FORMDEF_POL();
external function string 255 DemoMsgWClassTitle_POL(Boolean,Boolean);
external procedure TBEClassDef_POL();
external function string 255 VATZoneNamePOL();
external procedure TSERW_POL();
external procedure TSERWNT_POL();
external procedure TSERWTouch_POL();
external procedure TSERWTEST_POL();
external procedure INVFORM_POL(Boolean);
external procedure DisplayRecordDetails_POL(LongInt,LongInt,string,date,time,string,string,string,string,string,string,string,string,string,string,string,Integer,string,string,string,val,string,Boolean,string,string);
external procedure DrawPOSInterface_POL(string,string,record POSButtonsVc,Integer,string,Integer);
external procedure DisplayRecordDetailsCustDisplay_POL(LongInt,LongInt,string,date,time,string,string,string,string,string,string,Integer,string,string,string,val);
external function string 255 ResDayWClassWindowTitle_POL();
external function string 255 ResMonWClassWindowTitle_POL();
external function string 255 RTMonWClassWindowTitle_POL();
external procedure SetupNightAuditWindowControls_POL(Boolean);
external procedure CURClassDefinitionPOL();
external function real DrawPaymentModesButtons_IV_POL(real);
external function real FunctionButtons_POL(string);
external procedure CreditCardWindowHeader_POL(Boolean,Boolean,Real);
external procedure CreditCardWindowButtons_POL(string,string,real);
external procedure CreditCardWindowInvoiceDetail_POL(Real);
external procedure CreditCardWindowDeliveryDetail_POL(Real);
external function real DrawPaymentModesButtons_POL();
external procedure DrawBarMenuTiles_POL(string);
external procedure DrawRestPMOtherPay_POL();
external procedure DisplayRecordDetailsRA_POL(LongInt,LongInt,string,date,time,string,string,string,string,string,string,Integer,string,LongInt,Date,string,LongInt,string);
external procedure DrawModifierButtons2_POL(var integer,var integer);
external procedure OKCancel_POL();
external procedure DefineElearningURLCacheLClass_POL();
external procedure DefineElearningURLCacheDClass_POL();
external function real TravelLogDeductions_POL(real,real);
external procedure LoginButtons_POL(Real);
external procedure FORMDEF2_POL();
external procedure FORMDEF3_POL();
external procedure ARS2RClass_POL();
external procedure ALLVATRClass_POL();

// Language functions POR
external function Boolean DisplayLoginKeyPad_POR();
external function string 255 VATZoneEditFieldLabelPOR(Integer);
external function real VATZoneButtonsLabelsPOR(real,real,real,real);
external procedure LoginButtons2_POR(Real,Real);
external procedure FORMDEF_POR();
external function string 255 DemoMsgWClassTitle_POR(Boolean,Boolean);
external procedure TBEClassDef_POR();
external function string 255 VATZoneNamePOR();
external procedure TSERW_POR();
external procedure TSERWNT_POR();
external procedure TSERWTouch_POR();
external procedure TSERWTEST_POR();
external procedure INVFORM_POR(Boolean);
external procedure DisplayRecordDetails_POR(LongInt,LongInt,string,date,time,string,string,string,string,string,string,string,string,string,string,string,Integer,string,string,string,val,string,Boolean,string,string);
external procedure DrawPOSInterface_POR(string,string,record POSButtonsVc,Integer,string,Integer);
external procedure DisplayRecordDetailsCustDisplay_POR(LongInt,LongInt,string,date,time,string,string,string,string,string,string,Integer,string,string,string,val);
external function string 255 ResDayWClassWindowTitle_POR();
external function string 255 ResMonWClassWindowTitle_POR();
external function string 255 RTMonWClassWindowTitle_POR();
external procedure SetupNightAuditWindowControls_POR(Boolean);
external procedure CURClassDefinitionPOR();
external function real DrawPaymentModesButtons_IV_POR(real);
external function real FunctionButtons_POR(string);
external procedure CreditCardWindowHeader_POR(Boolean,Boolean,Real);
external procedure CreditCardWindowButtons_POR(string,string,real);
external procedure CreditCardWindowInvoiceDetail_POR(Real);
external procedure CreditCardWindowDeliveryDetail_POR(Real);
external function real DrawPaymentModesButtons_POR();
external procedure DrawBarMenuTiles_POR(string);
external procedure DrawRestPMOtherPay_POR();
external procedure DisplayRecordDetailsRA_POR(LongInt,LongInt,string,date,time,string,string,string,string,string,string,Integer,string,LongInt,Date,string,LongInt,string);
external procedure DrawModifierButtons2_POR(var integer,var integer);
external procedure OKCancel_POR();
external procedure DefineElearningURLCacheLClass_POR();
external procedure DefineElearningURLCacheDClass_POR();
external function real TravelLogDeductions_POR(real,real);
external procedure LoginButtons_POR(Real);
external procedure FORMDEF2_POR();
external procedure FORMDEF3_POR();
external procedure ARS2RClass_POR();
external procedure ALLVATRClass_POR();

// Language functions ROM
external function Boolean DisplayLoginKeyPad_ROM();
external function string 255 VATZoneEditFieldLabelROM(Integer);
external function real VATZoneButtonsLabelsROM(real,real,real,real);
external procedure LoginButtons2_ROM(Real,Real);
external procedure FORMDEF_ROM();
external function string 255 DemoMsgWClassTitle_ROM(Boolean,Boolean);
external procedure TBEClassDef_ROM();
external function string 255 VATZoneNameROM();
external procedure TSERW_ROM();
external procedure TSERWNT_ROM();
external procedure TSERWTouch_ROM();
external procedure TSERWTEST_ROM();
external procedure INVFORM_ROM(Boolean);
external procedure DisplayRecordDetails_ROM(LongInt,LongInt,string,date,time,string,string,string,string,string,string,string,string,string,string,string,Integer,string,string,string,val,string,Boolean,string,string);
external procedure DrawPOSInterface_ROM(string,string,record POSButtonsVc,Integer,string,Integer);
external procedure DisplayRecordDetailsCustDisplay_ROM(LongInt,LongInt,string,date,time,string,string,string,string,string,string,Integer,string,string,string,val);
external function string 255 ResDayWClassWindowTitle_ROM();
external function string 255 ResMonWClassWindowTitle_ROM();
external function string 255 RTMonWClassWindowTitle_ROM();
external procedure SetupNightAuditWindowControls_ROM(Boolean);
external procedure CURClassDefinitionROM();
external function real DrawPaymentModesButtons_IV_ROM(real);
external function real FunctionButtons_ROM(string);
external procedure CreditCardWindowHeader_ROM(Boolean,Boolean,Real);
external procedure CreditCardWindowButtons_ROM(string,string,real);
external procedure CreditCardWindowInvoiceDetail_ROM(Real);
external procedure CreditCardWindowDeliveryDetail_ROM(Real);
external function real DrawPaymentModesButtons_ROM();
external procedure DrawBarMenuTiles_ROM(string);
external procedure DrawRestPMOtherPay_ROM();
external procedure DisplayRecordDetailsRA_ROM(LongInt,LongInt,string,date,time,string,string,string,string,string,string,Integer,string,LongInt,Date,string,LongInt,string);
external procedure DrawModifierButtons2_ROM(var integer,var integer);
external procedure OKCancel_ROM();
external procedure DefineElearningURLCacheLClass_ROM();
external procedure DefineElearningURLCacheDClass_ROM();
external function real TravelLogDeductions_ROM(real,real);
external procedure LoginButtons_ROM(Real);
external procedure FORMDEF2_ROM();
external procedure FORMDEF3_ROM();
external procedure ARS2RClass_ROM();
external procedure ALLVATRClass_ROM();

// Language functions RUS
external function Boolean DisplayLoginKeyPad_RUS();
external function string 255 VATZoneEditFieldLabelRUS(Integer);
external function real VATZoneButtonsLabelsRUS(real,real,real,real);
external procedure LoginButtons2_RUS(Real,Real);
external procedure FORMDEF_RUS();
external function string 255 DemoMsgWClassTitle_RUS(Boolean,Boolean);
external procedure TBEClassDef_RUS();
external function string 255 VATZoneNameRUS();
external procedure TSERW_RUS();
external procedure TSERWNT_RUS();
external procedure TSERWTouch_RUS();
external procedure TSERWTEST_RUS();
external procedure INVFORM_RUS(Boolean);
external procedure DisplayRecordDetails_RUS(LongInt,LongInt,string,date,time,string,string,string,string,string,string,string,string,string,string,string,Integer,string,string,string,val,string,Boolean,string,string);
external procedure DrawPOSInterface_RUS(string,string,record POSButtonsVc,Integer,string,Integer);
external procedure DisplayRecordDetailsCustDisplay_RUS(LongInt,LongInt,string,date,time,string,string,string,string,string,string,Integer,string,string,string,val);
external function string 255 ResDayWClassWindowTitle_RUS();
external function string 255 ResMonWClassWindowTitle_RUS();
external function string 255 RTMonWClassWindowTitle_RUS();
external procedure SetupNightAuditWindowControls_RUS(Boolean);
external procedure CURClassDefinitionRUS();
external function real DrawPaymentModesButtons_IV_RUS(real);
external function real FunctionButtons_RUS(string);
external procedure CreditCardWindowHeader_RUS(Boolean,Boolean,Real);
external procedure CreditCardWindowButtons_RUS(string,string,real);
external procedure CreditCardWindowInvoiceDetail_RUS(Real);
external procedure CreditCardWindowDeliveryDetail_RUS(Real);
external function real DrawPaymentModesButtons_RUS();
external procedure DrawBarMenuTiles_RUS(string);
external procedure DrawRestPMOtherPay_RUS();
external procedure DisplayRecordDetailsRA_RUS(LongInt,LongInt,string,date,time,string,string,string,string,string,string,Integer,string,LongInt,Date,string,LongInt,string);
external procedure DrawModifierButtons2_RUS(var integer,var integer);
external procedure OKCancel_RUS();
external procedure DefineElearningURLCacheLClass_RUS();
external procedure DefineElearningURLCacheDClass_RUS();
external function real TravelLogDeductions_RUS(real,real);
external procedure LoginButtons_RUS(Real);
external procedure FORMDEF2_RUS();
external procedure FORMDEF3_RUS();
external procedure ARS2RClass_RUS();
external procedure ALLVATRClass_RUS();

// Language functions SAF
external function Boolean DisplayLoginKeyPad_SAF();
external function string 255 VATZoneEditFieldLabelSAF(Integer);
external function real VATZoneButtonsLabelsSAF(real,real,real,real);
external procedure LoginButtons2_SAF(Real,Real);
external procedure FORMDEF_SAF();
external function string 255 DemoMsgWClassTitle_SAF(Boolean,Boolean);
external procedure TBEClassDef_SAF();
external function string 255 VATZoneNameSAF();
external procedure TSERW_SAF();
external procedure TSERWNT_SAF();
external procedure TSERWTouch_SAF();
external procedure TSERWTEST_SAF();
external procedure INVFORM_SAF(Boolean);
external procedure DisplayRecordDetails_SAF(LongInt,LongInt,string,date,time,string,string,string,string,string,string,string,string,string,string,string,Integer,string,string,string,val,string,Boolean,string,string);
external procedure DrawPOSInterface_SAF(string,string,record POSButtonsVc,Integer,string,Integer);
external procedure DisplayRecordDetailsCustDisplay_SAF(LongInt,LongInt,string,date,time,string,string,string,string,string,string,Integer,string,string,string,val);
external function string 255 ResDayWClassWindowTitle_SAF();
external function string 255 ResMonWClassWindowTitle_SAF();
external function string 255 RTMonWClassWindowTitle_SAF();
external procedure SetupNightAuditWindowControls_SAF(Boolean);
external procedure CURClassDefinitionSAF();
external function real DrawPaymentModesButtons_IV_SAF(real);
external function real FunctionButtons_SAF(string);
external procedure CreditCardWindowHeader_SAF(Boolean,Boolean,Real);
external procedure CreditCardWindowButtons_SAF(string,string,real);
external procedure CreditCardWindowInvoiceDetail_SAF(Real);
external procedure CreditCardWindowDeliveryDetail_SAF(Real);
external function real DrawPaymentModesButtons_SAF();
external procedure DrawBarMenuTiles_SAF(string);
external procedure DrawRestPMOtherPay_SAF();
external procedure DisplayRecordDetailsRA_SAF(LongInt,LongInt,string,date,time,string,string,string,string,string,string,Integer,string,LongInt,Date,string,LongInt,string);
external procedure DrawModifierButtons2_SAF(var integer,var integer);
external procedure OKCancel_SAF();
external procedure DefineElearningURLCacheLClass_SAF();
external procedure DefineElearningURLCacheDClass_SAF();
external function real TravelLogDeductions_SAF(real,real);
external procedure LoginButtons_SAF(Real);
external procedure FORMDEF2_SAF();
external procedure FORMDEF3_SAF();
external procedure ARS2RClass_SAF();
external procedure ALLVATRClass_SAF();

// Language functions SER
external function Boolean DisplayLoginKeyPad_SER();
external function string 255 VATZoneEditFieldLabelSER(Integer);
external function real VATZoneButtonsLabelsSER(real,real,real,real);
external procedure LoginButtons2_SER(Real,Real);
external procedure FORMDEF_SER();
external function string 255 DemoMsgWClassTitle_SER(Boolean,Boolean);
external procedure TBEClassDef_SER();
external function string 255 VATZoneNameSER();
external procedure TSERW_SER();
external procedure TSERWNT_SER();
external procedure TSERWTouch_SER();
external procedure TSERWTEST_SER();
external procedure INVFORM_SER(Boolean);
external procedure DisplayRecordDetails_SER(LongInt,LongInt,string,date,time,string,string,string,string,string,string,string,string,string,string,string,Integer,string,string,string,val,string,Boolean,string,string);
external procedure DrawPOSInterface_SER(string,string,record POSButtonsVc,Integer,string,Integer);
external procedure DisplayRecordDetailsCustDisplay_SER(LongInt,LongInt,string,date,time,string,string,string,string,string,string,Integer,string,string,string,val);
external function string 255 ResDayWClassWindowTitle_SER();
external function string 255 ResMonWClassWindowTitle_SER();
external function string 255 RTMonWClassWindowTitle_SER();
external procedure SetupNightAuditWindowControls_SER(Boolean);
external procedure CURClassDefinitionSER();
external function real DrawPaymentModesButtons_IV_SER(real);
external function real FunctionButtons_SER(string);
external procedure CreditCardWindowHeader_SER(Boolean,Boolean,Real);
external procedure CreditCardWindowButtons_SER(string,string,real);
external procedure CreditCardWindowInvoiceDetail_SER(Real);
external procedure CreditCardWindowDeliveryDetail_SER(Real);
external function real DrawPaymentModesButtons_SER();
external procedure DrawBarMenuTiles_SER(string);
external procedure DrawRestPMOtherPay_SER();
external procedure DisplayRecordDetailsRA_SER(LongInt,LongInt,string,date,time,string,string,string,string,string,string,Integer,string,LongInt,Date,string,LongInt,string);
external procedure DrawModifierButtons2_SER(var integer,var integer);
external procedure OKCancel_SER();
external procedure DefineElearningURLCacheLClass_SER();
external procedure DefineElearningURLCacheDClass_SER();
external function real TravelLogDeductions_SER(real,real);
external procedure LoginButtons_SER(Real);
external procedure FORMDEF2_SER();
external procedure FORMDEF3_SER();
external procedure ARS2RClass_SER();
external procedure ALLVATRClass_SER();

// Language functions SGP
external function Boolean DisplayLoginKeyPad_SGP();
external function string 255 VATZoneEditFieldLabelSGP(Integer);
external function real VATZoneButtonsLabelsSGP(real,real,real,real);
external procedure LoginButtons2_SGP(Real,Real);
external procedure FORMDEF_SGP();
external function string 255 DemoMsgWClassTitle_SGP(Boolean,Boolean);
external procedure TBEClassDef_SGP();
external function string 255 VATZoneNameSGP();
external procedure TSERW_SGP();
external procedure TSERWNT_SGP();
external procedure TSERWTouch_SGP();
external procedure TSERWTEST_SGP();
external procedure INVFORM_SGP(Boolean);
external procedure DisplayRecordDetails_SGP(LongInt,LongInt,string,date,time,string,string,string,string,string,string,string,string,string,string,string,Integer,string,string,string,val,string,Boolean,string,string);
external procedure DrawPOSInterface_SGP(string,string,record POSButtonsVc,Integer,string,Integer);
external procedure DisplayRecordDetailsCustDisplay_SGP(LongInt,LongInt,string,date,time,string,string,string,string,string,string,Integer,string,string,string,val);
external function string 255 ResDayWClassWindowTitle_SGP();
external function string 255 ResMonWClassWindowTitle_SGP();
external function string 255 RTMonWClassWindowTitle_SGP();
external procedure SetupNightAuditWindowControls_SGP(Boolean);
external procedure CURClassDefinitionSGP();
external function real DrawPaymentModesButtons_IV_SGP(real);
external function real FunctionButtons_SGP(string);
external procedure CreditCardWindowHeader_SGP(Boolean,Boolean,Real);
external procedure CreditCardWindowButtons_SGP(string,string,real);
external procedure CreditCardWindowInvoiceDetail_SGP(Real);
external procedure CreditCardWindowDeliveryDetail_SGP(Real);
external function real DrawPaymentModesButtons_SGP();
external procedure DrawBarMenuTiles_SGP(string);
external procedure DrawRestPMOtherPay_SGP();
external procedure DisplayRecordDetailsRA_SGP(LongInt,LongInt,string,date,time,string,string,string,string,string,string,Integer,string,LongInt,Date,string,LongInt,string);
external procedure DrawModifierButtons2_SGP(var integer,var integer);
external procedure OKCancel_SGP();
external procedure DefineElearningURLCacheLClass_SGP();
external procedure DefineElearningURLCacheDClass_SGP();
external function real TravelLogDeductions_SGP(real,real);
external procedure LoginButtons_SGP(Real);
external procedure FORMDEF2_SGP();
external procedure FORMDEF3_SGP();
external procedure ARS2RClass_SGP();
external procedure ALLVATRClass_SGP();

// Language functions SWE
external function Boolean DisplayLoginKeyPad_SWE();
external function string 255 VATZoneEditFieldLabelSWE(Integer);
external function real VATZoneButtonsLabelsSWE(real,real,real,real);
external procedure LoginButtons2_SWE(Real,Real);
external procedure FORMDEF_SWE();
external function string 255 DemoMsgWClassTitle_SWE(Boolean,Boolean);
external procedure TBEClassDef_SWE();
external function string 255 VATZoneNameSWE();
external procedure TSERW_SWE();
external procedure TSERWNT_SWE();
external procedure TSERWTouch_SWE();
external procedure TSERWTEST_SWE();
external procedure INVFORM_SWE(Boolean);
external procedure DisplayRecordDetails_SWE(LongInt,LongInt,string,date,time,string,string,string,string,string,string,string,string,string,string,string,Integer,string,string,string,val,string,Boolean,string,string);
external procedure DrawPOSInterface_SWE(string,string,record POSButtonsVc,Integer,string,Integer);
external procedure DisplayRecordDetailsCustDisplay_SWE(LongInt,LongInt,string,date,time,string,string,string,string,string,string,Integer,string,string,string,val);
external function string 255 ResDayWClassWindowTitle_SWE();
external function string 255 ResMonWClassWindowTitle_SWE();
external function string 255 RTMonWClassWindowTitle_SWE();
external procedure SetupNightAuditWindowControls_SWE(Boolean);
external procedure CURClassDefinitionSWE();
external function real DrawPaymentModesButtons_IV_SWE(real);
external function real FunctionButtons_SWE(string);
external procedure CreditCardWindowHeader_SWE(Boolean,Boolean,Real);
external procedure CreditCardWindowButtons_SWE(string,string,real);
external procedure CreditCardWindowInvoiceDetail_SWE(Real);
external procedure CreditCardWindowDeliveryDetail_SWE(Real);
external function real DrawPaymentModesButtons_SWE();
external procedure DrawBarMenuTiles_SWE(string);
external procedure DrawRestPMOtherPay_SWE();
external procedure DisplayRecordDetailsRA_SWE(LongInt,LongInt,string,date,time,string,string,string,string,string,string,Integer,string,LongInt,Date,string,LongInt,string);
external procedure DrawModifierButtons2_SWE(var integer,var integer);
external procedure OKCancel_SWE();
external procedure DefineElearningURLCacheLClass_SWE();
external procedure DefineElearningURLCacheDClass_SWE();
external function real TravelLogDeductions_SWE(real,real);
external procedure LoginButtons_SWE(Real);
external procedure FORMDEF2_SWE();
external procedure FORMDEF3_SWE();
external procedure ARS2RClass_SWE();
external procedure ALLVATRClass_SWE();

// Language functions SLO
external function Boolean DisplayLoginKeyPad_SLO();
external function string 255 VATZoneEditFieldLabelSLO(Integer);
external function real VATZoneButtonsLabelsSLO(real,real,real,real);
external procedure LoginButtons2_SLO(Real,Real);
external procedure FORMDEF_SLO();
external function string 255 DemoMsgWClassTitle_SLO(Boolean,Boolean);
external procedure TBEClassDef_SLO();
external function string 255 VATZoneNameSLO();
external procedure TSERW_SLO();
external procedure TSERWNT_SLO();
external procedure TSERWTouch_SLO();
external procedure TSERWTEST_SLO();
external procedure INVFORM_SLO(Boolean);
external procedure DisplayRecordDetails_SLO(LongInt,LongInt,string,date,time,string,string,string,string,string,string,string,string,string,string,string,Integer,string,string,string,val,string,Boolean,string,string);
external procedure DrawPOSInterface_SLO(string,string,record POSButtonsVc,Integer,string,Integer);
external procedure DisplayRecordDetailsCustDisplay_SLO(LongInt,LongInt,string,date,time,string,string,string,string,string,string,Integer,string,string,string,val);
external function string 255 ResDayWClassWindowTitle_SLO();
external function string 255 ResMonWClassWindowTitle_SLO();
external function string 255 RTMonWClassWindowTitle_SLO();
external procedure SetupNightAuditWindowControls_SLO(Boolean);
external procedure CURClassDefinitionSLO();
external function real DrawPaymentModesButtons_IV_SLO(real);
external function real FunctionButtons_SLO(string);
external procedure CreditCardWindowHeader_SLO(Boolean,Boolean,Real);
external procedure CreditCardWindowButtons_SLO(string,string,real);
external procedure CreditCardWindowInvoiceDetail_SLO(Real);
external procedure CreditCardWindowDeliveryDetail_SLO(Real);
external function real DrawPaymentModesButtons_SLO();
external procedure DrawBarMenuTiles_SLO(string);
external procedure DrawRestPMOtherPay_SLO();
external procedure DisplayRecordDetailsRA_SLO(LongInt,LongInt,string,date,time,string,string,string,string,string,string,Integer,string,LongInt,Date,string,LongInt,string);
external procedure DrawModifierButtons2_SLO(var integer,var integer);
external procedure OKCancel_SLO();
external procedure DefineElearningURLCacheLClass_SLO();
external procedure DefineElearningURLCacheDClass_SLO();
external function real TravelLogDeductions_SLO(real,real);
external procedure LoginButtons_SLO(Real);
external procedure FORMDEF2_SLO();
external procedure FORMDEF3_SLO();
external procedure ARS2RClass_SLO();
external procedure ALLVATRClass_SLO();

// Language functions SVK
external function Boolean DisplayLoginKeyPad_SVK();
external function string 255 VATZoneEditFieldLabelSVK(Integer);
external function real VATZoneButtonsLabelsSVK(real,real,real,real);
external procedure LoginButtons2_SVK(Real,Real);
external procedure FORMDEF_SVK();
external function string 255 DemoMsgWClassTitle_SVK(Boolean,Boolean);
external procedure TBEClassDef_SVK();
external function string 255 VATZoneNameSVK();
external procedure TSERW_SVK();
external procedure TSERWNT_SVK();
external procedure TSERWTouch_SVK();
external procedure TSERWTEST_SVK();
external procedure INVFORM_SVK(Boolean);
external procedure DisplayRecordDetails_SVK(LongInt,LongInt,string,date,time,string,string,string,string,string,string,string,string,string,string,string,Integer,string,string,string,val,string,Boolean,string,string);
external procedure DrawPOSInterface_SVK(string,string,record POSButtonsVc,Integer,string,Integer);
external procedure DisplayRecordDetailsCustDisplay_SVK(LongInt,LongInt,string,date,time,string,string,string,string,string,string,Integer,string,string,string,val);
external function string 255 ResDayWClassWindowTitle_SVK();
external function string 255 ResMonWClassWindowTitle_SVK();
external function string 255 RTMonWClassWindowTitle_SVK();
external procedure SetupNightAuditWindowControls_SVK(Boolean);
external procedure CURClassDefinitionSVK();
external function real DrawPaymentModesButtons_IV_SVK(real);
external function real FunctionButtons_SVK(string);
external procedure CreditCardWindowHeader_SVK(Boolean,Boolean,Real);
external procedure CreditCardWindowButtons_SVK(string,string,real);
external procedure CreditCardWindowInvoiceDetail_SVK(Real);
external procedure CreditCardWindowDeliveryDetail_SVK(Real);
external function real DrawPaymentModesButtons_SVK();
external procedure DrawBarMenuTiles_SVK(string);
external procedure DrawRestPMOtherPay_SVK();
external procedure DisplayRecordDetailsRA_SVK(LongInt,LongInt,string,date,time,string,string,string,string,string,string,Integer,string,LongInt,Date,string,LongInt,string);
external procedure DrawModifierButtons2_SVK(var integer,var integer);
external procedure OKCancel_SVK();
external procedure DefineElearningURLCacheLClass_SVK();
external procedure DefineElearningURLCacheDClass_SVK();
external function real TravelLogDeductions_SVK(real,real);
external procedure LoginButtons_SVK(Real);
external procedure FORMDEF2_SVK();
external procedure FORMDEF3_SVK();
external procedure ARS2RClass_SVK();
external procedure ALLVATRClass_SVK();

// Language functions TUR
external function Boolean DisplayLoginKeyPad_TUR();
external function string 255 VATZoneEditFieldLabelTUR(Integer);
external function real VATZoneButtonsLabelsTUR(real,real,real,real);
external procedure LoginButtons2_TUR(Real,Real);
external procedure FORMDEF_TUR();
external function string 255 DemoMsgWClassTitle_TUR(Boolean,Boolean);
external procedure TBEClassDef_TUR();
external function string 255 VATZoneNameTUR();
external procedure TSERW_TUR();
external procedure TSERWNT_TUR();
external procedure TSERWTouch_TUR();
external procedure TSERWTEST_TUR();
external procedure INVFORM_TUR(Boolean);
external procedure DisplayRecordDetails_TUR(LongInt,LongInt,string,date,time,string,string,string,string,string,string,string,string,string,string,string,Integer,string,string,string,val,string,Boolean,string,string);
external procedure DrawPOSInterface_TUR(string,string,record POSButtonsVc,Integer,string,Integer);
external procedure DisplayRecordDetailsCustDisplay_TUR(LongInt,LongInt,string,date,time,string,string,string,string,string,string,Integer,string,string,string,val);
external function string 255 ResDayWClassWindowTitle_TUR();
external function string 255 ResMonWClassWindowTitle_TUR();
external function string 255 RTMonWClassWindowTitle_TUR();
external procedure SetupNightAuditWindowControls_TUR(Boolean);
external procedure CURClassDefinitionTUR();
external function real DrawPaymentModesButtons_IV_TUR(real);
external function real FunctionButtons_TUR(string);
external procedure CreditCardWindowHeader_TUR(Boolean,Boolean,Real);
external procedure CreditCardWindowButtons_TUR(string,string,real);
external procedure CreditCardWindowInvoiceDetail_TUR(Real);
external procedure CreditCardWindowDeliveryDetail_TUR(Real);
external function real DrawPaymentModesButtons_TUR();
external procedure DrawBarMenuTiles_TUR(string);
external procedure DrawRestPMOtherPay_TUR();
external procedure DisplayRecordDetailsRA_TUR(LongInt,LongInt,string,date,time,string,string,string,string,string,string,Integer,string,LongInt,Date,string,LongInt,string);
external procedure DrawModifierButtons2_TUR(var integer,var integer);
external procedure OKCancel_TUR();
external procedure DefineElearningURLCacheLClass_TUR();
external procedure DefineElearningURLCacheDClass_TUR();
external function real TravelLogDeductions_TUR(real,real);
external procedure LoginButtons_TUR(Real);
external procedure FORMDEF2_TUR();
external procedure FORMDEF3_TUR();
external procedure ARS2RClass_TUR();
external procedure ALLVATRClass_TUR();

// Language functions UKR
external function Boolean DisplayLoginKeyPad_UKR();
external function string 255 VATZoneEditFieldLabelUKR(Integer);
external function real VATZoneButtonsLabelsUKR(real,real,real,real);
external procedure LoginButtons2_UKR(Real,Real);
external procedure FORMDEF_UKR();
external function string 255 DemoMsgWClassTitle_UKR(Boolean,Boolean);
external procedure TBEClassDef_UKR();
external function string 255 VATZoneNameUKR();
external procedure TSERW_UKR();
external procedure TSERWNT_UKR();
external procedure TSERWTouch_UKR();
external procedure TSERWTEST_UKR();
external procedure INVFORM_UKR(Boolean);
external procedure DisplayRecordDetails_UKR(LongInt,LongInt,string,date,time,string,string,string,string,string,string,string,string,string,string,string,Integer,string,string,string,val,string,Boolean,string,string);
external procedure DrawPOSInterface_UKR(string,string,record POSButtonsVc,Integer,string,Integer);
external procedure DisplayRecordDetailsCustDisplay_UKR(LongInt,LongInt,string,date,time,string,string,string,string,string,string,Integer,string,string,string,val);
external function string 255 ResDayWClassWindowTitle_UKR();
external function string 255 ResMonWClassWindowTitle_UKR();
external function string 255 RTMonWClassWindowTitle_UKR();
external procedure SetupNightAuditWindowControls_UKR(Boolean);
external procedure CURClassDefinitionUKR();
external function real DrawPaymentModesButtons_IV_UKR(real);
external function real FunctionButtons_UKR(string);
external procedure CreditCardWindowHeader_UKR(Boolean,Boolean,Real);
external procedure CreditCardWindowButtons_UKR(string,string,real);
external procedure CreditCardWindowInvoiceDetail_UKR(Real);
external procedure CreditCardWindowDeliveryDetail_UKR(Real);
external function real DrawPaymentModesButtons_UKR();
external procedure DrawBarMenuTiles_UKR(string);
external procedure DrawRestPMOtherPay_UKR();
external procedure DisplayRecordDetailsRA_UKR(LongInt,LongInt,string,date,time,string,string,string,string,string,string,Integer,string,LongInt,Date,string,LongInt,string);
external procedure DrawModifierButtons2_UKR(var integer,var integer);
external procedure OKCancel_UKR();
external procedure DefineElearningURLCacheLClass_UKR();
external procedure DefineElearningURLCacheDClass_UKR();
external function real TravelLogDeductions_UKR(real,real);
external procedure LoginButtons_UKR(Real);
external procedure FORMDEF2_UKR();
external procedure FORMDEF3_UKR();
external procedure ARS2RClass_UKR();
external procedure ALLVATRClass_UKR();

// Language functions USA
external function Boolean DisplayLoginKeyPad_USA();
external function string 255 VATZoneEditFieldLabelUSA(Integer);
external function real VATZoneButtonsLabelsUSA(real,real,real,real);
external procedure LoginButtons2_USA(Real,Real);
external procedure FORMDEF_USA();
external function string 255 DemoMsgWClassTitle_USA(Boolean,Boolean);
external procedure TBEClassDef_USA();
external function string 255 VATZoneNameUSA();
external procedure TSERW_USA();
external procedure TSERWNT_USA();
external procedure TSERWTouch_USA();
external procedure TSERWTEST_USA();
external procedure INVFORM_USA(Boolean);
external procedure DisplayRecordDetails_USA(LongInt,LongInt,string,date,time,string,string,string,string,string,string,string,string,string,string,string,Integer,string,string,string,val,string,Boolean,string,string);
external procedure DrawPOSInterface_USA(string,string,record POSButtonsVc,Integer,string,Integer);
external procedure DisplayRecordDetailsCustDisplay_USA(LongInt,LongInt,string,date,time,string,string,string,string,string,string,Integer,string,string,string,val);
external function string 255 ResDayWClassWindowTitle_USA();
external function string 255 ResMonWClassWindowTitle_USA();
external function string 255 RTMonWClassWindowTitle_USA();
external procedure SetupNightAuditWindowControls_USA(Boolean);
external procedure CURClassDefinitionUSA();
external function real DrawPaymentModesButtons_IV_USA(real);
external function real FunctionButtons_USA(string);
external procedure CreditCardWindowHeader_USA(Boolean,Boolean,Real);
external procedure CreditCardWindowButtons_USA(string,string,real);
external procedure CreditCardWindowInvoiceDetail_USA(Real);
external procedure CreditCardWindowDeliveryDetail_USA(Real);
external function real DrawPaymentModesButtons_USA();
external procedure DrawBarMenuTiles_USA(string);
external procedure DrawRestPMOtherPay_USA();
external procedure DisplayRecordDetailsRA_USA(LongInt,LongInt,string,date,time,string,string,string,string,string,string,Integer,string,LongInt,Date,string,LongInt,string);
external procedure DrawModifierButtons2_USA(var integer,var integer);
external procedure OKCancel_USA();
external procedure DefineElearningURLCacheLClass_USA();
external procedure DefineElearningURLCacheDClass_USA();
external function real TravelLogDeductions_USA(real,real);
external procedure LoginButtons_USA(Real);
external procedure FORMDEF2_USA();
external procedure FORMDEF3_USA();
external procedure ARS2RClass_USA();
external procedure ALLVATRClass_USA();

// Language functions USS
external function Boolean DisplayLoginKeyPad_USS();
external function string 255 VATZoneEditFieldLabelUSS(Integer);
external function real VATZoneButtonsLabelsUSS(real,real,real,real);
external procedure LoginButtons2_USS(Real,Real);
external procedure FORMDEF_USS();
external function string 255 DemoMsgWClassTitle_USS(Boolean,Boolean);
external procedure TBEClassDef_USS();
external function string 255 VATZoneNameUSS();
external procedure TSERW_USS();
external procedure TSERWNT_USS();
external procedure TSERWTouch_USS();
external procedure TSERWTEST_USS();
external procedure INVFORM_USS(Boolean);
external procedure DisplayRecordDetails_USS(LongInt,LongInt,string,date,time,string,string,string,string,string,string,string,string,string,string,string,Integer,string,string,string,val,string,Boolean,string,string);
external procedure DrawPOSInterface_USS(string,string,record POSButtonsVc,Integer,string,Integer);
external procedure DisplayRecordDetailsCustDisplay_USS(LongInt,LongInt,string,date,time,string,string,string,string,string,string,Integer,string,string,string,val);
external function string 255 ResDayWClassWindowTitle_USS();
external function string 255 ResMonWClassWindowTitle_USS();
external function string 255 RTMonWClassWindowTitle_USS();
external procedure SetupNightAuditWindowControls_USS(Boolean);
external procedure CURClassDefinitionUSS();
external function real DrawPaymentModesButtons_IV_USS(real);
external function real FunctionButtons_USS(string);
external procedure CreditCardWindowHeader_USS(Boolean,Boolean,Real);
external procedure CreditCardWindowButtons_USS(string,string,real);
external procedure CreditCardWindowInvoiceDetail_USS(Real);
external procedure CreditCardWindowDeliveryDetail_USS(Real);
external function real DrawPaymentModesButtons_USS();
external procedure DrawBarMenuTiles_USS(string);
external procedure DrawRestPMOtherPay_USS();
external procedure DisplayRecordDetailsRA_USS(LongInt,LongInt,string,date,time,string,string,string,string,string,string,Integer,string,LongInt,Date,string,LongInt,string);
external procedure DrawModifierButtons2_USS(var integer,var integer);
external procedure OKCancel_USS();
external procedure DefineElearningURLCacheLClass_USS();
external procedure DefineElearningURLCacheDClass_USS();
external function real TravelLogDeductions_USS(real,real);
external procedure LoginButtons_USS(Real);
external procedure FORMDEF2_USS();
external procedure FORMDEF3_USS();
external procedure ARS2RClass_USS();
external procedure ALLVATRClass_USS();

// Language functions VIE
external function Boolean DisplayLoginKeyPad_VIE();
external function string 255 VATZoneEditFieldLabelVIE(Integer);
external function real VATZoneButtonsLabelsVIE(real,real,real,real);
external procedure LoginButtons2_VIE(Real,Real);
external procedure FORMDEF_VIE();
external function string 255 DemoMsgWClassTitle_VIE(Boolean,Boolean);
external procedure TBEClassDef_VIE();
external function string 255 VATZoneNameVIE();
external procedure TSERW_VIE();
external procedure TSERWNT_VIE();
external procedure TSERWTouch_VIE();
external procedure TSERWTEST_VIE();
external procedure INVFORM_VIE(Boolean);
external procedure DisplayRecordDetails_VIE(LongInt,LongInt,string,date,time,string,string,string,string,string,string,string,string,string,string,string,Integer,string,string,string,val,string,Boolean,string,string);
external procedure DrawPOSInterface_VIE(string,string,record POSButtonsVc,Integer,string,Integer);
external procedure DisplayRecordDetailsCustDisplay_VIE(LongInt,LongInt,string,date,time,string,string,string,string,string,string,Integer,string,string,string,val);
external function string 255 ResDayWClassWindowTitle_VIE();
external function string 255 ResMonWClassWindowTitle_VIE();
external function string 255 RTMonWClassWindowTitle_VIE();
external procedure SetupNightAuditWindowControls_VIE(Boolean);
external procedure CURClassDefinitionVIE();
external function real DrawPaymentModesButtons_IV_VIE(real);
external function real FunctionButtons_VIE(string);
external procedure CreditCardWindowHeader_VIE(Boolean,Boolean,Real);
external procedure CreditCardWindowButtons_VIE(string,string,real);
external procedure CreditCardWindowInvoiceDetail_VIE(Real);
external procedure CreditCardWindowDeliveryDetail_VIE(Real);
external function real DrawPaymentModesButtons_VIE();
external procedure DrawBarMenuTiles_VIE(string);
external procedure DrawRestPMOtherPay_VIE();
external procedure DisplayRecordDetailsRA_VIE(LongInt,LongInt,string,date,time,string,string,string,string,string,string,Integer,string,LongInt,Date,string,LongInt,string);
external procedure DrawModifierButtons2_VIE(var integer,var integer);
external procedure OKCancel_VIE();
external procedure DefineElearningURLCacheLClass_VIE();
external procedure DefineElearningURLCacheDClass_VIE();
external function real TravelLogDeductions_VIE(real,real);
external procedure LoginButtons_VIE(Real);
external procedure FORMDEF2_VIE();
external procedure FORMDEF3_VIE();
external procedure ARS2RClass_VIE();
external procedure ALLVATRClass_VIE();

external function Boolean IsStandardUnused();
external function Boolean IsEnterprise();
external function Boolean StandardHansa();
external function Boolean HasATOL();

external function Boolean HasAccPeriods();
external function Boolean HasAccessGroups();
external function Boolean HasAddFee();
external function Boolean HasApprovals();
external function Boolean HasCCPayments();
external function Boolean HasAdvancedAccounting();
external function Boolean HasAdvancedCRM();
external function Boolean HasAdvancedPricing();
external function Boolean HasAdvancedProduction();
external function Boolean HasAdvancedStock();
external function Boolean HasAged();
external function Boolean HasBar();
external function Boolean HasBase2();
external function Boolean HasBranch();
external function Boolean HasBuyBack();
external function Boolean HasCategories();
//external function Boolean HasConsigmentStock();
external function Boolean HasCommunicator();
external function Boolean HasConsignmentStock();
external function Boolean HasContactClassification();
external function Boolean HasContactRelations();
external function Boolean HasConsolidation();
external function Boolean HasCountryPerCustomer();
external function Boolean HasCreditLimit();
external function Boolean HasCustItem();
external function Boolean HasCustomerSearchKey();
external function Boolean HasCustomerStatusReport();
external function Boolean HasDownpayments();
external function Boolean HasDefineColumns();
external function Boolean HasDeliveryAddress();
external function Boolean HasDepartments();
external function Boolean HasETaxDocuments();
external function Boolean HasEInvoicing();
external function Boolean HasEndorsedChecks();
external function Boolean HasExtraNLComment();
external function Boolean HasExtTax();
external function Boolean HasFavouriteActTypes();
external function Boolean HasFiscalPrinter();
external function Boolean HasFormEditor();
external function Boolean HasFreightAdvanced();
external function Boolean HasHideCostPrice();
external function Boolean HasHotelInterface();
external function Boolean HasGuestUserDefined();
external function Boolean HasJewelleryInterface();
external function Boolean HasIncomeAndExpenseBook();
external function Boolean HasIOUChecks();
external function Boolean HasItemClassification();
external function Boolean HasItemGroups();
external function Boolean HasKPIs();
external function Boolean HasLanguages();
external function Boolean HasLimitedAccess();
external function Boolean HasLocalMachines();
external function Boolean HasLoyaltyCards();
external function Boolean HasMailTags();
external function Boolean HasMainPartner();
external function Boolean HasMultiCurrency();
external function Boolean HasMultiLocations();
external function Boolean HasNLBudget();
external function Boolean HasNLBudgetClass();
external function Boolean HasObjects();
external function Boolean HasInvoiceOfficialSerNr();
external function Boolean HasOfficialSerNr();
external function Boolean HasOrderClasses();
external function Boolean HasPreferedOfficialSerNr();
external function Boolean HasNumberSeries();
external function Boolean HasPersons();
external function Boolean HasPocketScreen();
external function Boolean HasPositions();
external function Boolean HasPrepayments();
external function Boolean HasProjects();
external function Boolean HasPriceLists();
external function Boolean HasQualityControl();
external function Boolean HasReconLevel2();
external function Boolean HasReminderLevel();
external function Boolean HasRemoteBackup();
external function Boolean HasResourceDisplayGroups();
external function Boolean HasRussianPrepayment();
external function Boolean HasRetGoodsToSupp();
external function Boolean HasReturnedGoods();
external function Boolean HasRoomPackages();
external function Boolean HasRoomTypes();
external function Boolean HasRoute();
external function Boolean HasSalesman();
external function Boolean HasSalesmanBonus();
external function Boolean HasSalesGroup();
external function Boolean HasSecondQuantity();
external function Boolean HasSerialNumbers();
external function Boolean HasServerInCloud();
external function Boolean HasSettlementDiscount();
external function Boolean HasSimulations();
external function Boolean hasSimAccruals();
external function Boolean HasSkypeConnection();
external function Boolean HasSIPServerConnection();
external function Boolean HasStrAsSignFType();
external function Boolean HasTouchScreenDevice();
external function Boolean HasTaxMatrix();
external function Boolean HasTestFeatures();
external function Boolean HasMetroTestFeatures();
external function Boolean HasWorkOrders();
external function Boolean HasThrouLocation();
external function Boolean HasTouchScreenLook();
external function Boolean HasTREO();
external function Boolean HasVarieties();
external function Boolean HasVATZone();
external function Boolean HasWithholdingTax();
external function Boolean HasWithholdingTaxAdvanced();
external function Boolean HasWorkOrders();
external function Boolean HasWorkflowOverview();

external function Boolean HasStandardCRM();
external function Boolean HasStandardOrganizer();
external function Boolean HasStandardCommunicator();

external function Boolean HasEMail();
external function Boolean HasExternalEMail();

external function Boolean HasModAT2();
external function Boolean HasModBA();
external function Boolean HasModCheck();
external function Boolean HasModCL();
external function Boolean HasModCO();
external function Boolean HasModCons();
external function Boolean HasModCourses();
external function Boolean HasModCredMan();
external function Boolean HasModCRM();
external function Boolean HasModEDI();
external function Boolean HasModExp();
external function Boolean HasModHotel();
external function Boolean HasModHRM();
external function Boolean HasModIN();
external function Boolean HasModIntStock();
external function Boolean HasModNL();
external function Boolean HasPaymentGateway();
external function Boolean HasModPO();
external function Boolean HasModPOS();
external function Boolean HasModPL();
external function Boolean HasModPOProg();
external function Boolean HasModPP();
external function Boolean HasModProd();
external function Boolean HasModQT();
external function Boolean HasModRent();
external function Boolean HasModRest();
external function Boolean HasModRsrt();
external function Boolean HasModSO();
external function Boolean HasModSL();
external function Boolean HasModSVO();
external function Boolean HasModTS();
external function Boolean HasModWHM();
external function Boolean HasModDI();
external function Boolean UsePostOKButton();
external function Boolean HasBankImport();
external function Boolean HasPLIntegratedWithNL();
external function Boolean HasSLIntegratedWithNL();
external function Boolean HasIntegratedNL();
external function Boolean HasConsStockMoveInvoices();
//##ii
procedure dummy() //##ii
begin //##ii
  SetLangMode(LangRussian,"RUS",0); //##ii
  return; //##ii
end; //##ii


window SVODClass:1
  wtag("language","RUS"), wtag("product","*"), wtag("productcode","*"), wtag("device","computer")
begin
  real h,h1,h2,h3,h4,t,v,vm,vs;
  string 255 label;
  Integer mode; //Edit***************************Sasha2,15:56 27.10.2016
  
  if (UserCanAction("UnOKAll",false)) then begin //Edit***************************Sasha2,15:56 27.10.2016
    mode = Normal;
  end else begin
    mode = ViewOnly;
  end;
  
	WindowBegin("  ",SVODClass,CGview,-);
  SetWRect(20,80,850,720);
  Sizeable(-1,-1,0,0);
  AutoSizeWindow(false);
  DynamicWindow;
  UseView(SVOVc);
  ToolBar;
  HalPushButton(250,5,350,25,"WorkSheetSVODsm"," ");
	HalPushButton(370,5,430,25,"PrintDoSVOFormButton","");	//Edit----------------------Dima  09.02.2015
  EndToolBar;
  ActiveFieldOnNew("CustCode");  
  //FormName(SVOForm);
  vs = 20; h3 = 550;
  Tile(0,125,false,"",CustCode);
  EditField(h=90,v=6, 82,"",Normal,SerNr,false,TSerSClass);
  EnterSkip(CustCode);
  EditField(h2=240,v,300,"-",Normal,Addr0,false,0);
  EditField(h,vm=(v+=vs),82, "",Normal,CustCode,false,CUSClass);
  
  halpushbutton(h-45,vm+20,h+80,vm+50,"ChangeSVOSalesGroup"," "); 
  HalPushButton(h-45,vm+50,h+80,vm+80,"PrintAndSetRegDateInSVODsm","");//Edit-------------------Vitalii 13:51 27.10.2016
  EditField(240,vm,80, "",Normal,CustomField7,false,UserSClass);// Edit ************************** Monday, 31 May 2010 9:22:11 AM
  EditField(240,vm+20,80,"..",ViewOnly,SalesGroup,false,0);
  EditField(240,vm+40,80,". ",Normal,InnerOrderNr,false,0);

  EditField(h+350,vm,100," ",Normal,ServiceManager,false,UserSClass);// Edit ************************** Monday, 31 May 2010 9:22:11 AM
  EditField(h+350,vm+20,100," ",ViewOnly,WSCost,false,0);

  vm = vm-32;
  ButtonFrame(h+500,vm+16,130,6,"");
	RadioButton(h+500,vm+16,0,0," ",OrderStatus);
	RadioButton(h+500,vm+16+16,5,0," ",OrderStatus);
	RadioButton(h+500,vm+32+16,4,0," ",OrderStatus);
	RadioButton(h+500,vm+48+16,1,0,". .",OrderStatus);
	RadioButton(h+500,vm+64+16,3,0," .",OrderStatus);
  RadioButton(h+500,vm+80+16,2,0," ",OrderStatus);
  vm = vm + 32;
  
  CheckBox(-70,vm,0,"",DoneMark);
  //statictext(50,190,"_",false);// Edit ************************** Thursday, 24 November 2016 11:54:03!!!!!!!!!!!!!!!!!!!!!!!!!!!!!SIZEEEEEE
  TileButton(1,"");
  TileButton(2,"");
  //TileButton(3,"");
  Tile(1,90,false,"1",CustContact);

  EditField(h1=120,v=vm-20,60," ",mode,TransDate,false,PasteCurDate);
  h2=h2-10;
  EditField(h2,v,60,"",mode,RegTime,false,0);// Edit ************************** Friday, 17 December 2010 09:38:48
  EditField(h3+130,v,130,". ",Normal,CustContact,false,ContactSClass);
  EditField(h1,v+=vs,60," ..",mode,EndDiagnDate,false,PasteCurDate); //Edit***************************Sasha2,15:40 25.10.2016
  EditField(h2,v,60,"",mode,EndDiagnTime,false,0); //Edit***************************Sasha2,15:40 25.10.2016
  EditField(h1,v+=vs,60," ..",mode,PlanShipDate,false,PasteCurDate);
  EditField(h2,v,60,"",mode,DoneTime,false,0);// Edit ************************** Monday, 24 October 2016 17:56:04
  EditField(h1,v+=vs,60," ",mode,RegDate,false,PasteCurDate);
  EditField(h2,v,60,"",mode,OutTime,false,0);// Edit ************************** Monday, 24 October 2016 17:56:02
  if(currentuser=="SA")then begin
		EditField(-200,v,-20,"OldPhone",ViewOnly,OldPhone,false,0);
  end;
  
  v=vm-20;
  halpushbutton(h2+220,v,h2+325,v+50,"FastPaySVODsm"," ");// Edit ************************** Friday, 25 November 2016 11:32:03 
  EditField(h2+145,v,60, "",Normal,FastCash,false,0);
  EditField(h2+145,v+=20,60, "",Normal,FastTerm,false,0);
  //EditField(h2+125,v+=20,60, "PlanShip",Normal,PlanShip,false,0);/////////
  EnterSkip(Math);
  Tile(2,400,false,"2",Math);

  v = 24;
  MatrixBegin(3,v,-50,v+45,-,50);
  MatTypedRow(stp);
  Flip(0);
  MatCol(t=1,32,"",0,ArtCode,false,INSClass);
  MatCol(t,94,"-",0,Quant,true,0);
  Flip(1);
  MatCol(t=1,144,". ",0,SerialNr,false,SVOSerSClass);
  EnterSkip(ItemType);
  MatCol(t=1,250,".",0,Spec,false,0);
  EnterSkip(ArtCode);
  MatCol(t,-124,"",0,ItemType,false,SetSClass);
  MatCol(t,-24,"",0,WOEnum,true,0);
  Flip(2);
  MatCol(t=1,144,"..",0,StandProblem,false,StandProblemsSClass);
  MatCol(t,-300,"  ",0,WOSerNr,false,0);
  MatCol(t,-130,"/.",0,Invd,true,0);
  MatCol(t,-70," .",0,PlanShiprw,true,0);
  Flip(3);
  MatCol(t=1,144,".",0,Spec,false,0);
  MatCol(t,-180,"- ",0,Cost,true,0);
  MatCol(t,-90,".-",0,MaxCost,true,0);
  InsertRowTest;
  DeleteRowTest;
  EndMatrix;
  vs = 20;
  v = 18; VTab(-35,v,-16,v+vs,ToolFlip,1,"A");
  v=v+vs;  VTab(-35,v,-16,v+vs,ToolFlip,2,"B");
  v=v+vs;  VTab(-35,v,-16,v+vs,ToolFlip,3,"C");

  v = v + 25;
  checkbox(100,v-20,0,"VIP",VIPStatus);
  checkbox(200,v-20,0,"    ",ItemFrPartner); //Edit***************************Sasha2,14:19 08.12.2015
 	EditField(h=110,v,200,"",Normal,Vlastnik,false,0);
 	EditField(h+300,v,-20,"SN .",Normal,CustomField8,false,0);
 	EditField(h,v+=vs,120,"",Normal,Priynato,false,0);	
 	EditField(h+160,v,120,"",Normal,Name,false,0);	
 	EditField(h+360,v,120,"",Normal,MiddleName,false,0);	
 	
	EditField(h,v+=vs,100,".1",Normal,Kontinfo1,false,0);	
	HalPushButton(h+110,v-3,h+180,v+15,"CallToClientDsm","");
	EditField(h+220,v,100,".2",Normal,Phone2,false,0);	
	HalPushButton(h+330,v-3,h+410,v+15,"CallToClient2Dsm","");
	
	CheckBox(-270,v,0," ",NoSMS);
	
	EditField(-130,v,-105,"..",Normal,CustomField9,false,0);	// Edit ************************** Thursday, 30 June 2016 10:21:49
	HalPushButton(-90,v-3,-50,v+15,"ServClientOrderDsm","");
	
	EditField(h,v+=vs,-20,"e-mail",Normal,Kontinfo2,false,0);	
	EditField(h,v+=vs,-20," ",Normal,Kontinfo3,false,0);
  v=v+10;
  EditField(h,v+=vs,-20," -",Normal,Comment1,false,IssueSClass);
  EditField(h,v+=vs,-20,"",Normal,Comment2,false,IssueSClass);
  v=v+10;
  EditField(h,v+=vs,-20," .",Normal,Comment3,false,DefectSClass);// Edit ************************** Friday, 29 May 2015 17:19:51
  EditField(h,v+=vs,-20,"",Normal,Comment4,false,DefectSClass);
  v=v+10;
  StaticText(h,v+=vs,"",true);
  EditField(h,v+=vs-10,-20,":",Normal,Batary,false,0);
  EditField(h,v+=vs,-20,". :",Normal,Zaryadka,false,0);
  EditField(h,v+=vs,-20,":",Normal,Inshe,false,0);
  //v=v+10;
  EditField(h,v+=vs,50,"",Normal,Region,false,ITSClass);
  
  EditField(h+=120,v,50,"",Normal,Garanty,false,0);
  EditField(h+=120,v,100,". ",Normal,GarNo,false,0);
  EditField(h+=220,v,100,".  ",Normal,GarDate,false,PasteCurDate);
  
  SpecialMenu("   .",'r',0,"SVOStaDsm");
  SpecialMenu(" ",'e',1,"SVOCustStatDsm");
  SpecialMenu(" ",'f',2,"ItemSearchDsm");
  SpecialMenu("   ",' ',0,"SVOPaymentRnDsm");
  SpecialMenu(" ",' ',0,"PrintSVOReceiptDsm"); //Edit***************************Sasha2,13:47 13.10.2016
  SpecMenuGroup("",kSpecMenuGroupTypeExtendedPlusMenu,0);
  SpecialMenu(" ",'c',3,"ActFromSVODsm");
  SpecialMenu("   ",' ',4,"WorkOrderSVODsm");
  SpecialMenu(" . .  ",' ',5,"SVGMFromSVODsm");
  SpecialMenu("  ",' ',6,"WorkSheetSVODsm");
  SpecialMenu(" /. ",'F',7,"IVFromSVODsm");
  SpecialMenu("  ",' ',8,"OffHireFromSVODsm");
  SpecialMenu("  ",' ',0,"DispatchFromSVODsm");
  SpecialMenu(" ",' ',0,"ORFromSVODsm");
  SpecialMenu("",' ',0,"MyPPFromSVODsm");
  SpecialMenu(" ",' ',0,"MyExpFromSVODsm");
  SpecialMenu("",' ',0,"MyIPFromSVODsm");
  SpecialMenu("",' ',0,"MyStockMovFromSVODsm");
  if(CurrentCompany==1 or CurrentCompany==2) then begin
    //SpecialMenu("  ",' ',0,"MyImportSVOToCompDsm"); //uncomment for AService
  end;
  
  EndWindow;
end;

window SVOLClass:1
  wtag("language","RUS"), wtag("product","*"), wtag("productcode","*"), wtag("device","computer")
begin
  WindowBegin("  ",SVOLClass,CGmlist,SVOView);
  SpawnClass(SVODClass);
  SetWRect(20,80,1100,298);
  Sizeable(-1,-1,0,0);
  UseView(SVOVc);
  ToolBar; //Edit***************************Sasha2,17:21 10.05.2017 {
		HalPushButton(250,16,350,16+10,"SVOLClassOpenSVO1LClass"," ..");
		HalPushButton(360,16,460,16+10,"SVOLClassOpenSVO2LClass","  ");
		HalPushButton(470,16,570,16+10,"SVOLClassOpenSVO3LClass","");
		HalPushButton(580,16,630,16+10,"RunSVODateOff3RepRn","3 !");
		HalPushButton(640,16,700,16+10,"RunSVODateOff14RepRn","14 !");
  EndToolBar; //Edit***************************Sasha2,17:21 10.05.2017 }
  FormName(PrintSVOL);
  RecordList(4,17,-21,-39);
  RlColKey(4,4,"",SerNr,false,SerNr);
  //if (HasWorkOrders) then begin
    //RlColKey(79,79,"",WOMark,false,WOMark);
  //end;
  //RlColKey(111,111,"WS",WSMark,false,WSMark);
  RlColKey(79,79,"/",InvMark,false,InvFlag);
  RlColKey(111,111," ",TransDate,false,TransDate);
  //RlColKey(255,255," ..",CustOrdNr,false,CustOrdNr);
  //RlColKey(335,335,"",CustCode,false,CustCode);
  RlColKey(180,180,".",Addr0,false,Name);
  RlCol(300,300,"",Comment1,false);
  
  RlColKey(-370,-370,".",SerialNrTextSearch,false,SerialNrTextSearch);
  RlColKey(-290,-290,"1.",Kontinfo1,false,Kontinfo1);
  RlColKey(-180,-180,"2.",Phone2,false,Phone2);
  //RlCol(-140,-140,".",Garanty,false);
  RlColKey(-70,-70,"..",PlanShipDate,false,PlanShipDate);
  //if (HasOrderClasses) then begin
    //RlColKey(-140,-140,"",OrderClass,false,OrderClass);
  //end;
  //RlColKey(-70,-70,". .",PlanShip,false,PlanShip);
  SearchField("");
  if (HasLimitedAccess) then begin
    BrowseSubsetButton(-40,-15);
  end;
  SpecialMenu("   ",'r',3,"SVOStaLsm");         
  if (HasCustomerStatusReport) then begin 
    SpecialMenu("  ",'e',4,"SVOCustStatLsm");         
  end;
  SpecMenuGroup("",kSpecMenuGroupTypeExtendedPlusMenu,0);         
  if (HasWorkOrders) then begin
    SpecialMenu("   ",' ',0,"WorkOrderSVOLsm");
    SpecialMenu("  .   ",' ',1,"SVGMFromSVOLsm");
  end;
  SpecialMenu(" - ",'F',2,"IVFromSVOLsm");
  if (HasModCRM) then begin
    SpecialMenu(" ",'c',5,"ActFromSVOLsm");
  end;
  EndWindow;
end;

window SVO1LClass:1
  wtag("language","RUS"), wtag("product","*"), wtag("productcode","*"), wtag("device","computer")
begin
  WindowBegin("  ",SVO1LClass,CGmlist,SVOView);
  SpawnClass(SVODClass);
  SetWRect(20,80,960,298);
  Sizeable(-1,-1,0,0);
  UseView(SVOVc);
  FormName(PrintSVOL);
  RecordList(4,17,-21,-39);
  RlColKey(4,4,"",SerNr,false,UnServSerNr);
  RlColKey(175,175," .",TransDate,false,UnServTransDate);
  RlColKey(260,260,"",ItemName,false,UnServItemName);
  RlCol(400,400,"",Comment1,false);
  RlColKey(-300,-300,"1.",Kontinfo1,false,UnServServiceKontinfo1);
  //RlColKey(-270,-270,"2.",Phone2,false,UnServServicePhone2);
  RlColKey(-210,-210,"..",ServiceManager,false,UnServServiceManager);
  RlColKey(-160,-160,"VIP",VIPStatus,false,UnServVIPStatus);
  //RlColKey(-140,-140,"",Garanty,false,UnServGaranty);
  CalculatedColumn(-90,-90,"","SVOServStatus",true);
  SearchField("");
  if (HasLimitedAccess) then begin 
    BrowseSubsetButton(-40,-15);
  end;
  SpecialMenu("   ",'r',3,"SVOStaLsm");         
  if (HasCustomerStatusReport) then begin 
    SpecialMenu("  ",'e',4,"SVOCustStatLsm");         
  end;
  SpecMenuGroup("",kSpecMenuGroupTypeExtendedPlusMenu,0);         
  if (HasWorkOrders) then begin
    SpecialMenu("   ",' ',0,"WorkOrderSVOLsm");
    SpecialMenu("  .   ",' ',1,"SVGMFromSVOLsm");
  end;
  SpecialMenu(" - ",'F',2,"IVFromSVOLsm");
  if (HasModCRM) then begin
    SpecialMenu(" ",'c',5,"ActFromSVOLsm");
  end;
  EndWindow;
end;

window SVO2LClass:1
  wtag("language","RUS"), wtag("product","*"), wtag("productcode","*"), wtag("device","computer")
begin
  WindowBegin("  ",SVO1LClass,CGmlist,SVOView);
  SpawnClass(SVODClass);
  SetWRect(20,80,960,298);
  Sizeable(-1,-1,0,0);
  UseView(SVOVc);
  FormName(PrintSVOL);
  RecordList(4,17,-21,-39);
  RlColKey(4,4,"",SerNr,false,AllUnServSerNr);
  RlColKey(175,175," .",TransDate,false,AllUnServTransDate);
  RlColKey(260,260,"",ItemName,false,AllUnServItemName);
  RlCol(400,400,"",Comment1,false);
  RlColKey(-300,-300,"1.",Kontinfo1,false,AllUnServKontinfo1);
  //RlColKey(-270,-270,"2.",Phone2,false,AllUnServPhone2);
  RlColKey(-210,-210,"..",ServiceManager,false,AllUnServServiceManager);
  RlColKey(-160,-160,"VIP",VIPStatus,false,AllUnServVIPStatus);
  //RlColKey(-140,-140,"",Garanty,false,AllUnServGaranty);
  CalculatedColumn(-90,-90,"","SVOServStatus",true);
  SearchField("");
  if (HasLimitedAccess) then begin 
    BrowseSubsetButton(-40,-15);
  end;
  SpecialMenu("   ",'r',3,"SVOStaLsm");         
  if (HasCustomerStatusReport) then begin 
    SpecialMenu("  ",'e',4,"SVOCustStatLsm");         
  end;
  SpecMenuGroup("",kSpecMenuGroupTypeExtendedPlusMenu,0);         
  if (HasWorkOrders) then begin
    SpecialMenu("   ",' ',0,"WorkOrderSVOLsm");
    SpecialMenu("  .   ",' ',1,"SVGMFromSVOLsm");
  end;
  SpecialMenu(" - ",'F',2,"IVFromSVOLsm");
  if (HasModCRM) then begin
    SpecialMenu(" ",'c',5,"ActFromSVOLsm");
  end;
  EndWindow;
end;

window SVO3LClass:1
  wtag("language","RUS"), wtag("product","*"), wtag("productcode","*"), wtag("device","computer")
begin
  WindowBegin("  ",SVO3LClass,CGmlist,SVOView);
  SpawnClass(SVODClass);
  SetWRect(20,80,960,298);
  Sizeable(-1,-1,0,0);
  UseView(SVOVc);
  FormName(PrintSVOL);
  RecordList(4,17,-21,-39);
  RlColKey(4,4,"",SerNr,false,AllServSerNr);
  RlColKey(175,175," .",TransDate,false,AllServTransDate);
  RlColKey(260,260,"",ItemName,false,AllServItemName);
  RlCol(400,400,"",Comment1,false);
  RlColKey(-300,-300,"1.",Kontinfo1,false,AllServKontinfo1);
  //RlColKey(-270,-270,"2.",Phone2,false,AllServPhone2);
  RlColKey(-210,-210,"..",ServiceManager,false,AllServServiceManager);
  RlColKey(-160,-160,"VIP",VIPStatus,false,AllServVIPStatus);
  RlColKey(-140,-140,"",Garanty,false,AllServGaranty);
  CalculatedColumn(-90,-90,"","SVOServStatus",true);
  SearchField("");
  if (HasLimitedAccess) then begin 
    BrowseSubsetButton(-40,-15);
  end;
  SpecialMenu("   ",'r',3,"SVOStaLsm");         
  if (HasCustomerStatusReport) then begin 
    SpecialMenu("  ",'e',4,"SVOCustStatLsm");         
  end;
  SpecMenuGroup("",kSpecMenuGroupTypeExtendedPlusMenu,0);         
  if (HasWorkOrders) then begin
    SpecialMenu("   ",' ',0,"WorkOrderSVOLsm");
    SpecialMenu("  .   ",' ',1,"SVGMFromSVOLsm");
  end;
  SpecialMenu(" - ",'F',2,"IVFromSVOLsm");
  if (HasModCRM) then begin
    SpecialMenu(" ",'c',5,"ActFromSVOLsm");
  end;
  EndWindow;
end;

window WSDClass:1
  wtag("language","RUS"), wtag("product","*"), wtag("productcode","*"), wtag("device","computer")
begin
  real h,h1,h2,h3,h4,t,v,vm,vs;
  Integer rn,tilenr,flipnr,f;
  
  WindowBegin(" ",WSDClass,CGview,WSView);
  SetWRect(20,80,750,460);
  Sizeable(512,-1,0,0);
  UseView(WSVc);
  FormName(WSForm);
  h1 = 75;h2 = 290; h3 = 470; vs = 20;
  Tile(0,70,false,"",CustCode);
  EditField(75,vm=(v=6),95,"",Normal,SerNr,false,TSerSClass);
  EditField(75,v+=20,95,"",Normal,CustCode,false,CUSClass);
  EditField(h=240,v=vm,-40,".",Normal,Addr0,false,0);
  v = v+vs;
  CheckBox(h4=-100,v,0,"OK",OKFlag);
  tilenr = 1;
  TileButton(tilenr,""); tilenr = tilenr + 1; 
  TileButton(tilenr,""); tilenr = tilenr + 1; 
  if (HasMultiCurrency or HasBase2) then begin
    TileButton(tilenr,""); tilenr = tilenr + 1; 
  end;
  TileButton(tilenr,""); tilenr = tilenr + 1; 
  TileButton(tilenr,""); tilenr = tilenr + 1; 
  tilenr = 1;
  Tile(tilenr,90,false,tilenr,TransDate); tilenr = tilenr + 1;
  vs = 20; h1 = 110; h2 = 290; h3 = 530; h4 = -100;
  EditField(h1,vm=(v=6),82,"",Normal,EMCode,false,UserSClass); 
  EditField(h1,v+=vs,82,"",Normal,TransDate,false,PasteCurDate); 
  if (HasMultiLocations) then begin
  EditField(h1,v+=vs,82,"",Normal,Location,false,LocationSClass); 
  end;
  EditField(h1,v+=vs,82," .",Normal,ACShort,false,ACShortSClass);
  EditField(h2,v=vm,135,"",Normal,EMName,false,0);
  EditField(h2,v+=vs,135,".  .",Normal,CustContact,false,ContactSClass);
  if(usercanaction("ViewCostPrice",false))then begin // Edit ************************** Tuesday, 10 February 2015 15:14:27
    EditField(h2,v+=vs,135," ",Normal,CostAcc,false,AccSClass);
  end;
  if (HasObjects) then begin
    EditField(h2,v+=vs,135,"",Normal,Objects,false,ObjSClass);
  end;
  EditField(h3,v=vm,82,"   .",Normal,SVONr,false,0);
  if (HasModSVO) then begin
    EditField(h3,v+=vs,82,"   .",Normal,WONr,false,0);
  end;
  EditField(h3,v+=vs,50," ",ViewOnly,RebCode,false,RebSClass); //Edit***************************Sasha2,14:51 28.02.2017
  if (HasModIN) then begin
    CheckBox(h4,v=vm,0," ",UpdStockFlag);
  end;
  if (IsEnterprise) then begin
    CheckBox(h4,v+=16,0,".",PrelOK);
  end;
/* What is this???, It can be changed by the user and what if half is invoiced ?? */
//  CheckBox(h4,v+=16,0,"Invoiced",InvFlag);
  EnterSkip(Math);
  Tile(tilenr,120,true,tilenr,Math); tilenr = tilenr + 1;
  EditField(410,-41,95,"",ViewOnly ,Sum3,true,0);
  EditField(-150,-41,95,"",ViewOnly ,Sum1,true,0);
  EditField(-150,-21,95,"",ViewOnly ,Sum4,true,0);
  v = 24;
  MatrixBegin(3,v,-50,-40,WSRowType,200);
  MatTypedRow(stp);
  Flip(0);
  MatCol(t=1,32,"",0,ArtCode,false,INSClass);
//  MatCol(t,94,"Var",0,VARList,true,VARSClass);
  MatCol(t,94,"-",0,Quant,true,0);
  EnterSkip(ArtCode);
  flipnr = 1;
  Flip(flipnr); flipnr = flipnr + 1;
  MatCol(t=1,144,".",0,Spec,false,0);
  if (UseTaxTemplatesforTaxCalc) then begin
    MatCol(t,-255," .",0,Price,true,0);
    MatCol(t,-165,"%",0,vRebate,true,0);
    MatCol(t,-130,"",0,Sum,true,0);
    MatCol(1,-60,"",0,TaxTemplateCode,false,TaxTemplateSClass);
  end else begin
    MatCol(t,-225,"",0,Price,true,0);
    MatCol(t,-135,"%",0,vRebate,true,0);
    MatCol(t,-100,"",0,Sum,true,0);
    MatCol(1,-30,"",0,VATCode,false,VATCodeSClass);
  end;
  Flip(flipnr); flipnr = flipnr + 1;
  MatCol(t=1,144,".",0,Spec,false,0);
  MatCol(t,-225," ",0,ItemType,false,SetSClass);
  MatCol(t,-150," .",0,MotherNr,false,SerialNrSClass);
  Flip(flipnr); flipnr = flipnr + 1;
  MatCol(t=1,144,".",0,Spec,false,0);
  if (HasSerialNumbers) then begin
  MatCol(t,-225,".",0,SerialNr,false,SerialNrSClass);
  end;
  if (HasModProd) then begin
  MatCol(t,-90,"",0,Recepy,false,RecSClass);
  end;
  Flip(flipnr); flipnr = flipnr + 1;
  MatCol(t=1,144,".",0,Spec,false,0);
  MatCol(t,-345,"",0,Returned,true,0);
  MatCol(t,-285,"/",0,Invd,true,0);
  if(usercanaction("ViewCostPrice",false))then begin// Edit ************************** Tuesday, 10 February 2015 15:14:27
    MatCol(t,-225,"FIFO",0,FIFO,false,0);
    MatCol(t,-125,"FIFO  .",0,FIFORowVal,false,0);
  end;
  if (HasModNL) then begin
    Flip(flipnr); flipnr = flipnr + 1;
    MatCol(t=1,144,"",0,Spec,false,0);
    if(usercanaction("ViewCostPrice",false))then begin // Edit ************************** Tuesday, 10 February 2015 15:14:27
      MatCol(t,-340," .",0,ACShort,false,ACShortSClass);
      MatCol(t,-270," ",0,SalesAcc,false,AccSClass);
      MatCol(t,-200," ",0,CostAcc,false,AccSClass);
      if (HasObjects) then begin
        MatCol(t,-130,"",0,Objects,false,ObjSClass);
      end;
    end;
  end;
  InsertRowTest;
  DeleteRowTest;
  RowMenuBegin("");         
  RowMenuItem(0," ",'I','I',0,"ItemStatusWSDsm");         
  EndRowMenu;
  EndMatrix;
  vs = 20;
  v = 18; 
  if (flipnr>2) then begin
    for (f=1;f<flipnr;f=f+1) begin
      VTab(-35,v,-16,v+vs,ToolFlip,f,chr(asc("A") + f - 1)); 
      v = v + vs;
    end;
  end;
  if (HasMultiCurrency or HasBase2) then begin
    Tile(tilenr,70,false,tilenr,CurncyCode); tilenr = tilenr + 1;
    vs = 20;
    EditField(h=110,v=6,50,"",ViewOnly,CurncyCode,false,CurncyCodeSClass);
    if (HasMultiCurrency) then begin
      if (HasBase2) then begin
        EditField(h,v+vs,50,"  1",ViewOnly,BaseRate1,true,0);  
      end else begin
        EditField(h,v+vs,50," ",ViewOnly,BaseRate1,true,0); 
      end;
      if (HasBase2) then begin
        EditField(h,v+(vs*2),50,"  2",ViewOnly,BaseRate2,true,0);    
      end;  
        EditField(h2=295,v,50,"",ViewOnly,FrRate,true,0);
      if (HasBase2) then begin
        RateField(h3=360,v,50,":",ViewOnly,"ToRateB1",true,h3+60,v+14,"  1",false);  
        RateField(h3,v+=vs,50,":",ViewOnly,"ToRateB2",true,h3+60,v+14,"  2",false);     
      end else begin
        RateField(h3=360,v,50,":",ViewOnly,"ToRateB1",true,h3+60,v+14," ",false); 
      end;
    end else begin
      EditField(h,v+=vs,50,"  1",ViewOnly,BaseRate1,true,0); 
      EditField(h,v+=vs,50,"  2",ViewOnly,BaseRate2,true,0); 
    end;
  end; 
  Tile(tilenr,130,false,tilenr,Phone); tilenr = tilenr + 1;
  vs = 20;h = 75;h2 = 300;
  EditField(h,vm=(v=6),150,"",Normal,Phone,false,0);
  EditField(h,v+=vs,150,"",Normal,Fax,false,0);
  if (IsEnterprise) then begin
    EditField(h,v+=vs,200,"",Normal,InvoiceToCode,false,CUSClass);
  end;
  if (HasLanguages) then begin 
    EditField(h,v+=vs,80,"",Normal,LangCode,false,LangSClass);
  end;
  if (HasPriceLists) then begin
    EditField(h,v+=vs,80,"",Normal,PriceList,false,PLDefSClass);
  end;
  EditField(h+120,v,80,"..",Normal,SalesGroup,false,0);// Edit ************************** Monday, 22 February 2016 11:00:04
  if (HasVATZone) then begin
    v = VATZoneButtonsLabelsrus(h2,v=vm+vs,170,16);
  end;
  Tile(tilenr,90,false,tilenr,Comment1); tilenr = tilenr + 1; 
  vs = 20;
  EditField(h=75,v=6,-20,".",Normal,Comment1,false,0);
  EditField(h,v+=vs,-20,"",Normal,Comment2,false,0);
  EditField(h,v+=vs,-20,"",Normal,Comment3,false,0);
  EditField(h,v+=vs,-20,"",Normal,Comment4,false,0);
  EnterSkip(TransDate);
  if (HasModSVO) then begin
    SpecialMenu("   ",' ',0,"OpenWOFromWSDsm");
  end;
  if (HasIntegratedNL) then begin
    SpecialMenu("  ",'t',1,"OpenTRFromWS");
  end;
  SpecialMenu(" ",'f',3,"ItemSearchDsm");
  if (HasTaxMatrix) then begin
    SpecialMenu(" . ",' ',25,"OpenVatMatrixWSDsm");
  end;
  SpecMenuGroup("",kSpecMenuGroupTypeExtendedPlusMenu,0);         
  if (HasModCRM) then begin
//    SpecialMenu("Activity",'c',4,"ActFromWSDsm");
  end;
  if (HasModPO) then begin
    SpecialMenu("  ",' ',5,"POFromWSDsm");         
  end;
  if (HasReturnedGoods) then begin
    SpecialMenu("  ",'B',6,"RetFromWSDsm");         
  end;
  SpecialMenu(" ",' ',0,"PrintWSReceiptDsm");	//Edit----------------------Dima  17.09.2015
//  SpecMenuItem("Work Sheet Status",'r',4);
  EndWindow;
end;

window ORDClass:2
  wtag("language","RUS"), wtag("product","*"), wtag("productcode","*"), wtag("device","computer")
begin
  real h,h1,h2,h3,h4,t,v,vm,vs,h5,flipnr,width;
  string 255 label;
  Integer rn;
  
  WindowBegin(" ",ORDClass,CGview,-);
  SetWRect(20,80,750,460);
  Sizeable(-1,-1,0,0);
  UseView(ORVc);
  ToolBar;// Edit ************************** Wednesday, July 9, 2014 at 13:50:09
    HalPushButton(300,5,360,25,"PrintDoOrdFormButton","");// Edit ************************** Wednesday, July 9, 2014 at 13:50:08
  EndToolBar;// Edit ************************** Wednesday, July 9, 2014 at 13:50:10
  ActiveFieldOnNew("CustCode");
  CommunicateButton;
  Tile(0,74,false,"",CustCode);
  EditField(75,vm=(v=6),95,"",Normal,SerNr,false,TSerSClass);
  EditField(75,v+=20,95,"",Normal,CustCode,false,CUSClass);
  EnterSkip(PayDeal);
  EditField(h=255,v=vm,-40,".",Normal,Addr0,false,0);
  if (StandardHansa==false) then begin
    EditField(h,vm=(v+=20),135,". .",Normal,OfficialSerNr,false,LegalInvNrSClass);
    CheckBox(h4=-100,v,0,"OK",OKFlag);
  end else begin
    CheckBox(h4=-100,vm=(v+=20),0,"OK",OKFlag);   // From dict
  end;
//  CheckBox(h+120,vm,0,"",Closed);
//  CheckBox(h+240,vm,0,"Reserved",Reserved);
  TileButton(1,"");
  TileButton(2,"");
  TileButton(3,"");
  TileButton(4,"");
  TileButton(5,"-");
  TileButton(6,". ");
  TileButton(7," .");
  Tile(1,110,false,"1",OrdDate);
  vs = 20; h1 = 110; h2 = 290; h3 = 530; h4 = -100;
  EditField(h1,vm=(v=6),82,"",Normal,OrdDate,false,PasteCurDate);
  EditField(h1,v+=vs,25," ",Normal,PayDeal,false,PDSClass);
  EditField(h1,v+=vs,82," ",Normal,ReservToDate,false,PasteCurDate); // Edit ************************** Wednesday, July 9, 2014 
  //EditField(h1,v+=vs,82,". ",Normal,PlanShip,false,PasteCurDate); //Edit***************************Sasha2,11:01 11.05.2017
  EditField(h1,v+=vs,82," ",Normal,DespatchDate,false,PasteCurDate);
  EditField(h1,v+=vs,82," ",Normal,DespatchTime,false,PasteCurTime);
  EditField(h2,v=vm,135,"",Normal,OurContact,false,0);
  EditField(h2,v+=vs,135,"",Normal,CustContact,false,ContactSClass);
  EditField(h2,v+=vs,135,"",Normal,Objects,false,ObjSClass);
  EditField(h2,v+=vs,135,"",Normal,RefStr,false,0);
  EditField(h2,v+=vs,135,"  .",Normal,CustOrdNr,false,0);
  EditField(h3,v=vm,80,"",Normal,SalesMan,false,UserSClass);
  if (StandardHansa==false) then begin
    EditField(h3,v+=vs,80,"",Normal,PRCode,false,PRSClass);
  end;
  EditField(h3,v+=vs,80," ",Normal,OrderClass,false,OrderClassSClass);
  if (StandardHansa==false) then begin
    EditField(h3,v+=vs,80," ",Normal,OrderType,false,SetSClass);
    //EditField(h3,v+=vs,80,"",Normal,ORCONr,false,ORCOSClass); //Edit***************************Sasha2,11:02 11.05.2017
    EditField(h3,v+=vs,80,"",Normal,FrPrice,true,0);// Edit ************************** Wednesday, 22 April 2015 15:43:08
  end;
  CheckBox(h4,v=6,0,"",Closed);
  CheckBox(h4,v+=16,0,".",Reserved);
  EnterSkip(Math);
  Tile(2,220,true,"2",Math);
//  CheckBox(20,-20,0,"OK",OKFlag);
  EditField(55,-41,50,"",Normal,CurncyCode,false,CurncyCodeSClass);
  if (UseTaxTemplatesforTaxCalc==false) then begin
    if (UserCanAction("ViewCostPrice",true)) then begin
      EditField(160,-41,70,". %",Normal,GPProc,true,0);
      EditField(120,-21,70," ",ViewOnly,TotGP,true,0); //160  // Edit ************************** Wednesday, July 9, 2014 at 13:48:3
    end;
    if (HasLocalization("GBR,LTU,POL")) then begin
      EditField(310,-41,50,"Reverse #VAT#",ViewOnly,RvrsVAT,true,0); 
      EditField(290,-21,70,"Ext. Tax",ViewOnly,TAX1Sum,true,0); 
    end else begin
    EditField(290,-41,70,"",ViewOnly,TAX2Sum,true,0);
    EditField(290,-21,70,".",ViewOnly,TAX1Sum,true,0);
    end;
    EditField(410,-41,100,"",ViewOnly ,Sum3,true,0);
  end else begin
    /*if (UserCanAction("ViewCostPrice",true)) then begin
      EditField(290,-41,70,". %",Normal,GPProc,true,0);
      EditField(290,-21,70," ",ViewOnly,TotGP,true,0);
    end;
    EditField(410,-41,100,"",ViewOnly ,Sum3,true,0);  */
  end;
  EditField(410,-41,100,"-",ViewOnly,TotQty,true,0);// Edit ************************** Monday, 8 August 2011
  EditField(410,-21,100,"",ViewOnly,BaseSum4,true,0);
  EditField(-150,-41,100,"",ViewOnly ,Sum1,true,0);
  EditField(-150,-21,100,"",ViewOnly ,Sum4,true,0);
  v = 24;
  MatrixBegin(3,v,-50,-49,-,200);
  MatTypedRow(stp);
  flipnr = 0;
  Flip(flipnr); flipnr = flipnr + 1;
  MatText(t=9,32,"",true);
  MatCol(t,100,"",0,Spec,false,0);
  MatColTL(t,-80,"",0,-1,ViewOnly,0,Sum,true,0);
  MatText(t=17,32,"",true);
  MatCol(t,100,"",0,Spec,false,0);
  MatCol(t=1,32,"",0,ArtCode,false,ForSaleINSClass);
//  MatCol(t,94,"Var",0,VARList,true,VARSClass);
//  MatCol(t,144,"Qty",0,Quant,true,0);
  t = 1;
  if (HasVarieties) then begin
    MatCol(t,144,"-",0,Quant,true,MATVARINSClass); //94 // Edit ************************** Monday, July 14, 2014 at 10:35:22
  end else begin
    MatCol(t,144,"-",0,Quant,true,0); //94 // Edit ************************** Monday, July 14, 2014 at 10:35:22
  end;
  EnterSkip(ArtCode);
  MatCol(t=kInvoiceRowTypeStructuredItemComponent,32,"",0,ArtCode,false,ForSaleINSClass);
//  MatCol(t,94,"Var",0,VARList,true,VARSClass);
//  MatCol(t,144,"Qty",0,Quant,true,0);
  if (HasVarieties) then begin
    MatCol(t,144,"-",0,Quant,true,MATVARINSClass); //94 // Edit ************************** Monday, July 14, 2014 at 10:35:22
  end else begin
    MatCol(t,144,"-",0,Quant,true,0); //94 // Edit ************************** Monday, July 14, 2014 at 10:35:22
  end;
  EnterSkip(ArtCode);
  MatText(t=10,32,"      ",false);
  MatText(t=kInvoiceRowTypePerceptionTax,32," ",true);
  MatCol(t,132,"",0,Region,false,0);
  MatCol(t,252,"",0,TAX2Prc,true,0);
  MatCol(t,292,"",0,Sum,true,0);
  MatCol(t,372,"",0,SalesAcc,false,0);
  MatCol(t,452,"",0,Spec,false,0);
  Flip(flipnr); flipnr = flipnr + 1;
//  MatCol(t=1,194,"",0,Spec,false,0);
  t = 1;
  MatCol(t,184,"",0,Spec,false,0); //144 // Edit ************************** Monday, July 14, 2014 at 10:34:58
  MatCol(t,-180,"",0,Price,true,PLSClass);  // use PL2SClass for filtered datalist //-235 // Edit ************************** Monday, July 14, 2014 at 10:34:43
  MatCol(t,-105,"%",0,vRebate,true,0); //-135 // Edit ************************** Monday, July 14, 2014 at 10:34:44
  MatCol(t,-70,"",0,Sum,true,0); //-100 // Edit ************************** Monday, July 14, 2014 at 10:34:45
  MatCol(t=kInvoiceRowTypeStructuredItemComponent,144,"",0,Spec,false,0);
  MatCol(t,-235,"",0,Price,true,PLSClass); //-235 // Edit ************************** Monday, July 14, 2014 at 10:34:27 // use PL2SClass for filtered datalist
  MatCol(t,-135,"%",0,vRebate,true,0); //-135 // Edit ************************** Monday, July 14, 2014 at 10:34:23
  MatCol(t,-100,"",0,Sum,true,0); //-70 // Edit ************************** Monday, July 14, 2014 at 10:34:15
  Flip(flipnr); flipnr = flipnr + 1;
  t = 1;
  MatCol(t,144,"",0,Spec,false,0);
  if (UseTaxTemplatesforTaxCalc) then begin
    MatCol(t,-284,"  ",0,CustArtCode,false,CUINSClass);
    MatCol(t,-224,"",0,SalesAcc,false,AccSClass);
    MatCol(t,-164,"",0,Objects,false,ObjSClass);
    MatCol(t,-70,"-",0,TaxTemplateCode,false,TaxTemplateSClass);
  end else begin
    MatCol(t,-264,"  ",0,CustArtCode,false,CUINSClass);
    MatCol(t,-184,"",0,SalesAcc,false,AccSClass);
    MatCol(t,-124,"",0,Objects,false,ObjSClass);
    if (HasLocalization("GBR,LTU,POL") and IsEnterprise) then begin
      MatCol(t,-60,"#V-Cd#",0,VATCode,false,VATCodeSClass); 
      MatCol(t,-30,"Rvrs",0,RvrsVATCode,false,VATCodeSClass); 
    end else begin
    MatCol(t,-30,"",0,VATCode,false,VATCodeSClass);
    end;
  end;
  MatCol(t=kInvoiceRowTypeStructuredItemComponent,144,"",0,Spec,false,0);
  if (UseTaxTemplatesforTaxCalc) then begin
    MatCol(t,-284,"  ",0,CustArtCode,false,CUINSClass);
    MatCol(t,-224,"",0,SalesAcc,false,AccSClass);
    MatCol(t,-164,"",0,Objects,false,ObjSClass);
    MatCol(t,-70,"-",0,TaxTemplateCode,false,TaxTemplateSClass);
  end else begin
    MatCol(t,-264,"  ",0,CustArtCode,false,CUINSClass);
    MatCol(t,-184,"",0,SalesAcc,false,AccSClass);
    MatCol(t,-124,"",0,Objects,false,ObjSClass);
    if (HasLocalization("GBR,LTU,POL") and IsEnterprise) then begin
      MatCol(t,-60,"#V-Cd#",0,VATCode,false,VATCodeSClass); 
      MatCol(t,-30,"Rvrs",0,RvrsVATCode,false,VATCodeSClass); 
    end else begin
    MatCol(t,-30,"",0,VATCode,false,VATCodeSClass);
    end;
  end;
  Flip(flipnr); flipnr = flipnr + 1;
  t = 1;
  MatCol(t,144,"",0,Spec,false,0);
  MatCol(t,344," ",0,OrderType,false,SetSClass);
  if (UserCanAction("ViewCostPrice",true)) then begin
    MatCol(t,-245,"",0,Price,true,0); // use PL2SClass for filtered datalist
    MatCol(t,-175,"%",0,vRebate,true,0);
    MatCol(t,-140,"",0,BasePrice,true,0);
    MatCol(t,-70,"",0,rowGP,true,0);
  end else begin
    MatCol(t,-235,"  .",0,Price,true,0); // use PL2SClass for filtered datalist
    MatCol(t,-135,"%",0,vRebate,true,0);
    MatCol(t,-100,"",0,Sum,true,0);
  end;
  MatCol(t=kInvoiceRowTypeStructuredItemComponent,144,"",0,Spec,false,0);
  if (UserCanAction("ViewCostPrice",true)) then begin
    MatCol(t,-245,"",0,Price,true,0); // use PL2SClass for filtered datalist
    MatCol(t,-175,"%",0,vRebate,true,0);
    MatCol(t,-140,"",0,BasePrice,true,0);
    MatCol(t,-70,"",0,rowGP,true,0);
  end else begin
    MatCol(t,-235,"",0,Price,true,0); // use PL2SClass for filtered datalist
    MatCol(t,-135,"%",0,vRebate,true,0);
    MatCol(t,-100,"",0,Sum,true,0);
  end;
  Flip(flipnr); flipnr = flipnr + 1;
  t = 1;
  MatCol(t,144,"",0,Spec,false,0);
  MatCol(t,-300,"",0,Salesmen,false,UserSClass);
  MatCol(t,-236,".",0,Shipd1,true,0);
  MatCol(t,-184,". ",0,Shipd2,true,0);
  MatCol(t,-132,".",0,Invd,true,0);
  //MatCol(t,-80,"",0,Recepy,false,RecSClass); // Edit ************************** Friday, 31 October 2014 16:17
  MatCol(t=kInvoiceRowTypeStructuredItemComponent,144,"",0,Spec,false,0);
  MatCol(t,-290,".",0,Shipd1,true,0);
  MatCol(t,-220,"",0,Shipd2,true,0);
  MatCol(t,-150,"-",0,Invd,true,0);
  MatCol(t,-80,"",0,Recepy,false,RecSClass);
  Flip(flipnr); flipnr = flipnr + 1;
  t = 1;
  MatCol(t,144,"",0,Spec,false,0);
  MatCol(t,-290," ",0,SerialNr,false,SerialNrSClass);
  MatCol(t,-150," ",0,PlanShipRow,true,PasteCurDate);
  MatCol(t,-70," ",0,PriceFactor,true,0);
  MatCol(t=kInvoiceRowTypeStructuredItemComponent,144,"",0,Spec,false,0);
  MatCol(t,-290," ",0,SerialNr,false,SerialNrSClass);
  MatCol(t,-150," ",0,PlanShipRow,true,PasteCurDate);
  MatCol(t,-70," ",0,PriceFactor,true,0);
  Flip(flipnr); flipnr = flipnr + 1;
  t = 1;
  MatCol(t,144,"",0,Spec,false,0);
  MatCol(t,-315,"",0,ShipNote,false,0);
  MatCol(t,-210,"",0,Location,false,LocationSClass);
  if (StandardHansa==false) then begin
    MatCol(t,-145,"",0,Position,true,UsedPosSClass);
  end;
  MatCol(t,-90,"",0,Source,true,SourceSClass);
  MatCol(t=kInvoiceRowTypeStructuredItemComponent,144,"",0,Spec,false,0);
  MatCol(t,-315,"",0,ShipNote,false,0);
  MatCol(t,-210,"",0,Location,false,LocationSClass);
  if (StandardHansa==false) then begin
    MatCol(t,-145,"",0,Position,true,UsedPosSClass);
  end;
  MatCol(t,-90,"",0,Source,true,SourceSClass);
  if (StandardHansa==false) then begin
    Flip(flipnr); flipnr = flipnr + 1;
    MatCol(t=1,144," ",0,PickingDate,false,PasteCurDate);
    MatCol(t,-390," .",0,PickingTime,false,PasteCurTime);
    MatCol(t,-320," .",0,InloadingDate,true,PasteCurDate);
    MatCol(t,-230," .",0,InloadingTime,true,PasteCurTime);
    MatCol(t,-160," .",0,DespatchRowDate,true,PasteCurDate);
    MatCol(t,-70," .",0,DespatchRowTime,true,PasteCurTime);
    MatCol(t=kInvoiceRowTypeStructuredItemComponent,144," ",0,PickingDate,false,PasteCurDate);
    MatCol(t,-390," .",0,PickingTime,false,PasteCurTime);
    MatCol(t,-320," .",0,InloadingDate,true,PasteCurDate);
    MatCol(t,-230," .",0,InloadingTime,true,PasteCurTime);
    MatCol(t,-160," .",0,DespatchRowDate,true,PasteCurDate);
    MatCol(t,-70," .",0,DespatchRowTime,true,PasteCurTime);
  end;
  Flip(flipnr); flipnr = flipnr + 1;
  t = 1;
  MatCol(t,144,"",0,Spec,false,0);
  MatCol(t,-315,".",0,UnitCode,false,UnitSClass);
  MatCol(t,-260,"- .",0,UnitFactQuant,true,0);
  MatCol(t,-200,"",0,UnitXval,true,0);
  MatCol(t,-160,"",0,UnitYval,true,0);
  MatCol(t,-120,"",0,UnitZval,true,0);
  MatCol(t,-80," .",0,UnitFactPrice,true,0);
  MatCol(t=kInvoiceRowTypeStructuredItemComponent,144,"",0,Spec,false,0);
  MatCol(t,-315,".",0,UnitCode,false,UnitSClass);
  MatCol(t,-260,"- .",0,UnitFactQuant,true,0);
  MatCol(t,-200,"",0,UnitXval,true,0);
  MatCol(t,-160,"",0,UnitYval,true,0);
  MatCol(t,-120,"",0,UnitZval,true,0);
  MatCol(t,-80," .",0,UnitFactPrice,true,0);
  InsertRowTest;
  DeleteRowTest;
  RowMenuBegin("");         
  RowMenuItem(0," ",'I','I',0,"ItemStatusORDsm");         
  if (StandardHansa==false) then begin
    RowMenuItem(0,"   ",' ',' ',0,"ORLastSPrsm");         
  end;
  RowMenuItem(0," ",' ',' ',0,"ORAddHeaderLine");         
  RowMenuItem(0,"  ",' ',' ',0,"ORAddHidLine");         
  RowMenuItem(0,"    ",' ',' ',0,"SubtotalORDsm");         
  if (StandardHansa==false) then begin
    RowMenuItem(0,"  ",' ',' ',0,"MgrsDiscOverrideORDsm"); 
  end;
  EndRowMenu;
  EndMatrix;
  vs = 20;
  v = 18; VTab(-35,v,-16,v+vs,ToolFlip,1,"A");
  v=v+vs;  VTab(-35,v,-16,v+vs,ToolFlip,2,"B");
  v=v+vs;  VTab(-35,v,-16,v+vs,ToolFlip,3,"C");
  v=v+vs;  VTab(-35,v,-16,v+vs,ToolFlip,4,"D");
  v=v+vs;  VTab(-35,v,-16,v+vs,ToolFlip,5,"E");
  v=v+vs;  VTab(-35,v,-16,v+vs,ToolFlip,6,"F");
  v=v+vs;  VTab(-35,v,-16,v+vs,ToolFlip,7,"G");
  if (StandardHansa==false) then begin
    v=v+vs;  VTab(-35,v,-16,v+vs,ToolFlip,8,"H");
  end;
  Tile(3,70,false,"3",FrRate);
  vs = 20;
  EditField(h=110,v=6,50,"",Normal,CurncyCode,false,CurncyCodeSClass);
  EditField(h,v+vs,50,"  1",Normal,BaseRate1,true,0);  
  EditField(h,v+(vs*2),50,"  2",Normal,BaseRate2,true,0);    
  EditField(h2=295,v,50,"",Normal,FrRate,true,0);  
  RateField(h3=360,v,50,":",Normal,"ToRateB1",true,h3+60,v+14,"  1",false);  
  RateField(h3,v+=vs,50,":",Normal,"ToRateB2",true,h3+60,v+14,"  2",false);     
  Tile(4,110,false,"4",ShipDeal);
  vs = 20; h1 = 110; h2 = 290; h3 = 530; h4 = -100;
  EditField(h1,v=6,80," ",Normal,ShipDeal,false,ShipDealSClass);
  EditField(h1,v+=vs,80," ",Normal,ShipMode,false,DMSClass);
  if (StandardHansa==false) then begin
    EditField(h1,v+=vs,80,"",Normal,Sorting,false,DelRouteSClass);
  end;
  EditField(h1,v+=vs,80,"",Normal,Location,false,LocationSClass);
  if (StandardHansa==false) then begin
    EditField(h1,v+=vs,80,"",Normal,BranchID,false,AllCUSClass);
  end;
  EditField(h2,v=vm,80," -",ViewOnly,TotQty,true,0);
  EditField(h2,v+=vs,80," ",ViewOnly,TotWeight,true,0);
  EditField(h2,v+=vs,80," ",ViewOnly,TotVolume,true,0);
  EditField(h2,v+=vs,80,"",Normal,FrPrice,true,0);
  EditField(h2,v+=vs,80," ",Normal,IntrastatTransCode,true,IntrastatTransCodeSClass);  
  if (StandardHansa==false) then begin
    EditField(h3,v,80,"  ",Normal,FrVATCode,true,VATCodeSClass);
  end;
  CheckBox(473,v=vm,0,"/  ",InvBeforeShip);
  CheckBox(473,v+=16,0,"  -",SHShipSetToZero); 
  Tile(5,130,false,"5",PriceList);
  h3 = 530;
  EditField(h1,v=vm,80,"-",Normal,PriceList,false,PLDefSClass);
  EditField(h1,v+=vs,80," ",ViewOnly,RebCode,false,0);
//  EditField(h2,v+=vs,80,"Disc %",ViewOnly,DiscPerc,false,0);
//  EditField(h2,v+=vs,80,"Disc Amnt",ViewOnly,DiscSum,false,0);
  EditField(h1,v+=vs,80,"",Normal,InvoiceToCode,false,CUSClass);
  if (StandardHansa==false) then begin
    EditField(h1,v+=vs,80," ",Normal,CreditCard,false,CreditCardSClass);
    EditField(h1,v+=vs,80,"",Normal,AuthorizationCode,false,0);
  end;
  EditField(h1,v+=vs,-20,"",Normal,Comment,false,0);
  EditField(h1,v+=vs,-20,"",Normal,Comment2,false,0);
  EditField(h1,v+=vs,-20,"",Normal,Comment3,false,0);
  EditField(h1,v+=vs,-20,"",Normal,Comment4,false,0);
  v = vm;
  if (HasSalesGroup) then begin
    EditField(h2,v,80,"  ",Normal,SalesGroup,false,SalesGroupSClass);
    v = v + vs;
  end;
  EditField(h2,v,80,"",Normal,LangCode,false,LangSClass);
  if (StandardHansa==false) then begin
    EditField(h2,v+=vs,80,"",Normal,Commision,true,0);
    EditField(h2,v+=vs,80,"  .",ViewOnly,SumIncCom,true,0);
  end;
  if (HasTREO) then begin
    EditField(h3,v=vm,80,"TREO ",Normal,TREONr,false,0);
    EditField(h3,v+=vs,80,"TREO  .",Normal,TREOExpDate,false,PasteCurDate);
  end;
  Tile(6,250,false,"6",Addr1);
  label = UserDefined("CUVc","InvAddr0");
  if (blank(label)) then begin label = "-"; end;
  EditField(h=110,v=6,-20,label,Normal,Addr1,false,0);
  label = UserDefined("CUVc","InvAddr1");
  if (blank(label)) then begin label = ""; end;
  EditField(h,v+=vs, -20,label,Normal,Addr2,false,0);
  label = UserDefined("CUVc","InvAddr2");
  EditField(h,v+=vs, -20,label,Normal,Addr3,false,0);
  label = UserDefined("CUVc","InvAddr3");
  EditField(h,v+=vs, -20,label,Normal,InvAddr3,false,0);
  label = UserDefined("CUVc","InvAddr4");
  EditField(h,v+=vs, -20,label,Normal,InvAddr4,false,0);
  EditField(h,vm=(v+=vs),80,"",Normal,InvCountry,false,CountrySClass);
  if (HasLocalization("BRA")) then begin 
    EditField(h2-89,v,232,"",ViewOnly,InvCountryName,false,0);
    h5 = -170;
    width = 150;
  end else begin
    h5 = -270;
    width = 135;
  end;
  EditField(h5,v,width,"",Normal,BankCode,false,BankSClass);
  if (HasApprovals) then begin
    SoftEditField(h3=h+4,v=(vm+=40),123," ",ViewOnly,"AcceptanceStatusFlag",false,0,M4Str,255);
/*  
    ButtonFrame(h3=h+4,v=(vm+=40),123,6," ");
    RadioButton(h3,v,kAcceptanceStateNotRequired,0," ",AcceptanceStatus);
    RadioButton(h3,v+=16,kAcceptanceStateNotStarted,0," ",AcceptanceStatus);
    RadioButton(h3,v+=16,kAcceptanceStateNotRequested,0," ",AcceptanceStatus);
    RadioButton(h3,v+=16,kAcceptanceStatePending,0," ",AcceptanceStatus);
    RadioButton(h3,v+=16,kAcceptanceStateApproved,0,"",AcceptanceStatus);
    RadioButton(h3,v+=16,kAcceptanceStateRejected,0,"",AcceptanceStatus);
*/    
    v = VATZoneButtonsLabelsrus(h3=290,v=vm,170,16);
  end else begin
    v = VATZoneButtonsLabelsrus(h3=290,v=vm+20,170,16);
  end;
  EditField(h2=-170,v=vm,150,"",Normal,Region,false,RegionSClass);
  EditField(h2,v+=vs,150,"",Normal,VATNr,false,0);
  EditField(h2,v+=vs,150,"GLN",ViewOnly,RecipientGLN,false,0);  
  EditField(h2,v+=vs,150,"",Normal,Phone,false,0);
  EditField(h2,v+=vs,150,"",Normal,Fax,false,0);
  Tile(7,170,false,"7",ShipAddr0);
  if (StandardHansa==false) then begin
    EditField(h1,v=6,80," ",Normal,DelAddrCode,false,DelAddr3SClass);
    EditField(h1,v+=vs,-20,"",Normal,ShipAddr0,false,0);
  end else begin
    EditField(h1,v=6,-20,"",Normal,ShipAddr0,false,0);   // From dict
  end;
  EditField(h1,v+=vs,-20,"",Normal,ShipAddr1,false,0);
  EditField(h1,v+=vs,-20,"",Normal,ShipAddr2,false,0);
  EditField(h1,v+=vs,-20,"",Normal,ShipAddr3,false,0);
  EditField(h1,v+=vs,-20,"",Normal,DelAddr3,false,0);
  EditField(h1,v+=vs,-20,"",Normal,DelAddr4,false,0);
  EditField(h1,v+=vs,80,"",Normal,DelCountry,false,CountrySClass);
  if (HasLocalization("BRA")) then begin 
    EditField(h1+91,v,232,"",ViewOnly,DelCountryName,false,0);
    h5 = -170;
    width = -20;
  end;  
  EditField(h2,v,150,"GLN ",ViewOnly,DelRecipientGLN,false,0);  
//  EditField(h1+200,v,80,"#VAT Code#",Normal,CustVATCode,false,0);
  EnterSkip(OrdDate);
  if (GuiType==kGuiMetro) then begin // Temporarily disabled on Windows 8
    SpecialMenu(" ",'r',5,"ORInfoRnORDsm");
    SpecialMenu(" ",'I',2,"ItemStatusORDsm");
    SpecialMenu(" ",'L',0,"SHFromORDsm");
    SpecialMenu(" /",'F',1,"IVFromORDsm");
    SpecialMenu(" ",' ',14,"SubtotalORDsm");
/*
email not working yet
    SpecialMenu(" . ",'m',11,"CreateMailFromORDsm");
*/
  end else begin
    SpecialMenu(" ",' ',11,"RecalcDiscountORDsm");
    if (StandardHansa==false) then begin
      SpecialMenu("   ",' ',10,"RecalculateWeightORDsm");
    end;
    if (HasLocalization("USA")) then begin
      SpecialMenu("Get Tax Rates",' ',0,"ORGetTaxRatesDsm"); 
    end;
  
    SpecialMenu("   ",' ',7,"UpdatePricesORDsm");
    SpecialMenu(" ",'f',1,"ItemSearchDsm");
    SpecialMenu(" ",'r',5,"ORInfoRnORDsm");
    if (HasTaxMatrix) then begin
      SpecialMenu("Open Tax Matrix",' ',25,"OpenVatMatrixORDsm"); 
    end;
    if (StandardHansa==false) then begin
      SpecialMenu("  ",' ',4,"Or2FormORDsm");
    end;
    SpecialMenu("",' ',15,"OrderReservORDsm");
    if (GuiType==kGuiiPhone) then begin
      SpecialMenu("",' ',10,"SignORDsm");         
    end;
    /*SpecialMenu("  Shops",' ',25,"SendToShopsFromORVcDm"); //Edit***************************Sasha2,15:32 29.08.2014
    SpecialMenu("  Shops",' ',25,"TakeFromShopsFromORVcDm"); //Edit***************************Sasha2,15:32 29.08.2014
    SpecialMenu("    ",' ',25,"SplitSerialItemsORVcDm"); //Edit***************************Sasha2,11:20 23.07.2015
    SpecialMenu("   PARUS",'',16,"ORtoBuhDsm");*/
    
    SpecialMenu("  Excel",'',16,"ORtoExcel1Dsm");
    
    SpecMenuGroup("",kSpecMenuGroupTypeExtendedPlusMenu,0);         
  //  SpecialMenu("Activity",'c',9,"CreateActFromORDsm");
    SpecialMenu(" ",'L',0,"SHFromORDsm");         
    if (HasDownpayments) then begin
      SpecialMenu("   . ",' ',3,"DownPayFromORDsm");         
    end;
    if (HaseMail or IsEnterprise) then begin
      SpecialMenu(" . ",'m',11,"CreateMailFromORDsm");
    end;
    SpecialMenu(" ",'F',1,"IVFromORDsm");
    if (HasModTS or IsEnterprise) then begin
      SpecialMenu(" ",' ',9,"CreatePRFromORDsm");
      SpecialMenu("  ",' ',10,"CreateTBBUFromORDsm");
    end;
    SpecialMenu("  ",' ',4,"POFromORDsm");  
    SpecialMenu("  ",'B',6,"RetFromORsm");
    SpecialMenu("   ",' ',8,"StockMovFromORDsm");
    if (HasApprovals) then begin
      SpecialMenu(" ",' ',6,"ORSendforAcceptanceORDsm"); 
      SpecialMenu("  ",' ',2,"CancelApprovalRequestDsm"); 
    end;
    SpecialMenu(" ",' ',0,"AddCustomerORDsm");         
    SpecialMenu(" ",' ',0,"AddItemORDsm");           
  end;
  EndWindow;
end;

window IVDClass:2
  wtag("language","RUS"), wtag("product","*"), wtag("productcode","*"), wtag("device","computer")
begin
  real h,h1,h2,h3,h4,hm,hs,t,v,v2,v3,vm,vs,width,h5;
  string 255 label;
  Integer rn;
  
  WindowBegin("- ",IVDClass,CGview,-);
  Sizeable(-1,-1,0,0);
  UseView(IVVc);
  ToolBar; //Edit***************************Sasha2,11:16 20.05.2015{
    HalPushButton(300,5,360,25,"PrintDoInvFormButton","");
  EndToolBar; //Edit***************************Sasha2,11:16 20.05.2015 }
//if (HasTouchScreenLook==false) then begin  //no more TS interface in SL 
if (true) then begin
  ActiveFieldOnNew("CustCode");
  SetWRect(20,80,750,460);
  CommunicateButton;
  Tile(0,74,false,"",CustCode);
  EditField(75,vm=(v=6),95,"",Normal,SerNr,false,TSerSClass);
  EditField(75,v+=20,95,"",Normal,CustCode,false,CUSClass);
  EnterSkip(PayDeal);
  EditField(h=255,v=vm,-40,".",Normal,Addr0,false,0);
  if (StandardHansa==false) then begin
    if (HasLocalization("FIN")) then begin
      EditField(h,vm=(v+=20),180,"Payment Ref",ViewOnly,CalcFinRef,false,0);
    end else begin
      EditField(h,vm=(v+=20),135,". o.",Normal,OfficialSerNr,false,LegalInvNrSClass);
    end;
    if (CurrentUser=="SA") then begin
      EditField(h+200,v,100,"LocOKNr",Normal,LocOKNr,false,0); //Edit***************************Sasha2,14:56 15.02.2016
    end;
    if (HasLocalization("BRA")) then begin
      EditField(500,vm,135,"Bank Receipt No.",ViewOnly,BankReceiptNr,false,0); 
    end;
  end else begin
    v = v + 20;
    vm = v;
  end;
  CheckBox(h4=-80,v,0,"OK",OKFlag);
  TileButton(1,"");
  TileButton(2,"");
  TileButton(3,"");
  TileButton(4," .");
  TileButton(5,"");
  TileButton(6,"-");
  TileButton(7," /");
  TileButton(8," .");
  Tile(1,110,false,"1",InvDate);
  vs = 20; h1 = 110; h2 = 290; h3 = 530; h4 = -100;
  EditField(h1,vm=(v=6),82," /",Normal,InvDate,false,PasteCurDate);
  EditField(h1,v+=vs,25," ",Normal,PayDeal,false,PDSClass);//PDMSClass);
  EditField(h1,v+=vs,82," ",Normal,PayDate,false,PasteCurDate);
  EditField(h1,v+=vs,82," ",Normal,TransDate,false,PasteCurDate);
  EditField(h1,v+=vs,82," . ",Normal,ServiceDelDate,false,PasteCurDate);  
  EditField(h2,v=vm,135,"",Normal,OurContact,false,0);
  EditField(h2,v+=vs,135,"",Normal,ClientContact,false,ContactSClass);
  EditField(h2,v+=vs,135,"",Normal,Objects,false,ObjSClass);
  EditField(h2,v+=vs,135,"",Normal,RefStr,false,0);
  EditField(h2,v+=vs,135,"  ",Normal,CustOrdNr,false,0);
  EditField(h3,v=vm,80,"",Normal,SalesMan,false,UserSClass);
  if (StandardHansa) then begin
    EditField(h3,v+=vs,80,"",Normal,Location,false,LocationSClass);
  end else begin
    EditField(h3,v+=vs,80,"",Normal,PRCode,false,0);
  end;
  EditField(h3,v+=vs,80," ./",Normal,Reason,false,StandProblemsSClass);
  if (HasLocalization("MEX")) then begin  
    EditField(h3,v+=vs,80," ",Normal,PMCode,false,PMSClass);  
  end;
  if (HasLocalization("BRA")) then begin
    EditField(h3,v+=vs,80," ",Normal,BrazilEInvType,false,BrazilEInvTypeSClass);
  end;
  if (HasLocalization("BOL,BRA,HRV,MEX")) then begin
    EditField(h3,v+=vs,130,"Tax Seal",ViewOnly,TaxAdminServSeal,false,0);
  end;
  if (HasLocalization("MEX")) then begin
    EditField(h3,v+=vs,80,"No. Pay. Acc.",Normal,PayAccNo,false,0);
  end;
  if (HasLocalization("RUS")) then begin
    EditField(h3,v+=vs,-20," / -",Normal,ReceiptInfo,false,0);
  end;
  CheckBox(h3,v+=vs,0,"   FIFO",IgnoreBlankFIFO);	//Edit----------------------Dima  09.02.2016
  CheckBox(-80,v=6,0,"",DisputedFlag);
  CheckBox(h4,v+=vs,0,"Bixolon .",PrintedFlag); //Edit***************************Sasha2,12:28 11.01.2016
  if (StandardHansa) then begin
    CheckBox(h4,v+=16,0," ",UpdStockFlag);
  end;
  EnterSkip(Math);
  Tile(2,220,true,"2",Math);
  //  CheckBox(20,-20,0,"OK",OKFlag);
  if (CompileType!=ctiPhone) then begin
    EditField(55,-41,50,"",Normal,CurncyCode,false,CurncyCodeSClass);
    if (UseTaxTemplatesforTaxCalc==false) then begin
      if (UserCanAction("ViewCostPrice",true)) then begin
        //EditField(160,-41,70,"GP %",Normal,GPProc,true,0); //Edit***************************Sasha2,12:31 11.05.2017
        EditField(160,-21,70," .",ViewOnly,TotGP,true,0);
      end;
      if (HasLocalization("GBR,LTU,POL")) then begin
        EditField(310,-41,50,"Reverse #VAT#",ViewOnly,RvrsVAT,true,0); 
        EditField(290,-21,70,"Ext. Tax",ViewOnly,TAX1Sum,true,0); 
      end else begin
      EditField(290,-41,70,"",ViewOnly,TAX2Sum,true,0);
      EditField(290,-21,70,". .",ViewOnly,TAX1Sum,true,0);
      end;
      EditField(410,-41,95,"",ViewOnly ,Sum3,true,0);
    end else begin
      if (UserCanAction("ViewCostPrice",true)) then begin
        EditField(290,-41,70,"GP %",Normal,GPProc,true,0); 
        EditField(290,-21,70," .",ViewOnly,TotGP,true,0);
      end;
      EditField(410,-41,95,"",ViewOnly ,Sum3,true,0);
    end;
    EditField(410,-21,95,"",ViewOnly,BaseSum4,true,0);
    EditField(-150,-41,95,"",ViewOnly ,Sum1,true,0);
    EditField(-150,-21,95,"",ViewOnly ,Sum4,true,0);
  end else begin
    EditField(55,-41,80,"",Normal,CurncyCode,false,CurncyCodeSClass);
    EditField(55,-21,80,"",ViewOnly ,Sum3,true,0);
    EditField(-120,-41,80,". .",ViewOnly,TAX1Sum,true,0);
    EditField(-120,-21,80,"",ViewOnly ,Sum4,true,0);
  end;
  v = 24;
  MatrixBegin(4,v,-50,-49,-,200);
  MatTypedRow(stp);
  MatOverStrike(ovst);
  Flip(0);
  MatCol(t=kInvoiceRowTypeNormal,32,"",0,ArtCode,false,ForSaleINSClass);
  //  MatCol(t,94,"Var",0,VARList,true,VARSClass);
  //  MatCol(t,144,"Qty",0,Quant,true,0);
  if (HasVarieties) then begin
    MatCol(t,144,"-",0,Quant,true,MATVARINSClass); //94 // Edit ************************** Tuesday, 29 July 2014 17:12:45
  end else begin
    MatCol(t,144,"-",0,Quant,true,0); //94 // Edit ************************** Tuesday, 29 July 2014 17:12:46
  end;
  EnterSkip(ArtCode);
  MatCol(t=kInvoiceRowTypeStructuredItemComponent,32,"",0,ArtCode,false,ForSaleINSClass);
  if (HasVarieties) then begin
    MatCol(t,144,"-",0,Quant,true,MATVARINSClass); //94 // Edit ************************** Tuesday, 29 July 2014 17:12:47
  end else begin
    MatCol(t,144,"-",0,Quant,true,0); //94 // Edit ************************** Tuesday, 29 July 2014 17:12:49
  end;
  EnterSkip(ArtCode);
  MatText(t=kInvoiceRowTypeCredit,32," /",true);
  MatCol(t,208,"",0,OrdRow,false,ARSClass);
  MatCol(t,-216,"",0,Spec,false,0);//MatText(t);
  MatText(t=kInvoiceRowTypeDebit,32," /",true);  
  MatCol(t,208,"",0,OrdRow,false,0);  
  MatCol(t,-216,"",0,Spec,false,0);  
  MatText(t=kInvoiceRowTypeInterest,32,"",true);
  MatCol(t,98,"",0,ArtCode,false,0);
  MatCol(t,153,"",0,Quant,true,0);
  MatCol(t,188,"",0,Spec,false,0);
  MatText(t=kInvoiceRowTypeDownpayment,32," ",true);
  MatColTL(t,122,"",0,-1,ViewOnly,0,ArtCode,true,0);
  MatColTL(t,188,"",0,-1,ViewOnly,0,Quant,true,0);
  MatCol(t,238,"",0,Spec,false,0);
  MatColTL(t,-240,"",0,-1,ViewOnly,0,Price,true,0);
  MatColTL(t,-180,"",0,-1,ViewOnly,0,vRebate,true,0);         
  MatColTL(t,-140,"",0,-1,Normal,0,Sum,true,0); //?? TL?         
  if (UseTaxTemplatesforTaxCalc) then begin
    MatCol(t,-100,"",0,SalesAcc,false,AccSClass);
    MatCol(t,-54,"",0,TaxTemplateCode,false,TaxTemplateSClass);
  end else begin
    MatCol(t,-70,"",0,SalesAcc,false,AccSClass);
    MatCol(t,-24,"",0,VATCode,false,VATCodeSClass);
  end;
  MatText(t=kInvoiceRowTypePrepayment,32," ",true);
  MatCol(t,208,"",0,CUPNr,false,ARPay3SClass);
  MatCol(t,-216,"",0,BasePrice,false,0); 
  MatCol(t,-170,"",0,Price,true,0);// Price holds the #VAT# sum, Recipe holds the date of prepaym. BasePrice holds amount in base 1, TAX1Reb holds TAX1Sum
  MatCol(t,-100,"",0,Sum,true,0);
  MatText(t=kInvoiceRowTypeLoan,32,"",true);
  MatCol(t,98,"",0,CuAccCode,true,CuAccSClass);
  MatCol(t,-350,"",0,SalesAcc,true,AccSClass);
  MatCol(t,-230,"",0,Objects,false,0);
  MatCol(t,-110,"",0,Sum,true,0);
  MatCol(t,-30,"",0,VATCode,false,VATCodeSClass);
  MatText(t=kInvoiceRowTypeLoanInterest,32,"% ",true);
  MatCol(t,98,"",0,CuAccCode,true,CuAccSClass);
  MatCol(t,-350,"",0,SalesAcc,true,AccSClass);
  MatCol(t,-230,"",0,Objects,false,0);
  MatCol(t,-110,"",0,Sum,true,0);
  MatCol(t,-30,"",0,VATCode,false,VATCodeSClass);
  MatText(t=kInvoiceRowTypeUpdateMark,32,"",false);
  MatColTL(t,94,"",0,-1,ViewOnly,0,VoidedSign,false,0);
  MatCol(t,144,"",0,Spec,false,0);
  MatText(t=kInvoiceRowTypeVoid,32,"",false);
  MatColTL(t,65,"",0,-1,ViewOnly,0,VoidedSign,false,0);
  MatCol(t,100,"",0,ArtCode,false,ForSaleINSClass);
  if (HasVarieties) then begin
    MatCol(t,150,"-",0,Quant,true,MATVARINSClass);
  end else begin
    MatCol(t,150,"-",0,Quant,true,0);
  end;
  MatCol(t,190,"",0,Price,true,0);
  MatCol(t,250,"",0,Spec,false,0);
  MatCol(t,-195,". ",0,SerialNr,false,SerialNrSClass);
  MatCol(t,-110,"%",0,vRebate,true,0);
  MatCol(t,-80,"",0,Sum,true,0);
  MatText(t=kInvoiceRowTypeSubtotal,32,"",true);
  MatCol(t,100,"",0,Spec,false,0);
  MatColTL(t,-140,"",0,-1,ViewOnly,0,Sum,true,0);
  //  MatCol(t,-70,"Cost",0,Cost,true,0);
  MatText(t=kInvoiceRowTypeHidden,32,"        ",false);
  MatText(t=kInvoiceRowTypeCorrection,32,"K",true);
  MatCol(t,45,"",0,ArtCode,false,ForSaleINSClass);
  MatCol(t,91,"-",0,Quant,true,0);
  MatText(t=kInvoiceRowTypeRetention,32,"",true);
  MatCol(t,100,"",0,Spec,false,0);
  MatColTL(t,-210,"SalesAcc",0,-1,0,0,SalesAcc,false,AccSClass);
  MatColTL(t,-110,"",0,-1,0,0,Sum,true,0);
  MatCol(t,-30,"",0,VATCode,false,VATCodeSClass);
  MatText(t=kInvoiceRowTypeGiftVoucherSold,32,"",true);
  MatCol(t,58,"",0,GCNr,false,GCSClass);
  MatCol(t,158,"",0,PayMode,false,0);// Edit ************************** Thursday, 18 February 2016 12:10:52
  MatCol(t,-416,"",0,Spec,false,0);
  MatCol(t,-84,"",0,Sum,true,0);
  MatCol(t,-24,"",0,VATCode,false,VATCodeSClass);
  MatText(t=kInvoiceRowTypeGiftVoucherPayment,32,"",true);
  MatCol(t,58,"",0,GCNr,false,GCSSClass);
  MatCol(t,-316,"",0,Spec,false,0);
  MatCol(t,-84,"",0,Sum,true,0);
  MatCol(t,-24,"",0,VATCode,false,VATCodeSClass);
  MatText(t=kInvoiceRowTypeCashPayment,32,".",true);
  MatCol(t,94,"",0,Sum,true,0);
  MatCol(t,198," ",0,PayMode,true,PMSClass);
  MatCol(t,250,".",0,Spec,false,0);
  MatCol(t,-140,".",0,FrRate,false,0); // Edit ************************** Wednesday, 14 September 2016 15:22:19
  MatCol(t,-70,".",0,CurncyCode,false,0); // Edit ************************** Wednesday, 14 September 2016 15:22:19
  MatText(t=kInvoiceRowTypeLoyaltyPointsPayment,32,"LOYPA",true);
  MatCol(t,68,"",0,Sum,true,0);
  MatCol(t,108,"",0,Points,true,0);
  MatCol(t,148,"",0,CurncyCode,true,CurncyCodeSClass);
  MatCol(t,-280,".",0,Spec,false,0);
  MatText(t=kInvoiceRowTypeLoyaltyPointsBonus,28,"LOYBO",true);
  MatCol(t,68,"",0,Points,true,0);
  MatCol(t,141,".",0,Spec,false,0);
  MatText(t=kInvoiceRowTypeCreditCardPayment,32,"",true); //Edit***************************Sasha2,15:01 11.05.2017
  MatCol(t,94,"",0,Sum,true,0);
  MatCol(t,198," ",0,PayMode,true,PMSClass);
  MatCol(t,250,".",0,Spec,false,0);
  //MatCol(t,-280,"",0,CreditCard,false,CreditCardSClass); //Edit***************************Sasha2,15:09 11.05.2017
  //MatCol(t,-84,"",0,AuthorizationCode,false,0); //Edit***************************Sasha2,15:09 11.05.2017
  MatCol(t,-280,"",0,CurncyCode,false,0);// Edit ************************** Wednesday, 14 September 2016 15:36:42
  MatCol(t,-84,"",0,FrRate,false,0);// Edit ************************** Wednesday, 14 September 2016 15:38:42
  MatText(t=kInvoiceRowTypeHeader,32,"",true);
  MatCol(t,100,"",0,Spec,false,0);
  MatText(t=kInvoiceRowType18,28,".",true); // Don't use this number
  MatCol(t,100,"",0,Spec,false,0);
  MatText(t=kInvoiceRowType19,28,".",true); // Don't use this number
  MatCol(t,100,"",0,Spec,false,0);
  MatText(t=kInvoiceRowTypePerceptionTax,32," ",true);
  MatCol(t,132,"",0,CuAccCode,false,0);
  MatCol(t,252,"",0,TAX2Prc,true,0);
  MatCol(t,292,"",0,Sum,true,0);
  MatCol(t,372,"",0,SalesAcc,false,AccSClass);
  MatCol(t,452,"",0,Spec,false,0);
  MatText(t=kInvoiceRowTypeWithholdingTax,32," ",true);
  MatCol(t,132,"",0,WHTax,false,WHTaxSClass);
  MatCol(t,172,"",0,SalesAcc,false,AccSClass);
  MatCol(t,292,"",0,Sum,true,0);
  MatCol(t,392,"",0,Spec,false,0);
  if (StandardHansa==false) then begin
    MatText(t=kInvoiceRowTypeMultiBuyDiscount,32,"",true);
  end;
  MatCol(t,152,"",0,MBRCode,false,0);
  MatCol(t,192,"",0,ArtCode,false,ForSaleINSClass);
  MatCol(t,-400,"",0,Spec,false,0);
  MatCol(t,-270,"",0,Quant,true,0);
  MatCol(t,-235,"",0,Price,true,0);
  MatCol(t,-135,"",0,vRebate,true,0);
  MatCol(t,-100,"",0,Sum,true,0);
  MatText(t=kInvoiceRowTypeDebtorsTransfer,32,"DBT TRSF",true);
  MatCol(t,94,"Spec",0,Spec,false,0);
  MatCol(t,-235," ",0,SalesAcc,false,0);
  MatCol(t,-135,"",0,Sum,true,0);
  MatCol(t,-30,"",0,VATCode,false,0);
  /*
  MatText(t=kInvoiceRowTypePreviousDownpayment,32,"Prev. Down Payment",true);
  MatColTL(t,152,"",0,-1,ViewOnly,0,CUPNr,true,0);
  MatColTL(t,222,"",0,-1,ViewOnly,0,ServiceDelDate,true,0);
  MatColTL(t,-200,"",0,-1,Normal,0,Price,true,0);
  MatColTL(t,-100,"",0,-1,Normal,0,Sum,true,0);
  */
  //t = 21 kInvoiceRowTypeChequePayment
  MatText(t=kInvoiceRowTypeActivationDate,32," :",true); 
  MatCol(t,130,"",0,ServiceDelDate,false,PasteCurDate); 
  Flip(1);
  //  MatCol(t=kInvoiceRowTypeNormal,194,"",0,Spec,false,0);
  t=kInvoiceRowTypeNormal;
  MatCol(t,184,"",0,Spec,false,0); //144 // Edit ************************** Tuesday, 29 July 2014 17:13:58
  MatCol(t,-180,"",0,Price,true,0); //-235 //Edit***************************Sasha2,15:14 11.05.2017
  //  MatColTL(t,-235,"",0,M45Val,Normal,0,Price,true,0);
  MatCol(t,-105,"%",0,vRebate,true,0); //-135 //Edit***************************Sasha2,15:15 11.05.2017
  MatCol(t,-70,"",0,Sum,true,0); //-100 //Edit***************************Sasha2,15:15 11.05.2017
  MatCol(t=kInvoiceRowTypeStructuredItemComponent,144,"",0,Spec,false,0);
  MatCol(t,-235,"",0,Price,true,0);
  //  MatColTL(t,-235,"",0,M45Val,Normal,0,Price,true,0);
  MatCol(t,-135,"%",0,vRebate,true,0);
  MatCol(t,-100,"",0,Sum,true,0);
  MatCol(t=kInvoiceRowTypeInterest,-260,"",0,OrdRow,true,0);
  MatCol(t,-235,"",0,BasePrice,true,0);
  MatCol(t,-135,"",0,vRebate,true,0);
  MatCol(t,-100,"",0,Sum,true,0);
  MatCol(t=kInvoiceRowTypeCorrection,144,"",0,Spec,false,0);
  MatCol(t,-235,"",0,Price,true,0);
  MatCol(t,-135,"%",0,vRebate,true,0);
  MatCol(t,-100,"",0,Sum,true,0);
  Flip(2);
  MatCol(t=kInvoiceRowTypeNormal,144,"",0,Spec,false,0);
  MatCol(t,-360,"",0,SalesAcc,false,AccSClass);
  if (StandardHansa==false) then begin
    MatCol(t,-310,".",0,PeriodCode,false,AutSimPerSClass);
  end;
  MatCol(t,-255,"",0,Location,false,LocationSClass);
  MatCol(t,-180,"",0,PosCode,false,UsedPosSClass);
  if (UseTaxTemplatesforTaxCalc) then begin
    MatCol(t,-144,"",0,Objects,false,ObjSClass);
    MatCol(t,-70,"",0,TaxTemplateCode,false,TaxTemplateSClass);
  end else begin
    MatCol(t,-124,"",0,Objects,false,ObjSClass);
    if (HasLocalization("GBR,LTU,POL") and IsEnterprise) then begin
      MatCol(t,-60,"#V-Cd#",0,VATCode,false,VATCodeSClass); 
      MatCol(t,-30,"Rvrs",0,RvrsVATCode,false,VATCodeSClass); 
    end else begin
    MatCol(t,-30,"",0,VATCode,false,VATCodeSClass);
    end;
  end;
  MatCol(t=kInvoiceRowTypeStructuredItemComponent,144,"",0,Spec,false,0);
  MatCol(t,-360,"",0,SalesAcc,false,AccSClass);
  if (StandardHansa==false) then begin
    MatCol(t,-310,".",0,PeriodCode,false,AutSimPerSClass);
  end;
  MatCol(t,-255,"",0,Location,false,LocationSClass);
  if (StandardHansa==false) then begin
    MatCol(t,-180,"",0,PosCode,false,UsedPosSClass);
  end;
  if (UseTaxTemplatesforTaxCalc) then begin
    MatCol(t,-144,"",0,Objects,false,ObjSClass);
    MatCol(t,-70,"",0,TaxTemplateCode,false,TaxTemplateSClass);
  end else begin
    MatCol(t,-124,"",0,Objects,false,ObjSClass);
    MatCol(t,-30,"",0,VATCode,false,VATCodeSClass);
  end;
  MatCol(t=kInvoiceRowTypeInterest,-70,"",0,SalesAcc,false,AccSClass);
  MatCol(t,-24,"",0,VATCode,false,VATCodeSClass);
  //  MatCol(t=kInvoiceRowTypePrepayment,-224,"",0,SalesAcc,false,AccSClass);
  //  MatCol(t,-24,"",0,VATCode,false,VATCodeSClass);
  MatCol(t=kInvoiceRowTypeCorrection,144,"",0,Spec,false,0);
  MatCol(t,-250,"",0,SalesAcc,false,AccSClass);
  if (StandardHansa==false) then begin
    MatCol(t,-170,"..",0,PeriodCode,false,AutSimPerSClass);
  end;
  MatCol(t,-104,"",0,Objects,false,ObjSClass);
  if (UseTaxTemplatesforTaxCalc) then begin
    MatCol(t,-35,"-",0,TaxTemplateCode,false,TaxTemplateSClass);  
  end else begin
  	MatCol(t,-30,"",0,VATCode,false,VATCodeSClass);
  end;
  Flip(3);
  t=kInvoiceRowTypeNormal;
  MatCol(t,144,"",0,Spec,false,0);
  if (UserCanAction("ViewCostPrice",true)) then begin
    MatCol(t,-380,"",0,Price,true,0);
    MatCol(t,-315,"%",0,vRebate,true,0);
    MatCol(t,-280,". .2",0,BasePriceB2,true,0);
    MatCol(t,-210,"-",0,BasePrice,true,0);
    MatCol(t,-140,"",0,rowGP,true,0);
    MatCol(t,-70,"FIFO",0,FIFO,true,0);
  end else begin
    MatCol(t,-235,"",0,Price,true,0);
    MatCol(t,-135,"%",0,vRebate,true,0);
    MatCol(t,-100,"",0,Sum,true,0);
  end;
  MatCol(t=kInvoiceRowTypeStructuredItemComponent,144,"",0,Spec,false,0);
  if (UserCanAction("ViewCostPrice",true)) then begin
    MatCol(t,-380,"",0,Price,true,0);
    MatCol(t,-315,"%",0,vRebate,true,0);
    MatCol(t,-280,". .",0,BasePriceB2,true,0);
    MatCol(t,-210,"-",0,BasePrice,true,0);
    MatCol(t,-140,"",0,rowGP,true,0);
    MatCol(t,-70,"FIFO",0,FIFO,true,0);
  end else begin
    MatCol(t,-235,"",0,Price,true,0);
    MatCol(t,-135,"%",0,vRebate,true,0);
    MatCol(t,-100,"",0,Sum,true,0);
  end;
  MatCol(t=kInvoiceRowTypeCorrection,144,"",0,Spec,false,0);
  if (UserCanAction("ViewCostPrice",true)) then begin
    MatCol(t,-315,"",0,Price,true,0);
    MatCol(t,-245,"%",0,vRebate,true,0);
    MatCol(t,-210,"-",0,BasePrice,true,0);
    MatCol(t,-140,"",0,rowGP,true,0);
    MatCol(t,-70,"FIFO",0,FIFO,true,0);
  end else begin
    MatCol(t,-235,"",0,Price,true,0);
    MatCol(t,-135,"%",0,vRebate,true,0);
    MatCol(t,-100,"",0,Sum,true,0);
  end;
  Flip(4);
  t=kInvoiceRowTypeNormal;
  MatCol(t=kInvoiceRowTypeNormal,144,"",0,Spec,false,0);
  MatCol(t,-370,"",0,Salesmen,false,UserSClass);
  MatCol(t,-300," ",0,SerialNr,false,SerialNrSClass);
//  MatCol(t,-250,"Main Serial No.",0,MotherNr,true,0);
  MatCol(t,-220,".",0,PriceFactor,true,0);
  MatCol(t,-170,"",0,Recepy,false,RecSClass);  
  if (UserCanAction("ViewCostPrice",true)) then begin
    MatCol(t,-70,"FIFO",0,FIFORowVal,true,0);
  end else begin
  end;
  MatCol(t=kInvoiceRowTypeStructuredItemComponent,144,"",0,Spec,false,0);
  MatCol(t,-310,". ",0,SerialNr,false,SerialNrSClass);
  MatCol(t,-240,"",0,PriceFactor,true,0);
  MatCol(t,-180,"",0,Recepy,true,0);
  if (UserCanAction("ViewCostPrice",true)) then begin
    MatCol(t,-110,"FIFO",0,FIFORowVal,true,0);
  end else begin
  end;
  MatCol(t,-40,".",0,Coefficient,true,0);
  MatCol(t=kInvoiceRowTypeCorrection,144,"",0,Spec,false,0);
  MatCol(t,-310,". ",0,SerialNr,false,SerialNrSClass);
  MatCol(t,-240,"",0,PriceFactor,true,0);
  MatCol(t,-180,"",0,Recepy,true,0);
  if (UserCanAction("ViewCostPrice",true)) then begin
    MatCol(t,-110,"FIFO",0,FIFORowVal,true,0);
  end else begin
  end;
  MatCol(t,-80,"",0,MotherArtCode,false,0);
  MatCol(t,-40,"",0,RecipeQuant,false,0);
  //  MatCol(t,-40,"Coeff",0,Coefficient,true,0);
  Flip(5);
  t=kInvoiceRowTypeNormal;
  MatCol(t=kInvoiceRowTypeNormal,144,"",0,Spec,false,0);
  MatCol(t,-315,"-",0,UnitCode,false,UnitSClass);
  MatCol(t,-260,"- .",0,UnitFactQuant,true,0);
  MatCol(t,-200,".",0,UnitXval,true,0);
  MatCol(t,-160,".",0,UnitYval,true,0);
  MatCol(t,-120,".",0,UnitZval,true,0);
  MatCol(t,-80," -",0,UnitFactPrice,true,0);
  MatCol(t=kInvoiceRowTypeStructuredItemComponent,144,"",0,Spec,false,0);
  MatCol(t,-315,"-",0,UnitCode,false,UnitSClass);
  MatCol(t,-260,"- .",0,UnitFactQuant,true,0);
  MatCol(t,-200,".",0,UnitXval,true,0);
  MatCol(t,-160,".",0,UnitYval,true,0);
  MatCol(t,-120,".",0,UnitZval,true,0);
  MatCol(t,-80," -",0,UnitFactPrice,true,0);
  MatCol(t=kInvoiceRowTypeCorrection,144,"",0,Spec,false,0);//New Row Type..
  MatCol(t,-315,"-",0,UnitCode,false,UnitSClass);
  MatCol(t,-260,"- .",0,UnitFactQuant,true,0);
  MatCol(t,-200,".",0,UnitXval,true,0);
  MatCol(t,-160,".",0,UnitYval,true,0);
  MatCol(t,-120,".",0,UnitZval,true,0);
  MatCol(t,-80," -",0,UnitFactPrice,true,0);
  Flip(6);
  t = kInvoiceRowTypeNormal;
  MatCol(t,144,"",0,Spec,false,0);
  MatCol(t,-390,"  ",0,CustArtCode,false,CUINSClass);
  MatCol(t,-300,".",0,Coefficient,true,0);
  MatCol(t,-260,". ",0,PriceFactor,true,0);
  if (UserCanAction("HWContractAdmin",false) or UserCanAction("HWContractCUServiceHistEdit",false) or UserCanAction("HWContract_LocalAdmin",false)) then begin
    MatCol(t,-210," . .",0,CUServiceHistNr,false,0);
  end;
  MatCol(t,-130,". ",0,CreditedRow,false,0);
  MatCol(t,-70,"  . .",0,RepaExVAT,true,0);
  MatCol(t=kInvoiceRowTypeStructuredItemComponent,144,"",0,Spec,false,0);
  MatCol(t,-390,"  ",0,CustArtCode,false,CUINSClass);
  MatCol(t,-300,".",0,Coefficient,true,0);
  MatCol(t,-260,". ",0,PriceFactor,true,0);
  if (UserCanAction("HWContractAdmin",false) or UserCanAction("HWContractCUServiceHistEdit",false) or UserCanAction("HWContract_LocalAdmin",false)) then begin
    MatCol(t,-210," . .",0,CUServiceHistNr,false,0);
  end;
  MatCol(t,-130,". ",0,CreditedRow,false,0);
  MatCol(t,-70,"  . .",0,RepaExVAT,true,0);
  MatCol(t=kInvoiceRowTypeCorrection,144,"",0,Spec,false,0);
  MatCol(t,-80,". .",0,RepaExVAT,true,0);
  Flip(7);
  t = kInvoiceRowTypeNormal;
  if (GuiType!=kGuiiPhone) then begin
    MatCol(t,144,"",0,Spec,false,0);
  end;
  //MatCol(t,-240,"",0,CustomsNr,false,0); //Edit***************************Sasha2,15:17 11.05.2017
  //MatCol(t,-100,"",0,CountryOfOrg,false,CountrySClass); //Edit***************************Sasha2,15:17 11.05.2017
  MatCol(t,-230,"SHnr",0,SHNr,false,0);// Edit ************************** Wednesday, 18 February 2015 13:09:15
  MatCol(t,-140,"SHRow",0,SHRow,false,0);// Edit ************************** Wednesday, 10 June 2015 16:58:12
  MatCol(t,-70,"OrdRow",0,OrdRow,false,0);// Edit ************************** Wednesday, 18 February 2015 13:10:49
  MatCol(t=kInvoiceRowTypeStructuredItemComponent,144,"",0,Spec,false,0);
  //MatCol(t,-240,"",0,CustomsNr,false,0); //Edit***************************Sasha2,15:19 11.05.2017
  //MatCol(t,-100,"",0,CountryOfOrg,false,CountrySClass); //Edit***************************Sasha2,15:19 11.05.2017
  MatCol(t,-240,"SHRow",0,SHRow,false,0);// Edit ************************** Wednesday, 10 June 2015 16:59:33
  MatCol(t,-100,"OrdRow",0,OrdRow,false,0);// Edit ************************** Wednesday, 18 February 2015 13:10:51
  MatCol(t=kInvoiceRowTypeCorrection,144,"",0,Spec,false,0);
  //MatCol(t,-240,"",0,CustomsNr,false,0); //Edit***************************Sasha2,15:19 11.05.2017
  //MatCol(t,-100,"",0,CountryOfOrg,false,CountrySClass); //Edit***************************Sasha2,15:19 11.05.2017
  MatCol(t,-240,"SHRow",0,SHRow,false,0);// Edit ************************** Wednesday, 10 June 2015 17:00:03
  MatCol(t,-100,"OrdRow",0,OrdRow,false,0);// Edit ************************** Wednesday, 18 February 2015 13:09:12
  InsertRowTest;
  DeleteRowTest;
  RowMenuBegin("");         
  RowMenuItem(0," ",'I','I',0,"ItemStatusIVDsm");         
  RowMenuItem(0,"   ",' ',' ',0,"IVLastSPrsm");         
  RowMenuItem(0," ",' ',' ',0,"HeaderLineIVDsm");         
  RowMenuItem(0,"  ",' ',' ',0,"HiddenLineIVDsm");         
  if (HasLocalization("SVN")==false) then begin
    RowMenuItem(0," ",' ',' ',0,"CashLineIVDsm");         
    RowMenuItem(0," ",' ',' ',0,"CreditCardLineIVDsm");         
  end;
  if (StandardHansa==false) then begin
    RowMenuItem(0," ",' ',' ',0,"RetentionLineIVDsm");         
  end;
  RowMenuItem(0," ",' ',' ',0,"SubTotalLineIVDsm");         
  RowMenuItem(0,"   Apple",'w',' ',0,"WarrantyStatusIVDsm");         
  if (FileExists("hob/hmdatadef.hob")) then begin 
    RowMenuItem(0,".   ",' ',' ',0,"LicStartIVDsm"); 
  end;
  EndRowMenu;
  EndMatrix;
  vs = 22;
  v = 18; VTab(-35,v,-16,v+vs,ToolFlip,1,"A");
  v=v+ vs; VTab(-35,v,-16,v+vs,ToolFlip,2,"B");
  v=v+ vs; VTab(-35,v,-16,v+vs,ToolFlip,3,"C");
  v=v+ vs; VTab(-35,v,-16,v+vs,ToolFlip,4,"D");
  v=v+ vs; VTab(-35,v,-16,v+vs,ToolFlip,5,"E");
  v=v+ vs; VTab(-35,v,-16,v+vs,ToolFlip,6,"F");
  v=v+ vs; VTab(-35,v,-16,v+vs,ToolFlip,7,"G");
  Tile(3,70,false,"3",FrRate);
  vs = 20;
  EditField(h=110,v=6,50,"",Normal,CurncyCode,false,CurncyCodeSClass);
  EditField(h,v+vs,50,"  1",Normal,BaseRate1,true,0);  
  EditField(h,v+(vs*2),50,"  2",Normal,BaseRate2,true,0);    
  EditField(h2=295,v,50,"",Normal,FrRate,true,0);  
  RateField(h3=360,v,50,":",Normal,"ToRateB1",true,h3+60,v+14,"  1",false);  
  RateField(h3,v+=vs,50,":",Normal,"ToRateB2",true,h3+60,v+14,"  2",false);      
  Tile(4,110,false,"4",ShipDeal);  
  vs = 20; h1 = 110; h2 = 310; h3 = 530; h4 = -100;
  EditField(h1,v=6,80," ",Normal,ShipDeal,false,ShipDealSClass);
  EditField(h1,v+=vs,80," ",Normal,ShipMode,false,DMSClass);
  if (StandardHansa==false) then begin
    EditField(h1,v+=vs,80,"",Normal,Sorting,false,DelRouteSClass);
    EditField(h1,v+=vs,80,"",Normal,Location,false,LocationSClass);
    EditField(h1,v+=vs,80,".  .",Normal,PlanSendDate,false,PasteCurDate);  
    EditField(h1,v+=vs,80,".  .",Normal,PlanSendTime,false,PasteCurTime);  
  end;
  EditField(h1,v+=vs,80,"",Normal,BranchID,false,AllCUSClass);
  EditField(h2,v=vm,80," -",ViewOnly,TotQty,true,0);
  EditField(h2,v+=vs,80," ",ViewOnly,TotWeight,true,0);
  EditField(h2,v+=vs,80," ",ViewOnly,TotVolume,true,0);
  EditField(h2,v+=vs,80,"",Normal,FrPrice,true,0);
  if (StandardHansa==false) then begin
    EditField(h2,v+=vs,80,".  .",Normal,PlanArrDate,false,PasteCurDate);  
    EditField(h2,v+=vs,80,".  .",Normal,PlanArrTime,false,PasteCurTime);  
    EditField(h2,v+=vs,80,". .",Normal,FreightCode,false,FreightCompanySClass);
    CheckBox(h3,v=vm,0," ",UpdStockFlag);
    EditField(h3,v+=2*vs,80," ",Normal,FrVATCode,true,VATCodeSClass);
    EditField(h3,v+=vs,80," . .",Normal,IntrastatTransCode,true,IntrastatTransCodeSClass);  
    EditField(h3,v+=vs,80,".  .",Normal,GlobalTransportNr,false,0);  
    EditField(h3,v+=vs,80,".  .",Normal,GlobalTransportDate,false,PasteCurDate);  
  end;
  Tile(5,170,false,"5",OrderNr);
  EditField(h1,v=vm,80," ",ViewOnly,OrderNr,false,0);
  if (StandardHansa==false) then begin
    EditField(h1,v+=vs,80,". .",ViewOnly,SVONr,false,0);
    EditField(h1,v+=vs,80," ..",ViewOnly ,CredManNr,false,0);
  end;
  EditField(h1,v+=vs,135,"  2",Normal,OfficialSerNr2,false,0);         
  if (HasLocalization("FIN")) then begin
    EditField(h1,v+=vs,135,"  ",Normal,DeliverySiteCode,false,0);         
    EditField(h1,v+=vs,135,"  ",Normal,WorkSiteNumber,false,0);         
  end;
  if (HasLocalization("BRA")) then begin         
    EditField(h1,v+=vs,80,"Federal Service",Normal,FedServCode,false,FederalSerSClass);
  end;
  if (HasLocalization("ARG,BOL")) then begin
    EditField(h1,v+=vs,135,"CAE/CAEA",Normal,CAE,false,0); 
    EditField(h1,v+=vs,135,"CAE Expiry",Normal,CAEExpiry,false,0); 
    EditField(h1,v+=vs,70,"CAEA Start",ViewOnly,CAEAStartDate,false,0); 
  end;

  EditField(h2=350,v=vm,80,". ",Normal,StatVal,true,0); 
  EditField(h2,v+=vs,80," .",Normal,TransTime,false,SetSClass); 
  EditField(h2,v+=vs,80," ",ViewOnly,PrintDate,false,0); 
  EditField(h2,v+=vs,80,"Oprt. Comment",ViewOnly,OYDescription,false,0); 
  if (FileExists("hob/hmdatadef.hob")) then begin//??? why here and not it ahansamail ?  
    EditField(h2,v+=vs,80,"ToBe Inv.Nr",ViewOnly,ToBeIVNr,false,0); 
  end;
  //  ColourPushButton(-100,v,-20,v+60,"TestIVDClassCardData","Test" & chr(10) & "CardData",4);
  //  SoftEditField(h3+50,v,100," "  ,ViewOnly ,"TaxAuthIDCC",false,0,M4Str,60);
  if (StandardHansa==false) then begin
  if (HasLocalization("ARG,BOL")) then begin
      EditField(h2,v+=vs,135,". ",Normal,TaxAuthID,false,0);
    EditField(h2,v+=vs,135,". ",ViewOnly ,TaxAuthIDCC,false,0);
    end;
    if (HasLocalization("PRT")) then begin
    EditField(h2,v+=vs,135,"",Normal,Status,false,SetSClass);
    end;
    if (HasLocalization("ARG,PRT")) then begin
    EditField(h2,v+=vs,135,"Tax Type",Normal,TaxInvType,false,SetSClass); 
    end;
    if (HasLocalization("ARG")) then begin
      EditField(h2,v+=vs,70,"CAEA Expiry",ViewOnly,CAEAExpiryDate,false,0);
    end;
    if (HasLocalization("SVN")) then begin
      EditField(h2,v+=vs,180,"E-Inv. Conf. No.",ViewOnly,TaxAdminReceiptNr,false,0);
      EditField(h2,v+=vs,180,"Tax Seal",ViewOnly,TaxAdminServSeal,false,0);
    end;
  end;
  //  EditField(h2,v+=vs,135,"E-Inv Exp. Date",ViewOnly,EInvExpDate,false,0);//Tx server
  //  EditField(h2,v+=vs,135,"E-Inv Exp. Qty",ViewOnly,EInvExpQty,false,0);
  CheckBox(h3=450,v=vm,0," ",NoRemndrFlag);
  CheckBox(h3,v+=16,0," ",NoInterestFlag);
  CheckBox(h3,v+=16,0," ",NoColectionFlag);
    CheckBox(h3,v+=16,0," /",FiscalFlag);
  CheckBox(h3+130,v=vm,0,"  ",ARonTR);
  CheckBox(h3+130,v+=16,0,"   . /",NoEInvoice);
  CheckBox(h3+130,v+=16,0," ",SelfBilling);
  CheckBox(h3+130,v+=16,0,"Post Receipt #VAT#",IPBookVAT); 
  if (HasLocalization("LTU")) then begin
    CheckBox(h3+130,v+=16,0,"Exclude from Exports",ExcludeFromExports); 
  end;
//    CheckBox(h3,v+=16,0,"Including VAT",InclVAT);
  //  CheckBox(h3,v+=16,0,"E-Invoice Exported",EInvExpFlag);
  Tile(6,150,false,"6",PriceList); vs = 20; h3=550;
  EditField(h1,v=vm,80,"-",Normal,PriceList,false,PLDefSClass);
  EditField(h1,v+=vs,80," ",Normal,RebCode,false,0);
  //  EditField(h1,v+=vs,80,"Disc. %",ViewOnly,DiscPerc,false,0);
  //  EditField(h1,v+=vs,80,"Disc. Amount",ViewOnly,DiscSum,false,0);
  EditField(h1,v+=vs,80,"-",ViewOnly,OrgCust,false,0);
  if (StandardHansa==false) then begin
    EditField(h1,v+=vs,80," ",Normal,CreditCard,false,CreditCardSClass);
    EditField(h1,v+=vs,80,"",Normal,AuthorizationCode,false,0);
  end;
  EditField(h1,v+=vs,80," ",Normal,ARAcc,false,AccSClass);
  EditField(h1,v+=vs,-20,"",Normal,InvComment,false,0);
  if (HasSalesGroup) then begin
    EditField(h2=310,v=vm,80," ",ViewOnly,SalesGroup,true,0);
    EditField(h2,v+=vs,80,"",Normal,LangCode,false,LangSClass);
  end else begin
    EditField(h2,v=vm,80,"",Normal,LangCode,false,LangSClass);
  end;
  EditField(h2,v+=vs,80,"",Normal,Commision,true,0);
  EditField(h2,v+=vs,80," . .",ViewOnly,SumIncCom,true,0);
  EditField(h2,v+=vs,80,"",Normal,IntCode,true,IntSClass);
  if (StandardHansa==false) then begin
    EditField(h2,v+=vs,80," ",Normal,CredInv,false,0);
    EditField(h3,v=vm,80," ",Normal,LastRemndr,false,0);
  end else begin
    EditField(h3,v=vm,80,"Org. No.",Normal,CredInv,false,0);   // From dict
    EditField(h3,v+=vs,80," ",Normal,LastRemndr,false,0);   // From dict
  end;
  EditField(h3,v+=vs,80," . .",Normal,LastRemDate,false,PasteCurDate);
  if (StandardHansa==false) then begin
    EditField(h3,v+=vs,80," ",Normal,LoyaltyCardNr,false,LoyaltyCardSClass);
  end;
  EnterSkip(Math);
  if (StandardHansa==false) then begin
    EditField(h3,v+=vs,80,". ",ViewOnly,LCMLevel,false,LCMemberLevelSClass);
    EditField(h3,v+=vs,80," ",ViewOnly,Points,true,0);
  end;
  if (HasTREO) then begin
    EditField(h3,v+=vs,80," TREO",Normal,TREONr,false,0);
  end;
  Tile(7,250,false,"7",Addr1); vs = 20;
  label = UserDefined("CUVc","InvAddr0");
  if (blank(label)) then begin label = "-"; end;
  EditField(h=110,v=6,-20,label,Normal,Addr1,false,0);
  label = UserDefined("CUVc","InvAddr1");
  if (blank(label)) then begin label = ""; end;
  EditField(h,v+=vs, -20,label,Normal,Addr2,false,0);
  label = UserDefined("CUVc","InvAddr2");
  EditField(h,v+=vs, -20,label,Normal,Addr3,false,0);
  label = UserDefined("CUVc","InvAddr3");
  EditField(h,v+=vs, -20,label,Normal,InvAddr3,false,0);
  label = UserDefined("CUVc","InvAddr4");
  EditField(h,v+=vs, -20,label,Normal,InvAddr4,false,0);
  EditField(h,vm=(v+=vs),80,"",Normal,InvCountry,false,CountrySClass);
  if (HasLocalization("BRA")) then begin 
    EditField(h2-89,v,232,"",ViewOnly,InvCountryName,false,0);
    h5 = -170;
    width = 150;
  end else begin
    h5 = -270;
    width = 135;
  end;
  EditField(h5,v,width,"",Normal,BankCode,false,BankSClass);
  if (StandardHansa==false) then begin
    if (HasApprovals) then begin
      SoftEditField(h3=h+4,v=(vm+=40),123," ",ViewOnly,"AcceptanceStatusFlag",false,0,M4Str,255);
    end;
/*
//oldapprovals    
    ButtonFrame(h3=h+4,v=(vm+=40),123,6," ");
    RadioButton(h3,v,kAcceptanceStateNotRequired,0," ",AcceptanceStatus);
    RadioButton(h3,v+=16,kAcceptanceStateNotStarted,0," ",AcceptanceStatus);
    RadioButton(h3,v+=16,kAcceptanceStateNotRequested,0," ",AcceptanceStatus);
    RadioButton(h3,v+=16,kAcceptanceStatePending,0," ",AcceptanceStatus);
    RadioButton(h3,v+=16,kAcceptanceStateApproved,0,"",AcceptanceStatus);
    RadioButton(h3,v+=16,kAcceptanceStateRejected,0,"",AcceptanceStatus);
*/    
    v = VATZoneButtonsLabelsrus(h3=290,v=vm,170,16);
  end else begin
    v = VATZoneButtonsLabelsrus(h3=290,v=vm+40,170,16);
  end;
  EditField(h2=-170,v=vm,150,"",Normal,Region,false,RegionSClass);
  EditField(h2,v+=vs,150,"",Normal,VATNr,false,0);
  EditField(h2,v+=vs,150,"#Reg. No.# 1",Normal,RegNr1,false,0); 
  EditField(h2,v+=vs,150,"GLN",ViewOnly,RecipientGLN,false,0);  
  EditField(h2,v+=vs,150,"",Normal,Phone,false,0);
  EditField(h2,v+=vs,150,"",Normal,Fax,false,0);
  Tile(8,170,false,"8",ShipAddr0); vs = 20;
  if (StandardHansa==false) then begin
    EditField(h1,v=6,80," ",Normal,DelAddrCode,false,DelAddr3SClass);
    EditField(h1,v+=vs,-20,"",Normal,ShipAddr0,false,0);
  end else begin
    EditField(h1,v=6,-20,"",Normal,ShipAddr0,false,0);   // From dict
  end;
  EditField(h1,v+=vs,-20,"",Normal,ShipAddr1,false,0);
  EditField(h1,v+=vs,-20,"",Normal,ShipAddr2,false,0);
  EditField(h1,v+=vs,-20,"",Normal,ShipAddr3,false,0);
  EditField(h1,v+=vs,-20,"",Normal,DelAddr3,false,0);
  EditField(h1,v+=vs,-20,"",Normal,DelAddr4,false,0);
  EditField(h1,v+=vs,80,"",Normal,DelCountry,false,CountrySClass);
  if (HasLocalization("BRA")) then begin 
    EditField(h1+91,v,232,"",ViewOnly,DelCountryName,false,0);
  end;  
  EditField(h2,v,150,"GLN ",ViewOnly,DelRecipientGLN,false,0);  
  EnterSkip(InvDate);
  if (GuiType==kGuiMetro) then begin // Temporarily disabled on Windows 8
    SpecialMenu(" -",'r',2,"IVInfoIVDsm");
    SpecialMenu(" ",'I',0,"ItemStatusIVDsm");
    SpecialMenu("  ",'t',8,"OpenTRFromIV");
    SpecialMenu("  -",' ',20,"CreateCreditNoteIVDsm");
    SpecialMenu(" ",' ',12,"SubTotalLineIVDsm");
    SpecialMenu("  ",' ',4,"ConnectToPrepayIVDsm");
/*not working yet
    SpecialMenu(" . ",'m',23,"CreateMailFromIVDsm");
*/
  end else begin
//    SpecialMenu(" ",'I',0,"ItemStatusIVDsm");
    if (HasCustomerStatusReport) then begin 
    SpecialMenu("  ",'e',0,"CUStatusIVDsm"); 
    end;
    SpecialMenu(" ",'f',1,"ItemSearchDsm");
    SpecialMenu(" -",'r',2,"IVInfoIVDsm");
    SpecialMenu("    ",' ',19,"RepaIVsm");
    if (GuiType==kGuiiPhone) then begin
//      SpecialMenu("",' ',10,"SignIVDsm");//what is that ?
    end; 
    SpecialMenu("  . .1",' ',14,"SwitchToBase1IVDsm");
    SpecialMenu("  ",' ',4,"ConnectToPrepayIVDsm");
    SpecialMenu(" ",' ',11,"RecalcDiscountIVDsm");
    SpecialMenu("   ",' ',10,"RecalcWeightIVDsm");
    SpecialMenu("   ",' ',5,"UpdatePricesIVDsm");
    SpecialMenu("  ",' ',7,"PrintCashInOutIVDsm");
    if (HasLocalization("PRT")==false) then begin   
    SpecialMenu("  -",' ',3,"PrintProformaIVDsm");
    end;
    if (StandardHansa==false) then begin
      SpecialMenu("   ",' ',19,"PrintToFiscPrntIVDsm");
      SpecialMenu("  ",' ',22,"CCPayIVDsm");
      SpecialMenu(" ",' ',24,"EditInstalmentIVDsm");
  	end;
    if (HasLocalization("EST")) then begin         
      SpecialMenu("  . ",' ',21,"ResendEstEIVDsm");         
    end else begin
  	SpecialMenu(" . / ",' ',21,"ResendEIVDsm");
    end;
    if (HasLocalization("ARG")) then begin
      SpecialMenu("/  . / ",'n',17,"SendArgEInvIVDsm");
      SpecialMenu("Retrive CAE/CAEA",'',17,"ConsultarArgEInvIVDsm");
    end;
    if (HasLocalization("MEX")) then begin
      SpecialMenu("Send Mexican E-Invoice",'e',17,"SendMexEInvIVDsm");
    end;
  	if (HasLocalization("BRA")) then begin
      SpecialMenu("Send/Resend Brazilian E-Invoice",' ',27,"SendBraEInvIVDsm");
      SpecialMenu("Get Bank Receipt",' ',28,"GetBankReceiptDsm"); 
    end;
    if (HasLocalization("FIN")) then begin
      SpecialMenu("Export Finvoice",' ',28,"ExportFinvoiceIVDsm");
    end;
    if (HasLocalization("USA")) then begin
      SpecialMenu("Get Tax Rates",' ',0,"IVGetTaxRatesDsm"); 
    end;
    
  	SpecialMenu("  ",'t',8,"OpenTRFromIV");
    if (StandardHansa==false) then begin
      SpecialMenu("   ",' ',24,"MgrsDiscOverrideIVDsm");         
      if (HasTaxMatrix) then begin
        SpecialMenu("  ",' ',25,"TestVatMatrixIVDsm");         
      end;
    end;
    if (HasApprovals) then begin
      SpecialMenu(" ",' ',6,"IVSendforAcceptanceIVDsm"); 
      SpecialMenu("  ",' ',2,"CancelApprovalRequestDsm"); 
    end;
    SpecialMenu(" ",'p',27,"PrintIVReceiptDsm"); //Edit----------------------Dima  21.09.2015
    SpecMenuGroup("",kSpecMenuGroupTypeExtendedPlusMenu,0);         
    if (HasModCRM) then begin
//      SpecialMenu("Activity",'c',9,"CreateActFromIVDsm");
    end;
    SpecialMenu("  ",' ',1,"DoCLInFromIVD");
    SpecialMenu(" . /",' ',20,"CreateCreditNoteIVDsm");
    if (StandardHansa==false) then begin
      SpecialMenu("  ",' ',25,"CreateCredManIVsm");
    end;
    SpecialMenu(" ",' ',13,"COFromIVDsm");
    if (StandardHansa==false) then begin
      if (HasLocalization("PRT")==false) then begin
      SpecialMenu("  -",' ',16,"CorrectionIVsm");
      end;
      SpecialMenu("  ",' ',20,"CreateDebitNoteIVDsm");
      SpecialMenu("  EDI",' ',9,"DoEDIInvFromIVD");
    end;
    SpecialMenu(" . ",'m',23,"CreateMailFromIVDsm");
    if (HasLocalization("UKR")) then begin
      SpecialMenu("  ",' ',18,"FirstEventIVDsm");
    end;
    if (StandardHansa==false) then begin
      SpecialMenu(" ",' ',6,"CreateInstalmentsIVDsm");
      if (HasLocalization("HRV,POL,RUS,SRB,SVN,UKR")) then begin
        SpecialMenu("    ",' ',17,"VATCorrectionIVsm");
      end;

    //  SpecialMenu("GSXAutoEnrollmentIVDsm",'w',26,"GSXAutoEnrollmentIVDsm");

    //  SpecialMenu("TESTSendArgEInvoiceFECAESolicitar",' ',25,"TESTSendArgEInvoiceFECAESolicitar");
    //  SpecialMenu("Test Mex E-Invoices",'1',0,"TestMexEInvoices");
    end;
    SpecialMenu(" ",' ',0,"AddCustomerIVDsm");         
    SpecialMenu(" ",' ',0,"AddItemIVDsm");           
  end;

end else begin
  date td;
  integer acnt,wn;
  longint bm,lt,rt,tp,page;
  real h,h2,h3,h4,v;
  record IVVc IVr;
  record LocalMachineBlock LMb;
  record POSButtonsVc POSBr;
  string 255 bc1,bc2,compname,lmc,nr,sessdesc,sm;
  time tt;

  BlockLoad(LMb);

    //StopAlert(LMb.POSButtonGroup);

    wn = CurWindow;
    GetScreenSize(wn,tp,lt,bm,rt);
    switch (GuiType) begin
      case kGuiCocoa:
        bm = bm - 80;
      case kGuiWindowsDesktop:
        tp = tp + 30;
        bm = bm - 40;
        rt = rt - 55;
        lt = lt - 45;
      case kGuiGDI:
        tp = tp + 30;
        bm = bm - 40;
        rt = rt - 55;
        lt = lt - 45;
      case kGuiWPF:
        tp = tp + 30;
        bm = bm - 40;
        rt = rt - 55;
        lt = lt - 45;
    end;

    page = StringToInt(GetWindowString(wn,"touchscreenwindowpage"));
    if (page<1) then begin
      page = 1;
    end;
    //stopalert("about to call ReadPOSButtons, page:" & page);
    ReadPOSButtons("IVDClass",LMb.POSButtonGroup,page,bc1,bc2,compname,POSBr,acnt);
    SetWRect(lt,tp,rt,bm);
      AbsoluteWindowSize;
    if (TestEnablerFile("EnNoFullscreenWindow")==false) then begin
      FullscreenWindow;
    end;
    BrowseButtons(false);
    BrowseButtons(false);
    DynamicWindow;
    UseView(IVVc);
    ActiveFieldOnNew("ivcashcommand");
    if (GuiType!=kGuiiPhone) then begin
    ToolBar;
//    PushButton(-340,5,-340 + 34,5+18,ToolPasteSpec,"v");
    EndToolBar;
    end;

    v = 20;
    h = -300; h2 = -150; h3 = -70; h4 = -10;

    wn = CurWindow;
    if (wn>0) then begin
      switch (GetWindowClass(wn)) begin
        case "IVDClass":
          GetWindowRecord(wn,IVr);
      end;
    end;
    if (GuiType==kGuiiPhone) then begin
      if (TouchScreenLookVertical) then begin
        v = 20;
        h = -300; h2 = -150; h3 = -70; h4 = -10;

        td = IVr.TransDate;
        if (blankdate(td)) then begin td = CurrentDate; end;
        tt = IVr.TransTime;
        if (blanktime(tt)) then begin tt = CurrentTime; end;
        lmc = IVr.MachineName;
        if (blank(lmc)) then begin lmc = LMb.LocalMachineCode; end;
        sm = IVr.SalesMan;
        if (blank(sm)) then begin sm = CurrentUser; end;
        nr = "Invoice: ";         
        if (IVr.SerNr>0) then begin
          nr = nr & IVr.SerNr;
        end;

        if (IsEnterprise) then begin
          if (IsSessionOpen(IVr.MachineName,IVr.DrawerCode,CurrentDate,CurrentTime)) then begin
            sessdesc = " POS ";         
          end else begin
            sessdesc = "*** POS  ***";         
          end;
        end;

        DisplayRecordDetails_RUS(10,-100,compname,td,tt,lmc,sm,nr,IVr.CustCode,IVr.Addr0,
          IVr.Addr1,IVr.Addr2,IVr.Addr3,IVr.Phone,IVr.Objects,
          IVr.LoyaltyCardNr,LMb.ShowBaggerSupervisor,"","",         
          "",blankval,sessdesc,true,IVr.OfficialSerNr,         
          IVr.TaxAdminServSeal);

        SoftEditFieldTLX(360,-120,h4,"",M4Str,ViewOnly,100,30,patM4black,"CustomerDisplayData_Line1",true,0);         
        SoftEditFieldTLX(360,-80,h4,"",M4Str,ViewOnly,100,50,patM4black,"CustomerDisplayData_Line2",true,0);         

        SoftEditField(2000,-22,200,""  ,Normal ,"ivcashcommandlastitemsernrf",false,0,M4Str,255);         

        DrawPOSInterface_RUS(bc1,bc2,POSBr,acnt,"",100);         
      end else begin

        v = 20;
        h = -300; h2 = -150; h3 = -70; h4 = -10;

        td = IVr.TransDate;
        if (blankdate(td)) then begin td = CurrentDate; end;
        tt = IVr.TransTime;
        if (blanktime(tt)) then begin tt = CurrentTime; end;
        lmc = IVr.MachineName;
        if (blank(lmc)) then begin lmc = LMb.LocalMachineCode; end;
        sm = IVr.SalesMan;
        if (blank(sm)) then begin sm = CurrentUser; end;
        nr = "Invoice: ";         
        if (IVr.SerNr>0) then begin
          nr = nr & IVr.SerNr;
        end;

        if (IsEnterprise) then begin
          if (IsSessionOpen(IVr.MachineName,IVr.DrawerCode,CurrentDate,CurrentTime)) then begin
            sessdesc = " POS ";         
          end else begin
            sessdesc = "***  POS  ***";         
          end;
        end;

        DisplayRecordDetails_RUS(10,26,compname,td,tt,lmc,sm,nr,IVr.CustCode,IVr.Addr0,
          IVr.Addr1,IVr.Addr2,IVr.Addr3,IVr.Phone,IVr.Objects,
          IVr.LoyaltyCardNr,LMb.ShowBaggerSupervisor,"","",         
          "",blankval,sessdesc,true,IVr.OfficialSerNr,         
          IVr.TaxAdminServSeal);


        if (bm<650) then begin
          SoftEditFieldTLX(360,6,h4,"",M4Str,ViewOnly,100,20,patM4black,"CustomerDisplayData_Line1",true,0);         
          SoftEditFieldTLX(360,36,h4,"",M4Str,ViewOnly,100,30,patM4black,"CustomerDisplayData_Line2",true,0);         
        end else begin
          SoftEditFieldTLX(360,6,h4,"",M4Str,ViewOnly,100,30,patM4black,"CustomerDisplayData_Line1",true,0);         
          SoftEditFieldTLX(360,46,h4,"",M4Str,ViewOnly,100,50,patM4black,"CustomerDisplayData_Line2",true,0);         
        end;

        SoftEditField(2000,-22,200,""  ,Normal ,"ivcashcommandlastitemsernrf",false,0,M4Str,255);         

        DrawPOSInterface_RUS(bc1,bc2,POSBr,acnt,"",100);         
      end;
      BottomBar;
    end else begin
    td = IVr.TransDate;
    if (blankdate(td)) then begin td = CurrentDate; end;
    tt = IVr.TransTime;
    if (blanktime(tt)) then begin tt = CurrentTime; end;
    lmc = IVr.MachineName;
      if (blank(lmc)) then begin lmc = LMb.LocalMachineCode; end;
      sm = IVr.SalesMan;
      if (blank(sm)) then begin sm = CurrentUser; end;
    nr = "Invoice: ";
    if (IVr.SerNr>0) then begin
      nr = nr & IVr.SerNr;
    end;

    if (IsSessionOpen(IVr.MachineName,IVr.DrawerCode,CurrentDate,CurrentTime)) then begin
      sessdesc = " POS ";
    end else begin
      sessdesc = "***  POS  ***";
    end;

    // StopAlert("IsSessionOpen(" & IVr.MachineName & "," & IVr.DrawerCode & "," & IVr.TransDate & "," & IVr.TransTime & "); -> " & sessdesc);

    DisplayRecordDetails_RUS(10,26,compname,td,tt,lmc,sm,nr,IVr.CustCode,IVr.Addr0,IVr.Addr1,IVr.Addr2,IVr.Addr3,IVr.Phone,IVr.Objects,IVr.LoyaltyCardNr,LMb.ShowBaggerSupervisor,"","","",blankval,sessdesc,true,IVr.OfficialSerNr,IVr.TaxAdminServSeal);

    if (bm<650) then begin
      SoftEditFieldTLX(420,6,h4,"",M4Str,ViewOnly,100,20,patM4black,"CustomerDisplayData_Line1",true,0);
      SoftEditFieldTLX(420,36,h4,"",M4Str,ViewOnly,100,30,patM4black,"CustomerDisplayData_Line2",true,0);
    end else begin
      SoftEditFieldTLX(520,6,h4,"",M4Str,ViewOnly,100,30,patM4black,"CustomerDisplayData_Line1",true,0);
      SoftEditFieldTLX(520,46,h4,"",M4Str,ViewOnly,100,50,patM4black,"CustomerDisplayData_Line2",true,0);
    end;

    switch (LMb.POSButtonsPosition) begin
      case kPOSButtonsPositionLeft:
        SoftEditField(110,-22,200,"/"  ,Normal ,"ivcashcommand",false,0,M4Str,255);
      case kPOSButtonsPositionRight:
        SoftEditField(-260,-22,200,"/"  ,Normal ,"ivcashcommand",false,0,M4Str,255);
    end;
    SoftEditField(2000,-22,200,""  ,Normal ,"ivcashcommandlastitemsernrf",false,0,M4Str,255);
    DrawPOSInterface_RUS(bc1,bc2,POSBr,acnt,"",100);
    BottomBar;
  end;
end;
  EndWindow;
end;

window PUDClass:1
  wtag("language","RUS"), wtag("product","*"), wtag("productcode","*"), wtag("device","computer")
begin
  real h,h1,h2,h3,h4,t,v,vm,vs;
  string 255 label;
  record CYBlock CYb;
  Integer tilenr;
  Integer f,flipnr,rn;

  BlockLoad(CYb);
  WindowBegin("   ",PUDClass,CGview,-);
  if (HasJewelleryInterface) then begin
    SetWRect(20,80,870,620);
  end else begin
    SetWRect(20,80,750,620);
  end;
  if (HasMultiCurrency or IsEnterprise or HasObjects) then begin
  Sizeable(-1,-1,0,0);
  end;
  UseView(PUVc);
  ActiveFieldOnNew("VECode");
  FormName(PurchaseForm);
  Tile(0,74,false,"",TransDate);
  EditField(75,vm=(v=6),95,"",Normal,SerNr,false,TSerSClass);
  EditField(75,v+=20,95,"",Normal,VECode,false,VESClass);
  EnterSkip(TransDate);
  EditField(h=255,v=vm,-40,"-",Normal,VEName,false,0);
  if (CurrentUser=="SA") then begin	//Edit----------------------Dima  21.01.2016
  	EditField(h=255,v+20,100,"LocOKNr",Normal,LocOKNr,false,0);
  end;
  CheckBox(h4=-100,v+=20,0,"",OKFlag);
  if (CYb.UseTaxTemplatesforTaxCalc==0) then begin
  CheckBox(h4,v+=16,0," . ",InclVAT);
  end else begin
    CheckBox(h4,v+=16,0," . ",InclVAT);  
  end;
  tilenr = 1;
  TileButton(tilenr,""); tilenr = tilenr + 1;
  TileButton(tilenr,""); tilenr = tilenr + 1;
  if (HasMultiCurrency) then begin
    TileButton(tilenr,""); tilenr = tilenr + 1;
  end;
  if (IsEnterprise) then begin
    if (StandardHansa==false) then begin
      TileButton(tilenr,". "); tilenr = tilenr + 1;
      TileButton(tilenr,""); tilenr = tilenr + 1;
    end;
    TileButton(tilenr,"."); tilenr = tilenr + 1;
  end;
  tilenr = 1;

  vs = 20; h1 = 110; h2 = 300; h3 = 550; h4 = -100;
  Tile(tilenr,70,false,tilenr,TransDate); tilenr = tilenr + 1;
  EditField(h1,vm=(v=6),82," .",Normal,TransDate,false,PasteCurDate);
  if (IsEnterprise==false) then begin
    EditField(h2,v,-20,".",Normal,Comment,false,0);
  end;
  if (HasMultiLocations) then begin
    v = v + vs;
    EditField(h1,v,82,"",Normal,Location,false,LocationSClass);  
  end;
  if (HasRoute) then begin
    v = v + vs;
    EditField(h1,v,82,"",ViewOnly,Sorting,false,0);  
  end;
  v = v + vs;
  // Need a cleaner way to skip to next visible field
  if (HasObjects) then begin  
    EnterSkip(Objects);
  end else begin
    if (HasModPO) then begin 
      EnterSkip(PONr);
    end else begin
      if (IsEnterprise) then begin
        if (StandardHansa==false) then begin
          EnterSkip(POCOSerNr);
        end else begin
          EnterSkip(PUClass);
        end;
      end else begin
        if (HasLanguages) then begin
          EnterSkip(LangCode);
        end else begin
          if (IsEnterprise) then begin
            EnterSkip(CustomsNr);
          end else begin        
            if (HasLocalization("ARG,MEX,USA")) then begin
              EnterSkip(DispatchNumber);
            end else begin
              EnterSkip(Math);
            end;
          end;
        end; 
      end;
    end;  
  end;
  SoftEditField(h1,v,82,". ",Normal,"scanbarcode",false,0,M4Str,60);  
  if (HasObjects) then begin
    if (IsEnterprise) then begin
      EditField(h2,v=vm,135,"",Normal,Objects,false,ObjSClass);
    end else begin
      if (HasMultiLocations) then begin
        EditField(h2,v,135,"",Normal,Objects,false,ObjSClass);
      end else begin
        v = v + vs;
        EditField(h2,v,135,"",Normal,Objects,false,ObjSClass);  
      end;
    end;
  end;
  if (HasModPO) then begin
    if (HasObjects) then begin
      v = v + vs;
    end;
    EditField(h2,v,135,"  .",ViewOnly,PONr,false,0);  
  end;
  if (IsEnterprise) then begin
    if (StandardHansa==false) then begin
      v = v + vs;
      EditField(h2,v,135," .",ViewOnly,POCOSerNr,true,POCOSClass);  
    end;
    EditField(h3,v=vm,80,"  .",ViewOnly,PUClass,false,0);
  end;
  if (HasLanguages) then begin
    v = v + vs;
    EditField(h3,v,80,"",Normal,LangCode,false,LangSClass);  
  end;
  if (IsEnterprise) then begin
    v = v + vs;
    EditField(h3,v,80," . .",Normal,CustomsNr,false,0);  
  end;
  if (HasLocalization("ARG,MEX,USA")) then begin
    v = v + vs;
    EditField(h3,v,80,"Dispatch Number",Normal,DispatchNumber,false,0);  
  end;
//  CheckBox(h4,v=vm,0,"Price Incl. #VAT#",InclVAT);
  EnterSkip(Math);
  Tile(tilenr,220,true,tilenr,Math); tilenr = tilenr + 1;
  v = 24;
  if (HasSerialNumbers or HasLocalization("ARG,MEX,USA") or HasJewelleryInterface) then begin
    MatrixBegin(4,v,-50,-50,-,200);
  end else begin
    MatrixBegin(4,v,-25,-50,-,200);
  end;
  MatTypedRow(stp);
  MatOverStrike(ovst);
  Flip(0);
  MatCol(1,28,"",0,ArtCode,false,INSClass);
//  MatCol(1,84,"Var",0,VARList,true,VARSClass);
//  MatCol(1,144,"Qty",0,Quant,true,0);
  if (HasVarieties) then begin
    MatCol(1,144,"-",0,Quant,true,MATVARINSClass); //94 //Edit***************************Sasha2,15:54 19.09.2014
  end else begin
    MatCol(1,144,"-",0,Quant,true,0); //94 //Edit***************************Sasha2,15:54 19.09.2014
  end;
  EnterSkip(Spec);
  MatText(t=3,28,"",true);
  MatCol(t,100,"",0,Sign,false,0);
  MatText(t,160," ",true);
  MatCol(t,290," .",0,UpdDate,false,0);
  flipnr = 1;
  Flip(flipnr); flipnr = flipnr + 1;
  if (HasJewelleryInterface) then begin
    MatColTL(1,144,".",0,M4Code,ViewOnly,5,UnitCode,false,UnitSCLass);
    MatCol(1,184,"",0,Spec,false,0);
    MatCol(1,-485,"",0,Location,false,LocationSClass);
    MatCol(1,-430," ",0,SerialNr,false,SerialNrSClass);
    EnterSkip(SerialNr); //Edit***************************Sasha2,16:09 19.09.2014
    MatCol(1,-320," ",0,StockType,false,SetSClass);
  end else begin
    MatColTL(1,174,".",0,M4Code,ViewOnly,5,UnitCode,false,UnitSCLass); // 164 //Edit***************************Sasha2,16:03 19.09.2014
    MatCol(1,214,".",0,Spec,false,0); //204 //Edit***************************Sasha2,16:03 19.09.2014
  end;
  MatCol(1,-240,"",0,UPrice,true,0);
  if (UserCanAction("ViewCostPrice",true)) then begin //Edit***************************Sasha2,10:20 18.08.2014
    MatCol(1,-160,".",0,CostPrice,true,0);
  end; //Edit***************************Sasha2,10:21 18.08.2014
  MatCol(1,-80,"",0,Sum,true,0);
  if (IsEnterprise) then begin
    Flip(flipnr); flipnr = flipnr + 1;
    MatCol(1,144,".",0,Spec,false,0);
    MatCol(1,-350,"",0,Location,false,LocationSClass);
    MatCol(1,-280," ",0,SerialNr,false,SerialNrSClass);
    EnterSkip(SerialNr); //Edit***************************Sasha2,16:09 19.09.2014
    MatCol(1,-150," ",0,BestBefore,false,0);
    MatCol(1,-60,". ",0,BatchStatus,false,BatchStatusSClass);
    Flip(flipnr); flipnr = flipnr + 1;
    MatCol(1,144,".",0,Spec,false,0);
    if (UserCanAction("ViewCostPrice",true)) then begin //Edit***************************Sasha2,10:21 18.08.2014
      MatColTL(1,-404,".",0,-1,ViewOnly,-1,InPrice,false,0);
    end; //Edit***************************Sasha2,10:21 18.08.2014
    if (StandardHansa==false) then begin
      MatColTL(1,-324,".",0,-1,ViewOnly,-1,VarianceAmount,false,0);
      MatCol(1,-244,"",0,UPrice,true,0);
      MatCol(1,-174,". .",0,Extra,true,0);
      if (UserCanAction("ViewCostPrice",true)) then begin //Edit***************************Sasha2,10:22 18.08.2014
        MatCol(1,-104,"",0,CostPrice,true,0);
      end; //Edit***************************Sasha2,10:22 18.08.2014	
    end else begin
      MatCol(1,-324,"",0,ShipCost,true,0);
      MatCol(1,-244,". ",0,Extra,true,0);
      MatCol(1,-164,"",0,CustomsCost,true,0);
    end;
    if (CYb.UseTaxTemplatesforTaxCalc!=0) then begin
      MatCol(1,-34,"",0,TaxTemplateCode,false,TaxTemplateSClass);
    end else begin
      MatCol(1,-34,"",0,VATCode,false,VATCodeSClass);
    end;
    Flip(flipnr); flipnr = flipnr + 1;
    MatCol(1,144,".",0,Spec,false,0);
    MatCol(1,-350," .",0,VEItemCode,false,PISClass);
    MatColTL(1,-270,". .",0,M4Code,ViewOnly,5,VEUnit,false,UnitSCLass);
    MatCol(1,-200,"..",0,VEQuant,true,0);
    if (StandardHansa==false) then begin
      MatCol(1,-140,".",0,Coefficient,true,0);
    end;
    MatCol(1,-90," ",0,BasePrice,false,0);
    Flip(flipnr); flipnr = flipnr + 1;
    MatCol(1,144,".",0,Spec,false,0);
    if (StandardHansa==false) then begin
      MatCol(1,-400," ",0,StockType,false,SetSClass);
    end;
    if (HasTREO) then begin
      MatCol(1,-310,"TREO",0,TREO,false,SetSClass);
    end;
    MatCol(1,-220,".",0,CostAcc,false,AccSClass);
    MatCol(1,-155,".",0,CredAcc,false,AccSClass);
    MatCol(1,-90,"",0,Objects,false,ObjSClass);
    if (StandardHansa==false) then begin
      Flip(flipnr); flipnr = flipnr + 1;
      MatCol(1,144,".",0,CustomsNr,false,0);
      MatCol(1,-340," ",0,CustomsDate,false,PasteCurDate);
      MatCol(1,-240,"",0,CountryOfOrg,false,CountrySClass);
      MatCol(1,-140," ",0,PosCode,false,PosSClass);
      MatCol(1,-70," ",0,ToPosCode,false,FreePosSClass);
    end;
    Flip(flipnr); flipnr = flipnr + 1;
    MatCol(1,144,".",0,Spec,false,0);
    MatCol(1,-250,". ",0,SerialNr,false,SerialNrSClass);
    EnterSkip(SerialNr); //Edit***************************Sasha2,16:09 19.09.2014
    MatCol(1,-135,"",0,UnitXval,true,0);
    MatCol(1,-90,"",0,UnitYval,true,0);
    MatCol(1,-45,".",0,UnitZval,true,0);
    if (StandardHansa==false) then begin
      Flip(flipnr); flipnr = flipnr + 1;
      MatCol(1,144,"..",0,Extra,true,0);
    MatCol(1,-420,"",0,ShipCost,true,0);
    MatCol(1,-360,"",0,CustomsCost,true,0);
      label = UserDefined("AccBlock","PUCost1");
      if (blank(label)) then begin label = ". 1";end;
      MatCol(1,-300,label,0,RowCost1,false,0);
      label = UserDefined("AccBlock","PUCost2");
      if (blank(label)) then begin label = ". 2";end;
      MatCol(1,-240,label,0,RowCost2,false,0);
      label = UserDefined("AccBlock","PUCost3");
      if (blank(label)) then begin label = ". 3";end;
      MatCol(1,-180,label,0,RowCost3,false,0);
      label = UserDefined("AccBlock","PUCost4");
      if (blank(label)) then begin label = ". 4";end;
      MatCol(1,-120,label,0,RowCost4,false,0);
      label = UserDefined("AccBlock","PUCost5");
      if (blank(label)) then begin label = ". 5";end;
      MatCol(1,-60,label,0,RowCost5,false,0);
    end;
    Flip(flipnr); flipnr = flipnr + 1;
    MatCol(1,144," .",0,PONr,false,POSClass);
    MatCol(1,194," ",0,OrdRow,false,0);
    MatCol(1,-370,"..",0,PORecon,false,0);
    MatCol(1,-310,".",0,POReconComment,false,0);
    MatCol(1,-200,"./",0,VIRecon,false,0);
    MatCol(1,-130,".",0,VIReconComment,false,0);
  end else begin
    if (HasSerialNumbers) then begin
      Flip(flipnr); flipnr = flipnr + 1;
      MatCol(1,144,"",0,Spec,false,0);
      MatCol(1,-150,". ",0,SerialNr,false,SerialNrSClass);
      EnterSkip(SerialNr); //Edit***************************Sasha2,16:10 19.09.2014
    end;
/*
    MatCol(1,-280," .",0,UPrice,true,0);
    MatCol(1,-210,"",0,ShipCost,true,0);
    MatCol(1,-140,". ",0,Extra,true,0);
    MatCol(1,-70,"",0,CostPrice,true,0);
*/
  end;
  if (HasLocalization("ARG,MEX,USA")) then begin
    Flip(flipnr); flipnr = flipnr + 1;
    MatCol(t=1,144,"",0,Spec,false,0);
    MatCol(t,-250," ",0,DispatchNumber,false,0);
  end;
  if (HasJewelleryInterface) then begin
    Flip(flipnr); flipnr = flipnr + 1;
    MatCol(t=1,144,"",0,Spec,false,0);
    MatCol(t,-350,". . ",0,SuppSerialNr,true,0);
    MatCol(t,-200,"",0,Metal,true,0);
    MatCol(t,-150,"",0,RowWeight,true,0);
    MatCol(t,-100,"",0,Size,true,0);
    MatCol(t,-50,"",0,Length,true,0);
    Flip(flipnr); flipnr = flipnr + 1;
    MatCol(t=1,144,"",0,Spec,false,0);
    MatCol(t,-350,". ",0,MajStoneDet,true,0);
    MatCol(t,-250,"",0,Colour,true,0);
    MatCol(t,-200,"",0,Clarity,true,0);
    MatCol(t,-150,".",0,Cert,true,0);
    MatCol(t,-100,". ",0,MinStoneDet,true,0);
    Flip(flipnr); flipnr = flipnr + 1;
    MatCol(t=1,144,"",0,Spec,false,0);
    MatCol(t,-400," ",0,WatchBrand,true,0);
    MatCol(t,-300,". ",0,StyleName,true,0);
    MatCol(t,-200," ",0,WatchMetal,true,0);
    MatCol(t,-100,"",0,Movement,true,0);
    Flip(flipnr); flipnr = flipnr + 1;
    MatCol(t=1,144,"",0,Spec,false,0);
    MatCol(t,-400,"/",0,BrcStr,true,0);
    MatCol(t,-300,"",0,Gender,true,0);
    MatCol(t,-200,".",0,Other,true,0);
    MatCol(t,-100,". 2",0,Other2,true,0);
  end;
  InsertRowTest;
  DeleteRowTest;
  RowMenuBegin("");         
  if (StandardHansa==false) then begin
    if (HasSerialNumbers) then begin
      RowMenuItem(0,"  ",' ',' ',0,"OpenBatchPUDsm");         
    end;
    RowMenuItem(0," ",' ',' ',0,"SplitRowPUDsm");         
  end;
  EndRowMenu;
  EndMatrix;
  vs = 20;
//  v = 18;
  v = v + 1;
  if (flipnr>2) then begin
    for (f=1;f<flipnr;f=f+1) begin
      VTab(-35,v,-16,v+vs,ToolFlip,f,chr(asc("A") + f - 1));
      v = v + vs;
    end;
  end;
  EditField(110,-41,70," -",ViewOnly,SumQuant,true,0);
//  EditField(110,-21,70,"Price Subtotal",Normal,SubTotal,true,0); //Shows the same as SumCostPrice?
  EditField(260,-41,70,"",Normal,ShipCost,true,0);
  if (IsEnterprise) then begin
    EditField(260,-21,70,"",Normal,CustomsCost,true,0);
  end;
  if (CYb.UseTaxTemplatesforTaxCalc==0) then begin
  EditField(410,-41,70,"",Normal,VATVal,true,0);
  if (HasExtTax) then begin
    EditField(410,-21,70,". ",ViewOnly,TAX1Sum,true,0);
    end;
  end else begin
    EditField(410,-41,70,"",Normal,VATVal,true,0);  
  end;
  EditField(-169,-41,118,"",ViewOnly,SumCostPrice,true,0);
  EditField(-169,-21,118,"",ViewOnly,PayVal,true,0);
  if (HasMultiCurrency or HasBase2) then begin
    Tile(tilenr,70,false,tilenr,FrRate); tilenr = tilenr + 1;
    vs = 20;
    if (HasBase2) then begin
      h1 = h1 + 20;
    end;
    EditField(h1,v=6,50,"",Normal,CurncyCode,false,CurncyCodeSClass);
    if (HasMultiCurrency) then begin
      if (HasBase2) then begin
        EditField(h1,v+vs,50,"  1",Normal,BaseRate1,true,0);
      end else begin
        EditField(h1,v+vs,50,". ",Normal,BaseRate1,true,0);
      end;
      if (HasBase2) then begin  
        EditField(h1,v+(vs*2),50,"  2",Normal,BaseRate2,true,0);  
      end;
      EditField(h2=295,v,50,"",Normal,FrRate,true,0);  
      if (HasBase2) then begin  
        RateField(h3=360,v,50,":",Normal,"ToRateB1",true,h3+60,v+14,"  1",false);  
        RateField(h3,v+=vs,50,":",Normal,"ToRateB2",true,h3+60,v+14,"  2",false);            
      end else begin
        RateField(h3=360,v,50,":",Normal,"ToRateB1",true,h3+60,v+14," ",false);      
      end;
    end else begin
      EditField(h1,v+=vs,50,"  1",Normal,BaseRate1,true,0);
      EditField(h1,v+=vs,50,"  2",Normal,BaseRate2,true,0);
    end;
  end;
  if (IsEnterprise and StandardHansa==false) then begin
    Tile(tilenr,120,false,tilenr,Cost1); tilenr = tilenr + 1;
    vs = 20;
    label = UserDefined("AccBlock","PUCost1");
    if (blank(label)) then begin label = ".  1";end;
    EditField(h=110,v=6,70,label,Normal,Cost1,false,0);
    label = UserDefined("AccBlock","PUCost2");
    if (blank(label)) then begin label = ".  2";end;
    EditField(h2=295,v,70,label,Normal,Cost2,false,0);
    label = UserDefined("AccBlock","PUCost3");
    if (blank(label)) then begin label = ".  3";end;
    EditField(h,v+=vs,70,label,Normal,Cost3,false,0);
    label = UserDefined("AccBlock","PUCost4");
    if (blank(label)) then begin label = ".  4";end;
    EditField(h2,v,70,label,Normal,Cost4,false,0);
    label = UserDefined("AccBlock","PUCost5");
    if (blank(label)) then begin label = ".  5";end;
    EditField(h,v+=vs,70,label,Normal,Cost5,false,0);
    if (HasApprovals) then begin
      SoftEditField(h2,v,123," .",ViewOnly,"AcceptanceStatusFlag",false,0,M4Str,255);
    end;
    ButtonFrame(h3=400,v=16,130,2," . ");
    RadioButton(h3,v,0,0,"",ExtraCostsCalculation);
    RadioButton(h3,v+=16,1,0,"",ExtraCostsCalculation);
/*
//oldapprovals  
    ButtonFrame(h3=-163,v=16,123,6," ");
    RadioButton(h3,v,kAcceptanceStateNotRequired,0," ",AcceptanceStatus);
    RadioButton(h3,v+=16,kAcceptanceStateNotStarted,0," ",AcceptanceStatus);
    RadioButton(h3,v+=16,kAcceptanceStateNotRequested,0," ",AcceptanceStatus);
    RadioButton(h3,v+=16,kAcceptanceStatePending,0," ",AcceptanceStatus);
    RadioButton(h3,v+=16,kAcceptanceStateApproved,0,"",AcceptanceStatus);
    RadioButton(h3,v+=16,kAcceptanceStateRejected,0,"",AcceptanceStatus);
*/    
    Tile(tilenr,130,false,tilenr,FreightCode); tilenr = tilenr + 1;
    EditField(h1,v=6,80,". ",Normal,FreightCode,false,FreightCompanySClass);
    EditField(h1,v+=vs,-20,".",Normal,FreightCompany,false,0);
    EditField(h1,v+=vs,-20,"",Normal,FreightCompanyRegNr,false,0);
    EditField(h1,v+=vs,-20,".  ",Normal,TruckInfo,false,0);
    EditField(h1,v+=vs,-20,"",Normal,Driver,false,0);
    EditField(h1,v+=vs,-20,"",Normal,CMRText,false,0); // International transporting number
    Tile(tilenr,30,false,tilenr,Comment); tilenr = tilenr + 1;
    EditField(h1,v=6,-20,".",Normal,Comment,false,0);
  end;
  if (StandardHansa==true) then begin
    Tile(tilenr,30,false,tilenr,Comment); tilenr = tilenr + 1;
    EditField(h1,v=6,-20,".",Normal,Comment,false,0);   // From dict
  end;
  if (GuiType==kGuiMetro) then begin // Temporarily disabled on Windows 8
    SpecialMenu(" ",'r',4,"PUStatusDsm");
    SpecialMenu("  ",' ',2,"GenSerialNosPUDsm");
    if (HasIntegratedNL) then begin
      SpecialMenu("  ",'t',4,"OpenTRFromPU");
    end;
    SpecMenuGroup("",kSpecMenuGroupTypeExtendedPlusMenu,0);         
    if (HasModPL) then begin
      SpecialMenu(" - ",'F',3,"VIFromPUDsm");
    end;
    if (HasRetGoodsToSupp and HasModIN) then begin
      SpecialMenu("  ",'B',7,"RetPUFromPUDsm");
    end;
  end else begin
  if (IsEnterprise) then begin
    SpecialMenu(" ",'f',1,"ItemSearchDsm");
    SpecialMenu(" ",'r',4,"PUStatusDsm");
  end;
  if (HasSerialNumbers) then begin
    SpecialMenu("  ",' ',2,"GenSerialNosPUDsm");
  end;
    if (HasIntegratedNL) then begin
    SpecialMenu("  ",'t',4,"OpenTRFromPU");
  end;
  if (HasTaxMatrix) then begin
    SpecialMenu(" . ",' ',25,"OpenVatMatrixPUDsm");
  end;
  SpecialMenu(" ",'e',0,"PrintPULabPUDsm");
  SpecialMenu(" ZEBRA",'',0,"PrintPUZebraDsm"); //Edit***************************Sasha2,15:56 25.09.2014
  SpecialMenu(" ",' ',1,"UpdatePricesPUDsm");

  if (HasModWHM) then begin
    SpecialMenu("  ",' ',9,"OKStockMovPUrDsm"); 
  end;
  if (HasLocalization("HRV")) then begin         
    SpecialMenu("   ",' ',8,"SPCHRVPUDsm");         
  end;
  if (HasApprovals) then begin
    SpecialMenu(" ",' ',6,"PUSendforAcceptancePUDsm"); 
    SpecialMenu("  ",' ',2,"CancelApprovalRequestDsm"); 
  end;
  SpecMenuGroup("",kSpecMenuGroupTypeExtendedPlusMenu,0);         
  if (HasModPL) then begin
    SpecialMenu(" - ",'F',3,"VIFromPUDsm");
  end;
  if (HasQualityControl) then begin
    SpecialMenu(" ",'u',10,"QualConFromPUDsm");
//  SpecialMenu("Update Mark",' ',6,"UpdateMarkPUDsm");
  end;
  if (HasAdvancedStock or (HasRetGoodsToSupp and HasModIN)) then begin
    SpecialMenu("  ",'B',7,"RetPUFromPUDsm");
  end;
  if (HasModRent) then begin
//  SpecialMenu("   ",' ',5,"StockMovFromPUSpec");
//  SpecialMenu("Scan",' ',8,"ScanBarCodePUDsm");
    SpecialMenu("  ",' ',8,"INTransFromPUsm");
  end;
  SpecialMenu(" ",' ',0,"AddSupplierPUDsm"); 
  SpecialMenu(" ",' ',0,"AddItemPUDsm");  
  SpecialMenu("  ",' ',9,"CreateTransFromPUDsm");// Edit ************************** Friday, July 11, 2014 at 16:30:24
	SpecialMenu(" ",'',14,"CreateSMfromPUDsm");// Edit ************************** Monday, July 14, 2014 at 11:45:06
	SpecialMenu(" ",'',14,"CreateSDfromPUDsm");// Edit ************************** Monday, July 14, 2014 at 11:45:05
  SpecialMenu("  ",'',14,"MyCreateOrdFromPUDsm"); //Edit***************************Sasha2,10:38 21.01.2015   
  end;
  EndWindow;
end;

window SDDClass:1
  wtag("language","RUS"), wtag("product","*"), wtag("productcode","*"), wtag("device","computer")
begin
  real h,h2,h3,h4,v,vm,vs;
  Integer f,flipnr;

  WindowBegin("  ",SDDClass,CGview,-);
  SetWRect(20,80,560,350);
  Sizeable(-1,-1,0,0);
  FormName(SDForm);
  UseView(SDVc);
  ActiveFieldOnNew("TransDate");
  vs = 20; h2 = 260; h3 = 430; h4 = 580;
  EditField(h=80,v=6, 82,"",Normal,SerNr,false,TSerSClass);
  EditField(h2,v,82," ",Normal,TransDate,false,PasteCurDate);
  if (IsEnterprise) then begin
    EditField(h3,v,100,"",Normal,Reason,false,StandProblemsSClass);
    CheckBox(h4,v,0,"OK",OKFlag);
  end;
  if (IsEnterprise) then begin
    EditField(h,v+=vs,82," .",Normal,CostAcc,false,AccSClass);
    EditField(h2,v,82,"",Normal,SDClass,false,OrderClassSClass);
    EditField(h3,v,100,"",Normal,RefStr,false,0);
    v = v + vs;
  end else begin
    if (HasModNL) then begin
      EditField(h3,v,82," ",Normal,CostAcc,false,AccSClass);         
    end;
    CheckBox(h4,v,0,"OK",OKFlag);
    v = v + vs;
  end;
  if (HasMultiLocations) then begin
    EditField(h,v,82,"",Normal,Location,false,LocationSClass);
  end;
  if (HasAdvancedAccounting) then begin
    EditField(h2,v,82,". ",Normal,ACShort,false,ACShortSClass);
  end;
  if (HasModTS or IsEnterprise) then begin
    EditField(h3,v,100,"",Normal,PRCode,false,PRSClass);
  end;
  if (CurrentUser=="SA")  then begin		//Edit----------------------Dima  21.01.2016
		EditField(h4,v,100,"LocOKNr",Normal,LocOKNr,false,0);
	end;
  v = v + vs;
  if (HasApprovals) then begin
    SoftEditField(h,v,82," .",ViewOnly,"AcceptanceStatusFlag",false,0,M4Str,255);
  end;

  if (HasObjects) then begin
    EditField(h2,v,270,"",Normal,Objects,false,ObjSClass);
  end;
  EnterSkip(Math);
//  CheckBox(450,6,0,"OK",OKFlag);
  v = v + 40;
  if (IsEnterprise) then begin
    vm = v + 1;
    MatrixBegin(4,v,-50,-35,-,200);
  end else begin
    MatrixBegin(4,v,-40,-25,-,99);
  end;
  Flip(0);
  if (HasJewelleryInterface) then begin
    MatCol(1,24," ",0,SerialNr,false,SerialNrSClass);
    EnterSkip(Quant);
    MatCol(1,130,"",0,ArtCode,false,INSClass);
    if (HasVarieties) then begin
      MatCol(1,192,"-",0,Qty,true,MATVARINSClass);
    end else begin
      MatCol(1,192,"-",0,Qty,true,0);
    end;
    MatCol(1,254,"",0,Spec,false,0);
  end else begin
    MatCol(1,32,"",0,ArtCode,false,INSClass);
//  MatCol(1,94,"Var",0,VARList,false,VARSClass);
//  MatCol(1,144,"Qty",0,Qty,true,0);
    if (HasVarieties) then begin
      MatCol(1,144,"-",0,Qty,true,MATVARINSClass); //94  //Edit***************************Sasha2,16:14 19.09.2014
    end else begin
      MatCol(1,94,"-",0,Qty,true,0);
    end;
    MatCol(1,174,"",0,Spec,false,0); //154 //Edit***************************Sasha2,16:14 19.09.2014
  end;
  flipnr = 1;
  Flip(flipnr); flipnr = flipnr + 1;
  if (HasJewelleryInterface==false) and (HasSerialNumbers) then begin
    MatCol(1,-280," ",0,SerialNr,false,SerialNrSClass);
    EnterSkip(SerialNr); //Edit***************************Sasha2,16:15 19.09.2014
  end;
  if (HasMultiLocations) then begin
    MatCol(1,-160,".",0,Location,false,LocationSClass);
  end;
  if (HasPositions) then begin
    MatCol(1,-100,"",0,PosCode,false,UsedPosSClass);
  end;
  if (IsEnterprise) then begin
    MatCol(1,-40,".",0,Coefficient,false,0);
    Flip(flipnr); flipnr = flipnr + 1;
    MatCol(1,-270,". ",0,ACShort,false,ACShortSClass);
    if (UserCanAction("ViewCostPrice",true)) then begin //Edit***************************Sasha2,10:23 18.08.2014
      MatCol(1,-200," .",0,CostAcc,false,AccSClass);
    end; //Edit***************************Sasha2,10:24 18.08.2014	
    MatCol(1,-100,"",0,Objects,false,ObjSClass);
    Flip(flipnr); flipnr = flipnr + 1;
    if (UserCanAction("ViewCostPrice",true)) then begin //Edit***************************Sasha2,10:24 18.08.2014
      MatCol(1,-210,"FIFO",0,FIFO,true,0);
      MatCol(1,-125,"FIFO  .",0,FIFORowVal,true,0);
    end; //Edit***************************Sasha2,10:24 18.08.2014	  
    MatCol(1,-40,".",0,Coefficient,true,0);
    Flip(flipnr); flipnr = flipnr + 1;
    MatCol(1,-240,"",0,Recepy,false,RecSClass);
    if (StandardHansa==false) then begin
      MatCol(1,-180,"",0,PRCodeRow,false,PRSClass);
    end;
    if (UserCanAction("ViewCostPrice",true)) then begin //Edit***************************Sasha2,10:25 18.08.2014
      MatCol(1,-120,". ",0,BasePrice,true,0);
    end; //Edit***************************Sasha2,10:25 18.08.2014  
    MatCol(1,-40,".",0,Coefficient,false,0);
    Flip(flipnr); flipnr = flipnr + 1;
    MatCol(1,-140,"",0,UnitXval,true,0);
    MatCol(1,-95,"",0,UnitYval,true,0);
    MatCol(1,-50,"",0,UnitZval,true,0);
  end else begin
    if (HasModNL) then begin
      MatCol(1,-200," -",0,CostAcc,false,AccSClass);
    end;
    MatCol(1,-100,"- .",0,FIFO,true,0);
  end;
  InsertRowTest;
  DeleteRowTest;
  RowMenuBegin("");         
  RowMenuItem(0," ",'I','I',0,"ItemStatusSDDsm");         
  if (HasQualityControl) then begin
    RowMenuItem(0," ",'u','u',0,"QualConFromSDDsm");         
  end;
  EndRowMenu;
  EndMatrix;
  vs = 22;
  v = vm;/* 28 */
  if (flipnr>2) then begin
    for (f=1;f<flipnr;f=f+1) begin
      VTab(-35,v,-16,v+vs,ToolFlip,f,chr(asc("A") + f - 1));
      v = v + vs;
    end;
  end;
//  CheckBox(20,-20,0,"OK",OKFlag);
  EditField(h=150,-20,70,". -",ViewOnly,TotQty,false,0);
  EditField(h=290,-20,-40,".",Normal,Comment,false,0);
/*
//oldapprovals  
  if (HasApprovals) then begin
    Tile(2,200,true,"1",AcceptanceStatus);
    if (HasApprovals) then begin
      SoftEditField(h3=-163,v=16,123," ",ViewOnly,"AcceptanceStatusFlag",false,0,M4Str,255);
    end;
    ButtonFrame(h3=-163,v=16,123,6," ");
    RadioButton(h3,v,kAcceptanceStateNotRequired,0," ",AcceptanceStatus);
    RadioButton(h3,v+=16,kAcceptanceStateNotStarted,0," ",AcceptanceStatus);
    RadioButton(h3,v+=16,kAcceptanceStateNotRequested,0," ",AcceptanceStatus);
    RadioButton(h3,v+=16,kAcceptanceStatePending,0," ",AcceptanceStatus);
    RadioButton(h3,v+=16,kAcceptanceStateApproved,0,"",AcceptanceStatus);
    RadioButton(h3,v+=16,kAcceptanceStateRejected,0,"",AcceptanceStatus);
  end;
*/    
  if (HasAdvancedStock) then begin
    SpecialMenu("   ",'r',4,"SDStatusDsm");
  end;
  if (HasIntegratedNL) then begin
    SpecialMenu("  ",'t',1,"OpenTRFromSD");
  end;
  SpecialMenu(" ",'f',1,"ItemSearchDsm");
  if (HasApprovals) then begin
    SpecialMenu(" ",' ',6,"SDSendforAcceptanceSDDsm"); 
    SpecialMenu("  ",' ',2,"CancelApprovalRequestDsm"); 
  end;
  SpecMenuGroup("",kSpecMenuGroupTypeExtendedPlusMenu,0); 
  SpecialMenu(" ",'',3,"CreatePUfromSDDsm");// Edit ************************** Monday, July 14, 2014 at 11:45:01

  EndWindow;
end;

window ForSaleINSClass:1
  wtag("language","RUS"), wtag("product","*"), wtag("productcode","*"), wtag("device","computer")  
begin
  real v;
  record LocalMachineBlock LMb;
 
  BlockLoad(LMb);
  WindowBegin(" ",ForSaleINSClass,CGslist,-);
  Sizeable(-1,-1,0,0);
  UseView(INVc);
  SpawnClass(INDClass);
    v = 0;
    /*if (GuiType==kGuiCocoa) then begin // Edit ************************** Wednesday, 5 November 2014 14:24:15
      SetWRect(210,80,850,498);
    FlowView(0,30,-1,230);
    v = v+230;
    end else begin
      SetWRect(210,80,850,298);
    end;*/ // Edit ************************** Wednesday, 5 November 2014 14:24:14
    SetWRect(210,80,850,298);// Edit ************************** Wednesday, 5 November 2014 14:24:13
    RecordList(4,v+17,-21,-39);
    RlColKey(4,4,"",Code,false,ActCodeForSale);
  if (HasItemGroups) then begin
      RlColKey(105,105,"",Group,false,ActGroupForSale);
      RlColKey(160,160,"",Name,false,ActNameForSale);  
    end else begin
      RlColKey(105,105,"",Name,false,ActNameForSale);
    end;
    if (IsEnterprise) then begin
      if (StandardHansa==false) then begin
        RlColKey(-250,-250," ",AlternativeCode,false,ActAlternativeCodeForSale);
      end else begin
        RlCol(-250,-250," ",BarCode,false);  
      end;
    end;
    if (HasModIN) then begin
      RlCol(-120,-120," ",UPrice1,true);  
    end else begin
      RlCol(-120,-120,"",UPrice1,true);  
    end;
    if (HasModIN) then begin
      CalculatedColumn(-50,-50," ","INSClassInStock",true);  
    end;
    SearchField("");  
    if (HasModIN) then begin
      if (UserCanReport("INInfoRn","",true)) then begin
        SpecialMenu(" ",'I',0,"INStatusINSsm");  
      end;
    end;
    if (IsEnterprise) then begin
      SpecialMenu("",'F',1,"INSearchSsm");  
      if (StandardHansa==false) then begin
        SpecialMenu("-",'l',2,"AltItemINSsm");  
        SpecialMenu(" ",'r',2,"CrossItemINSsm");  
      end;
    end;
//  SearchField("");
  EndWindow;
end;

window INSClass:4
  wtag("language","RUS"), wtag("product","*"), wtag("productcode","*"), wtag("device","computer")
begin
  real v;
  
  WindowBegin(" ",INSClass,CGslist,-);
  Sizeable(-1,-1,0,0);
  UseView(INVc);
  SpawnClass(INDClass);
      v = 0;
      /*if (GuiType==kGuiCocoa) then begin // Edit ************************** Tuesday, July 15, 2014 at 9:58:04
        SetWRect(210,80,850,498);
        FlowView(0,0,-1,200);
        v = v+200;
      end else begin
        SetWRect(210,80,850,298);
      end;*/ // Edit ************************** Tuesday, July 15, 2014 at 9:58:01
      SetWRect(210,80,850,298);// Edit ************************** Tuesday, July 15, 2014 at 9:58:01
      RecordList(4,v+17,-21,-39);
      RlColKey(4,4,"",Code,false,ActCode);
    if (HasItemGroups) then begin
        RlColKey(105,105,"",Group,false,ActGroup);
        RlColKey(160,160,"",Name,false,ActName);
      end else begin
        RlColKey(105,105,"",Name,false,ActName);
      end;
      if (IsEnterprise) then begin
      	if (StandardHansa==false) then begin
        	RlColKey(-250,-250,". ",AlternativeCode,false,ActAlternativeCode);
      	end else begin
        	RlCol(-250,-250,"-",BarCode,false);
      	end;
      end;
      if (HasModIN) then begin
        RlCol(-120,-120,". ",UPrice1,true);
      end else begin
        RlCol(-120,-120,"",UPrice1,true);
      end;
      if (HasModIN) then begin
        CalculatedColumn(-50,-50," ","INSClassInStock",true);
      end;
      SearchField("");
      if (HasModIN) then begin
        if (UserCanReport("INInfoRn","",true)) then begin
      SpecialMenu(" ",'i',0,"INStatusINSsm");
        end;
      end;
      if (IsEnterprise) then begin
        SpecialMenu("",'F',1,"INSearchSsm");
        if (StandardHansa==false) then begin
          SpecialMenu("-",'l',2,"AltItemINSsm");
          SpecialMenu(" ",'r',2,"CrossItemINSsm");
        end;
      end;
//  SearchField("");
  EndWindow;
end;
  
window SHDClass:1
  wtag("language","RUS"), wtag("product","*"), wtag("productcode","*"), wtag("device","computer")
begin
  real h,h1,h2,h3,h4,t,v,vm,vs;
  Integer tilenr,f,flipnr,rn;

  WindowBegin("",SHDClass,CGview,-);
  SetWRect(20,80,750,460);
  Sizeable(-1,-1,0,0);
  UseView(SHVc);
  vs = 20;
  Tile(0,74,false,"",SerNr);
  EditField(75,vm=(v=6),95,"",Normal,SerNr,false,TSerSClass);
  EditField(75,v+=20,95,"",ViewOnly,CustCode,false,0);
  EditField(h=255,v=vm,-40,".",Normal,Addr0,false,0);
  v = v + vs;
  if (HasOfficialSerNr and (HasLocalization("AGO")==false)) then begin
    EditField(h,vm=v,135,". ",Normal,OfficialSerNr,false,LegalInvNrSClass);
  end;
  if (HasTREO) then begin
    EditField(h+230,vm,95,"TREO .",Normal,TREONr,false,0);
  end;
  CheckBox(h4=-100,v,0,"OK",OKFlag);
  tilenr = 1;
  if (IsEnterprise) then begin
    TileButton(tilenr,""); tilenr = tilenr + 1;
    TileButton(tilenr,""); tilenr = tilenr + 1;
    TileButton(tilenr," ."); tilenr = tilenr + 1;
    TileButton(tilenr,""); tilenr = tilenr + 1;
    TileButton(tilenr," "); tilenr = tilenr + 1;  
    TileButton(tilenr,""); tilenr = tilenr + 1;  
    if (StandardHansa==false) then begin
      TileButton(tilenr,""); tilenr = tilenr + 1;
    end;
  end else begin
    TileButton(tilenr,"."); tilenr = tilenr + 1;
    TileButton(tilenr,""); tilenr = tilenr + 1;
    TileButton(tilenr,""); tilenr = tilenr + 1;
    if (HasLocalization("PRT")) then begin
      if (HasModIN and HasModSL) then begin 
        TileButton(tilenr,"Packaging"); tilenr = tilenr + 1;   
      end;
      TileButton(tilenr,""); tilenr = tilenr + 1;
    end;
  end;
  tilenr = 1;
  Tile(tilenr,70,false,tilenr,ShipDate); tilenr = tilenr + 1;
  vs = 20; h1 = 110; h2 = 290; h3 = 530; h4 = -100;
  EditField(h1,vm=(v=6),82,"",Normal,ShipDate,false,PasteCurDate);
  if (HasMultiLocations) then begin
    v = v + vs;
    EditField(h1,v,82,"",Normal,Location,false,LocationSClass);
  end;
  if (HasRoute) then begin
    v = v + vs;
    EditField(h1,v,82,"",Normal,Sorting,false,DelRouteSClass);
  end;
  if (IsEnterprise) then begin
    v = v + vs;
    SoftEditField(h1,v,82,".-",Normal,"scanbarcode",false,0,M4Str,60); 
  end;
  if (HasObjects) then begin
    EditField(h2,v=vm,135,"",Normal,Objects,false,ObjSClass);
  end;
  if (HasBranch) then begin
    v = v + vs;
    EditField(h2,v,135,"",ViewOnly,BranchID,false,0);
  end;
  if (HasMultiLocations or HasModTS) then begin
    v = v + vs;
  end;
  if (HasModTS) then begin
    EditField(h2,v,135,"",ViewOnly,PRCode,false,0);
  end;
  if (HasObjects) then begin
    EditField(h3,v=vm,80," ",ViewOnly,OrderNr,false,0);
  end else begin
    if (IsEnterprise==false) then begin
      if (HasModTS) then begin
        EditField(h3,v=vm,135," ",ViewOnly,OrderNr,false,0); 
      end else begin
      EditField(h2,v=vm,135," ",ViewOnly,OrderNr,false,0);
      end;
    end;
  end;
  if (IsEnterprise) then begin
    EditField(h3,v+=vs,80," ",Normal,SHClass,false,OrderClassSClass);
    CheckBox(h4,v=6,0,"",Check1);
  end;
  if (IsEnterprise==false) then begin
    if (HasMultiLocations) then begin
      EditField(h1,v+=2*vs,-40,".",Normal,Comment,false,0);
    end else begin
      EditField(h1,v+=vs,-40,".",Normal,Comment,false,0);
    end;
    if (HasLanguages) then begin 
      EditField(h1,v+=vs,82,"",Normal,LangCode,false,LangSClass);         
    end;      
  end;
  Tile(tilenr,190,true,tilenr,Math); tilenr = tilenr + 1;
  v = 20;
  MatrixBegin(4,v,-50,-35,-,200);
  MatTypedRow(stp);
  Flip(0);
  MatCol(1,32,"",0,ArtCode,false,ForSaleINSClass);
//  MatCol(1,94,"Var",0,VARList,false,VARSClass);
//  MatCol(1,144,"",0,Spec,false,0);
  MatCol(1,144,"",0,Spec,false,0); //94 // Edit ************************** Tuesday, 29 July 2014 17:17:14
  MatCol(t=kInvoiceRowTypeStructuredItemComponent,32,"",0,ArtCode,false,ForSaleINSClass);
//  MatCol(t,94,"Var",0,VARList,false,VARSClass);
//  MatCol(t,144,"",0,Spec,false,0);
  MatCol(t,144,"",0,Spec,false,0); //94 // Edit ************************** Tuesday, 29 July 2014 17:17:10
  MatText(t=kInvoiceRowTypeHidden,32,"         ",false);  
  t = kInvoiceRowTypePerceptionTax;    
  flipnr = 1;
  Flip(flipnr); flipnr = flipnr + 1;
  if (HasCustItem) then begin
    MatCol(1,-230," .",0,CustArtCode,false,CUINSClass);
  end;
  MatCol(1,-150,".",0,Ordered,true,0);
  MatCol(1,-98,".",0,InStock,true,0);
  MatCol(1,-50,".",0,Ship,true,0);
  if (HasCustItem) then begin
    MatCol(t=kInvoiceRowTypeStructuredItemComponent,-230,"  .",0,CustArtCode,false,CUINSClass);
    MatCol(t,-150,"",0,Ordered,true,0); 
  end else begin
    MatCol(t=kInvoiceRowTypeStructuredItemComponent,-147,"",0,Ordered,true,0); 
  end;
  MatCol(t,-98,".",0,InStock,true,0);
  MatCol(t,-50,".",0,Ship,true,0);
  Flip(flipnr); flipnr = flipnr + 1;
  if (IsEnterprise==false) then begin
    if (HasSerialNumbers) then begin
      MatCol(1,-350," ",0,SerialNr,false,SerialNrSClass);
      EnterSkip(SerialNr); //Edit***************************Sasha2,15:45 19.09.2014
    end;
    if (HasObjects) then begin
      MatCol(1,-250,"",0,Objects,false,ObjSClass);
    end;
    MatCol(1,-98,". ",0,FIFORowVal,false,0);
    if (HasLocalization("RUS")) then begin  
      Flip(flipnr); flipnr = flipnr + 1;
      MatCol(1,-230,"-",0,UnitCode,false,UnitSClass);  
      MatCol(1,-180,"",0,UnitComment,false,0);  
    end;
  end else begin
    MatCol(1,-410,"IMEI",0,IMEI,false,0);//Edit***************************Sasha2,15:35 21.04.2016
    MatCol(1,-350," ",0,SerialNr,false,SerialNrSClass);
    EnterSkip(SerialNr); //Edit***************************Sasha2,15:45 19.09.2014
    MatCol(1,-250," ",0,BestBefore,false,0);
    MatCol(1,-150,"",0,Location,false,LocationSClass);
    if (HasPositions) then begin
      MatCol(1,-50,"",0,PosCode,false,UsedPosSClass);
    end;
    MatCol(t=kInvoiceRowTypeStructuredItemComponent,-350," ",0,SerialNr,false,SerialNrSClass);
    EnterSkip(SerialNr); //Edit***************************Sasha2,15:45 19.09.2014
    MatCol(t,-250," ",0,BestBefore,false,0);
    MatCol(t,-150,"",0,Location,false,LocationSClass);
    if (HasPositions) then begin
      MatCol(t,-50,"",0,PosCode,false,UsedPosSClass);
    end;
    Flip(flipnr); flipnr = flipnr + 1;
    if (UserCanAction("ViewCostPrice",true)) then begin //Edit***************************Sasha2,10:20 18.08.2014 {
      if (HasBuyBack) then begin
        MatCol(1,-400,"..",0,BBCostPrice,false,0);
      end;
      MatCol(1,-320,"FIFO  ",0,FIFORowVal,false,0);
      if (StandardHansa==false) then begin
        MatCol(1,-220,". .(.2)",0,WAB2,false,0);
      end;
    end; //Edit***************************Sasha2,10:20 18.08.2014 }
    MatCol(1,-120," .",0,BasePrice,false,0);
    MatCol(1,-40,".",0,Coefficient,false,0);
    if (HasBuyBack) then begin
    MatCol(t=kInvoiceRowTypeStructuredItemComponent,-400,"BuyBack Pr.",0,BBCostPrice,false,0);
    MatCol(t,-320,"FIFO  ",0,FIFORowVal,false,0);
    if (StandardHansa==false) then begin
      MatCol(t,-220,". .(.2)",0,WAB2,false,0);
    end;
    MatCol(t,-120," ",0,BasePrice,false,0);
    MatCol(t,-40,".",0,Coefficient,false,0);
    end;
    Flip(flipnr); flipnr = flipnr + 1;
    MatCol(1,-400,"",0,Recepy,false,0);
    MatCol(1,-320,"",0,Source,false,SourceSClass);
    MatCol(1,-240,"",0,Invd,false,0);
    if (StandardHansa==false) then begin
      MatCol(1,-160," ",0,DespatchRowDate,false,PasteCurDate);
      MatCol(1,-80," ",0,DespatchRowTime,false,PasteCurTime);
    end;
    MatCol(t=kInvoiceRowTypeStructuredItemComponent,-400,"",0,Recepy,false,0);
    MatCol(t,-300,"",0,Source,false,SourceSClass);
    MatCol(t,-240,"",0,Invd,false,0);
    if (StandardHansa==false) then begin
      MatCol(t,-160," ",0,DespatchRowDate,false,PasteCurDate);
      MatCol(t,-80," ",0,DespatchRowTime,false,PasteCurTime);
    end;
    Flip(flipnr); flipnr = flipnr + 1;
    MatCol(1,-400," .",0,SalesAcc,false,AccSClass);
    MatCol(1,-330," .",0,CostAcc,false,AccSClass);
    MatCol(1,-250,"",0,Objects,false,ObjSClass);
    MatCol(1,-135,".",0,UnitXval,true,0);
    MatCol(1,-90,".",0,UnitYval,true,0);
    MatCol(1,-45,".",0,UnitZval,true,0);
    MatCol(t=kInvoiceRowTypeStructuredItemComponent,-400," .",0,SalesAcc,false,AccSClass);
    MatCol(t,-330," .",0,CostAcc,false,AccSClass);
    MatCol(t,-250,"",0,Objects,false,ObjSClass);
    MatCol(t,-135,".",0,UnitXval,true,0);
    MatCol(t,-90,".",0,UnitYval,true,0);
    MatCol(t,-45,".",0,UnitZval,true,0);
    if (StandardHansa==false) then begin
      Flip(flipnr); flipnr = flipnr + 1;
      MatCol(1,-300,"",0,RowPackages,false,0);
      MatCol(1,-220,"",0,PackageType,false,PackTypeSClass);
      MatCol(1,-170,"",0,PackageDesc,false,0);
      MatCol(1,-70,"",0,ExciseNr,false,0);
      MatColTL(1,-30,"ORRow",0,M4Long,ViewOnly,0,OrdRow,false,0); //Edit***************************Sasha2,17:51 03.11.2014
      MatCol(t=kInvoiceRowTypeStructuredItemComponent,-300,"",0,RowPackages,false,0);
      MatCol(t,-220,"",0,PackageType,false,PackTypeSClass);
      MatCol(t,-170,"",0,PackageDesc,false,0);
      MatCol(t,-70,"",0,ExciseNr,false,0);
    end;
  end;
  InsertRowTest;
  DeleteRowTest;
  RowMenuBegin("");         
  RowMenuItem(0," ",'I','I',0,"ItemStatusSHDsm");         
  if (IsEnterprise) then begin
    if (StandardHansa==false) then begin
      RowMenuItem(0," ",' ',' ',0,"SplitRowSHDsm");
    end;
  end;
  EndRowMenu;
  EndMatrix;
  vs = 22;
//  v = 21;
  v = v + 1;
  if (flipnr>2) then begin
    for (f=1;f<flipnr;f=f+1) begin
      VTab(-35,v,-16,v+vs,ToolFlip,f,chr(asc("A") + f - 1));
      v = v + vs;
    end;
  end;

//  CheckBox(20,-20,0,"OK",OKFlag);
  if (HasLocalization("PRT")) then begin
    EditField(120,-20,150,"Tax Seal",ViewOnly,TaxAdminServSeal,false,0);
//    SoftEditField(120,-20,150,"Tax Auth. Approval",Normal,"TaxAdminServSeal",false,0,M4Str,200);
  end;
  if(currentuser=="SA")then begin
		EditField(100,-20,80,"LocOKNr",Normal,LocOKNr,true,0); // Edit ************************** Thursday, 3 September 2015 10:05:37
  end;
  EditField(-131,-20,80," -",ViewOnly,TotQty,true,0);
  if (IsEnterprise) then begin
    Tile(tilenr,90,false,tilenr,ShipMode); tilenr = tilenr + 1;
    vs = 20;
    EditField(h1,v=vm,82," .",Normal,ShipMode,false,DMSClass);
    EditField(h1,v+=vs,80," ",ViewOnly,TAX1Sum,true,0);
    if (StandardHansa==false) then begin
      EditField(h1,v+=vs,80,". ",Normal,DeclaredVal,true,0);
      EditField(h1,v+=vs,-20," ",ViewOnly,EShipStatus,false,0);
      if (HasLocalization("BRA,BOL,PRT")) then begin  
        EditField(h1,v+=vs,80,"Tax Seal",ViewOnly,TaxAdminServSeal,false,0);
      end;
    end;
    EditField(h2,v=vm,80," -",ViewOnly,TotQty,true,0);
    EditField(h2,v+=vs,80," ",Normal,TotWeight,true,0);
    EditField(h2,v+=vs,80," ",Normal,TotVolume,true,0);
    CheckBox(473,v=vm,0,"   . ",Check2);
    if (StandardHansa==false) then begin
      CheckBox(473,v+=16,0,"  ",EShipmentCreated);
      CheckBox(473,v+=16,0,"  ",EShipCollected);
    end;
    Tile(tilenr,110,false,tilenr,Packages); tilenr = tilenr + 1;
    h2 = 310;
    EditField(h1,v=6,82,". ",Normal,TransportNumber,false,0);
    EditField(h1,v+=vs,82,"",Normal,Packages,true,0);
    if (HasLanguages) then begin 
    EditField(h1,v+=vs,82,"",Normal,LangCode,false,LangSClass);
    end;  
    EditField(h1,v+=vs,82,"",Normal,CurncyCode,false,CurncyCodeSClass);
    if (StandardHansa==false) then begin
      EditField(h1,v+=vs,-20,". .",Normal,TransportDirect,false,0);
      EditField(h1,v+=vs,80,".  .",Normal,PlanSendDate,false,PasteCurDate);
      EditField(h1,v+=vs,80,".  .",Normal,PlanSendTime,false,PasteCurTime);
    end;

    EditField(h2,v=6,135," ",Normal,FromCity,false,0);
    EditField(h2,v+=vs,135," ",Normal,ToCity,false,0);
    EditField(h2,v+=vs,135," ",Normal,FromDock,false,0);
    EditField(h2,v+=vs,135," ",Normal,ToDock,false,0);
    if (StandardHansa==false) then begin
      EditField(h2,v+=2*vs,80,".  .",Normal,PlanArrDate,false,PasteCurDate);
      EditField(h2,v+=vs,80,".   .",Normal,PlanArrTime,false,PasteCurTime);
    end;
  end;
  Tile(tilenr,150,false,tilenr,Addr1); tilenr = tilenr + 1;
  vs = 20;
  if (IsEnterprise) then begin
    if (StandardHansa==false) then begin
      EditField(h1,v=6,80," ",Normal,DelAddrCode,false,DelAddr3SClass);
      EditField(h1,v+=vs,-20,"",Normal,Addr1,false,0);
    end else begin
      EditField(h1,v=6,-20,"",Normal,Addr1,false,0);
    end;
    EditField(h1,v+=vs,-20,"",Normal,Addr2,false,0);
  end else begin
    EditField(h1,v=6,-20,"",Normal,Addr1,false,0);   // From dict
    EditField(h1,v+=vs,-20,"",Normal,Addr2,false,0);
  end;
  EditField(h1,v+=vs,-20,"",Normal,Addr3,false,0);
  EditField(h1,v+=vs,-20,"",Normal,DelAddr3,false,0);
  EditField(h1,v+=vs,-20,"",Normal,DelAddr4,false,0);
  if (HasCountryPerCustomer) then begin
    EditField(h1,v+=vs,80,"",Normal,DelCountry,false,CountrySClass);
    if (HasLocalization("BRA")) then begin 
      EditField(h2-109,v,232,"",ViewOnly,DelCountryName,false,0);
    end;    
  end;
  if (IsEnterprise) then begin
    EditField(h3,v,-20,"",Normal,Region,false,RegionSClass);
    Tile(tilenr,30,false,tilenr,Comment); tilenr = tilenr + 1;
    EditField(h1+10,v=6,-20,"",Normal,Comment,false,0);
    EditField(h1+10,v+=20,-20,"",Normal,ORCOType,false,0); // NEWTRANSLATE
    if (HasNumberSeries and HasLocalization("PRT")) then begin  
      if (HasOfficialSerNr) then begin
        EditField(h1+10,v+=vs,100,"Official Ser No. 2",Normal,OfficialSerNr2,false,0);  
        EditField(h2,v,135,"",Normal,Status,false,SetSClass);  
      end;    
    end;
  end else begin
    if (HasLocalization("RUS")) then begin  
      EditField(h1,v+=vs,80," ",Normal,TotWeight,true,0);  
    end;
  end;
  if (IsStandardProduct and HasLocalization("PRT,LTU") and HasModIN and HasModSL) then begin 
    Tile(tilenr,110,false,tilenr,PlanSendDate); tilenr = tilenr + 1;
    h2 = 310;
    EditField(h1,v=6,80,"Plan. Sent Date",Normal,PlanSendDate,false,PasteCurDate);
    EditField(h1,v+=vs,80,"Plan. Sent Time",Normal,PlanSendTime,false,PasteCurTime);
    if (HasLocalization("PRT")) then begin
    EditField(h2,v=6,80,"Plan. Arrival Date",Normal,PlanArrDate,false,PasteCurDate);
    EditField(h2,v+=vs,80,"Plan. Arrival Time",Normal,PlanArrTime,false,PasteCurTime);      
  end;
  end;
  if (IsEnterprise or HasLocalization("PRT,LTU")) and (StandardHansa==false) then begin
    Tile(tilenr,130,false,tilenr,FreightCode); tilenr = tilenr + 1;
    if (IsEnterprise) then begin
      HalPushButton(473,2,600,22,"UpdateSHPackages"," ");
    end;
    EditField(h1,v=6,80,". ",Normal,FreightCode,false,FreightCompanySClass);
    EditField(h1,v+=vs,-20,"",Normal,FreightCompany,false,0);
    EditField(h1,v+=vs,-20,"",Normal,FreightCompanyRegNr,false,0);
    EditField(h1,v+=vs,-20,"-  ",Normal,TruckInfo,false,0);
    if (IsEnterprise or HasLocalization("PRT")) then begin
    EditField(h1,v+=vs,-20,"",Normal,Driver,false,0);
    EditField(h1,v+=vs,-20,"CMR",Normal,CMRText,false,0); // International transporting number
    end;
  end;
  if (GuiType==kGuiMetro) then begin // Temporarily disabled on Windows 8
    SpecialMenu(" ",'I',2,"ItemStatusSHDsm");
    if (HasIntegratedNL) then begin
      SpecialMenu("  ",'t',3,"OpenTRFromSH");
    end;
    SpecialMenu("  ",'l',0,"PrintSHLabSHDsm");
    if (HasReturnedGoods and HasModIN) then begin
      SpecialMenu("  ",'B',5,"RetFromSHSpec");
    end;
  end else begin
    SpecialMenu("  ",'l',0,"PrintSHLabSHDsm");
    if (IsEnterprise) then begin
      SpecialMenu(" ",'w',1,"SHCalcWeightDsm");
    end;
    if (HasIntegratedNL) then begin
      SpecialMenu("  ",'t',3,"OpenTRFromSH");
    end;
    if (HasLocalization("SWE")) then begin
      SpecialMenu(" ASG",' ',4,"ASGEnSHDsm"); /* Specific for Sweden */
    end;
    if (HasLocalization("NOR")) then begin
      SpecialMenu("Winedi Export",' ',4,"WinEDIEnSHDsm"); /* Specific for Norway */
    end;
    if (HasLocalization("PRT")) then begin
      if (HasETaxDocuments) then begin
      SpecialMenu("Send to Tax Authorities",'',10,"EShipPRTDsm");  //tax authorities server is down
      end;
    end;
    if (IsEnterprise) then begin
      SpecialMenu("   ",' ',6,"INBatchSHSpec");
    end;
    if (HasModWHM) then begin
      SpecialMenu("  ",' ',8,"OKStockMovSHrDsm");
      SpecialMenu("   ",' ',9,"PickingListDsm");
    end;
  //  SpecialMenu("Calculate Manually",' ',10,"CalcSHMan"); /* Specific for one customer in Portugal, you may comment it out */
    if (IsEnterprise) then begin
      if (StandardHansa==false) then begin
        SpecialMenu("  ",' ',9,"EShipRegisterDsm");
      end;
      if (GuiType==kGuiiPhone) then begin
        SpecialMenu("",' ',10,"SignSHDsm");  
      end;
    end;
    SpecMenuGroup("",kSpecMenuGroupTypeExtendedPlusMenu,0);         
    if (HasModSL) then begin
      SpecialMenu("-",'F',1,"IVFromSHDsm"); 
    end;
    if (IsEnterprise or HasReturnedGoods) then begin
      SpecialMenu(" ",'B',2,"RetFromSHDsm"); 
    end;
  end;
  EndWindow;
end;

window ItemHistDClass:1
  wtag("language","RUS"), wtag("product","*"), wtag("productcode","*"), wtag("device","computer")
begin
  real h,h1,h2,v;
  WindowBegin("Item History",ItemHistDClass,CGview,-);
  UseView(ItemHistVc);
  SetWRect(64,80,800,430);
  Sizeable(-1,-1,0,0);
  h = 130; h1=h+250; h2=h1+230;
  Tile(0,90,false,"",SerNr);
  EditField(h,v=6,100,"",Normal,SerNr,false,0);
  EditField(h1,v,80,"Trans. Date",Normal,TransDate,false,0);
  EditField(h2,v,80,"FIFO Date",Normal,FIFODate,false,0);
  EditField(h,v+=20,100,"",Normal,FileName,false,0);
  EditField(h1,v,100,"Record No.",Normal,TransNr,false,0);
  EditField(h2,v,50,"Row No.",Normal,Row,false,0);
  EditField(h,v+=20,100,"Source",Normal,Source,false,0);
  TileButton(1,"Item");
  TileButton(2,"Values");
  TileButton(3,"Remaining");
  Tile(1,70,false,"1",ArtCode);
  EditField(h,v=6,160,"Item Code",Normal,ArtCode,false,0);
  EditField(h1,v,100,"Variety",Normal,Variety,false,0);
  EditField(h2,v,100,"Serial No.",Normal,SerialNr,false,0);
  EditField(h,v+=20,100,"",Normal,Location,false,0);
  EditField(h1,v,100,"Position",Normal,Position,false,0);
  EditField(h,v+=20,100,"Quantity",Normal,Qty,true,0);
  EditField(h1,v,100,"Quantity 2",Normal,Qty2,true,0);
  Tile(2,70,false,"2",WATotCostPerLoc);
  EditField(h,v=6,100,"WA Per Location",Normal,WATotCostPerLoc,true,0);
  EditField(h1,v,100,"WA Total",Normal,WATotCost,true,0);
  EditField(h2,v,100,"Tot Cost Price",Normal,TotCostPrice,true,0);
  EditField(h,v+=20,100,"Cost Price Per Location",Normal,CPTotCostPerLoc,true,0);
  EditField(h1,v,100,"Cost Price Total",Normal,CPTotCost,true,0);
  EditField(h,v+=20,100,"Base Price Per Location",Normal,BPTotCostPerLoc,true,0);
  EditField(h1,v,100,"Base Price Total",Normal,BPTotCost,true,0);
  Tile(3,70,false,"3",RemQty);
  EditField(h,v=6,100,"Remaining Qty",Normal,RemQty,true,0);
  EditField(h,v+=20,100,"Remaining Cost Price",Normal,RemCostPrice,true,0);
  EditField(h,v+=20,100,"No. per Location",Normal,SerNrPerLoc,true,0);
  EditField(h,v+=20,50,"Item Type",Normal,ItemType,false,0);
  CheckBox(h1,v=6,0,"Update Stock",StockAffectf);
  CheckBox(h1,v+=16,0,"Item Type",ItemType);
  CheckBox(h1,v+=16,0,"Consignment #Stock#",ConsigStock);
  CheckBox(h1,v+=16,0,"Will be Purged",WillBePurged);
  EditField(h,v=86,100,"PUCurncyCode",Normal,PUCurncyCode,true,0);// Edit ************************** Wednesday, 24 June 2015 11:46:23
  EditField(h,v+=20,100,"InFileName",Normal,InFileName,true,0);// Edit ************************** Wednesday, 24 June 2015 11:46:23
  EditField(h,v+=20,100,"InSerNr",Normal,InSerNr,true,0);// Edit ************************** Wednesday, 24 June 2015 11:46:24
  EditField(h,v+=20,50,"InRow",Normal,InRow,false,0);// Edit ************************** Wednesday, 24 June 2015 11:46:24
  EditField(h,v+=20,50,"TotCostPriceCurncy",Normal,TotCostPriceCurncy,false,0);// Edit ************************** Wednesday, 24 June 2015 11:46:25
  EditField(h,v+=20,50,"RemCostPriceCurncy",Normal,RemCostPriceCurncy,false,0);// Edit ************************** Wednesday, 24 June 2015 11:46:25
  if (HasTREO) then begin
    CheckBox(h2,v=6,0,"TREO Stock",TREOStock);
  end;
  SpecialMenu("Open Connected Register",'t',0,"OpenRegisterFromItemHistDsm");
  EndWindow;
end;

window ItemHistLClass:1
  wtag("language","RUS"), wtag("product","*"), wtag("productcode","*"), wtag("device","computer")
begin
  WindowBegin("Item History",ItemHistLClass,CGmlist,-);
  SpawnClass(ItemHistDClass);
  SetWRect(20,80,1100,298);
  Sizeable(-1,-1,0,0);
  UseView(ItemHistVc);
  RecordList(4,17,-21,-39);
  RlColKey(4,2,"Item Code",ArtCode,false,ArtCode);
  RlColKey(80,80, "File Name",FileName,false,FutArtFile);
  RlCol(160,160, "Trans. No.",TransNr,false);
  RlCol(240,240, "Row",Row,false);
  RlColKey(300,300, "Trans. Date",TransDate,false,TransDate);
  RlCol(400,400, "Qty",Qty,true);
  RlColKey(470,470, "Rem. Qty",RemQty,true,ActiveQty);
  RlCol(540,540, "",Location,false);
  RlColKey(600,600, "FIFO Date",FIFODate,false,ArtCodeFD);
//  RlCol(600,600, "Variety",Variety,false);
  RlColKey(680,680, ". ",SerNr,false,SerNr);
  RlColKey(740,740, "Source",Source,false,Source);
  RlCol(820,820, "Cost",TotCostPrice,true);
  RlCol(900,900, "Rem Cost",RemCostPrice,true);
  //RlCol(960,960, "Variety",Variety,false); //Edit***************************Sasha2,11:56 12.05.2017
  //RlCol(1040,1040, "Purge",WillBePurged,false); //Edit***************************Sasha2,11:57 12.05.2017
  RlCol(980,980, "PUCurncyCode",PUCurncyCode,false); //Edit***************************Sasha2,11:57 12.05.2017 {
  RlCol(1060,1060, "InFileName",InFileName,false);
  RlCol(1120,1120, "InSerNr",InSerNr,false);
  RlCol(1200,1200, "InRow",InRow,false);
  RlCol(1280,1280, "TotCostPriceCurncy",TotCostPriceCurncy,false);
  RlCol(1360,1360, "RemCostPriceCurncy",RemCostPriceCurncy,false); //Edit***************************Sasha2,11:57 12.05.2017 }
  RlCol(-1,-1,"",Invalid,true);
  SearchField("");
  EndWindow;
end;

window StockMovDClass:1
  wtag("language","RUS"), wtag("product","*"), wtag("productcode","*"), wtag("device","computer")
begin
  real h,h1,h2,h3,h4,v,vm,vs;
  Integer tilenr,f,flipnr;

  WindowBegin("  ",StockMovDClass,CGview,-);
  if (HasJewelleryInterface) then begin
    SetWRect(20,80,850,400);
  end else begin
    SetWRect(20,80,700,400);
  end;
  Sizeable(-1,-1,0,0);
  UseView(StockMovVc);
  ToolBar; //Edit***************************Sasha2,18:05 19.01.2015
    HalPushButton(300,5,360,25,"PrintDoStockMovFormButton","");
  EndToolBar; //Edit***************************Sasha2,18:05 19.01.2015 
  ActiveFieldOnNew("SentTransDate");
  Tile(0,90,false,"",TransDate);
  v = 6; vs = 20; h = 110; h2 = 300; h3 = 500; h4 = 620;
  EditField(h,v,80, "",Normal,SerNr,false,TSerSClass);
  CheckBox(h2,v,0,"",Reserved);
  EditField(h3,v,80,"",Normal,Reason,false,StandProblemsSClass);
  EditField(h,v+=vs,80," ",Normal,OrdTransDate,false,PasteCurDate);
  if (HasMultiLocations) then begin
    if (IsEnterprise) then begin
  EditField(h2,v,80," ",Normal,SentTransDate,false,PasteCurDate);
    end;
  end;
  EditField(h3,v,80," ",Normal,TransDate,false,PasteCurDate);
  if (HasMultiLocations) then begin
    EditField(h,v+=vs,80, " ",Normal,FrLocation,false,LocationSClass);
    if (IsEnterprise) then begin
      EditField(h2,v,80," ",Normal,ThrouLocation,false,LocationSClass);
    end;
    EditField(h3,v,80," ",Normal,ToLocation,false,LocationSClass);
  end;
  //EditField(h3,v+VS,80,"Order No.",ViewOnly,OrderNr,false,0); //Edit***************************Sasha2,18:13 03.11.2014
  if (HasConsStockMoveInvoices) then begin
    EditField(h,v+=vs,80, " .-.",ViewOnly,InvoiceNr,false,0); 
    EditField(h2,v,80," .-.",ViewOnly,InvDate,false,0); 
    if (HasLocalization("PRT")) then begin 
    EditField(h3,v,80,"  .-.",ViewOnly,InvoiceOfficialSerNr,false,0); 
    end;
  end;
  tilenr = 1;
  if (HasPositions or HasModWHM or HasLocalization("PRT")) then begin
    TileButton(tilenr,""); tilenr = tilenr + 1;
  end;
  if (HasObjects) then begin
    TileButton(tilenr,""); tilenr = tilenr + 1;
  end else begin
    TileButton(tilenr,"."); tilenr = tilenr + 1;
  end;
  TileButton(tilenr,""); tilenr = tilenr + 1;
  if (HasMultiCurrency or HasBase2) then begin
    TileButton(tilenr,""); tilenr = tilenr + 1;
  end;
  TileButton(tilenr,"-"); tilenr = tilenr + 1;
  TileButton(tilenr,""); tilenr = tilenr + 1;
  TileButton(tilenr,""); tilenr = tilenr + 1;
  tilenr = 1;
  if (HasPositions or HasModWHM or HasLocalization("PRT")) then begin
    Tile(tilenr,60,false,tilenr,FrPos); tilenr = tilenr + 1;
    v = 6;
    if (HasPositions) then begin
      EditField(h,v,80, " ",Normal,FrPos,false,UsedPosSClass);
      EditField(h2,v,80," ",Normal,ToPos,false,FreePosSClass);
    end;
    if (HasModProd) then begin
      EditField(h3,v,80," ",Normal,ProdSerNr,false,ProdSClass); v = v + vs;
      EditField(h3,v,150,"",Normal,Sorting,false,DelRouteSClass); v = v + vs;
    end;
    if ((HasLocalization("PRT") and HasModIN and HasMultiLocations) or IsStandardProduct==false) then begin 
      EditField(h3,v,150,"",Normal,StockMovType,false,SetSClass); v = v + vs;
    end;
    if (HasModWHM) then begin
      v = 6 + vs;
      CheckBox(h,v,0,"",ManualPick);
      CheckBox(h,v+=16,0,"   ",ToForkLiftQue);
    end;
  end;
  Tile(tilenr,70,false,tilenr,Comment); tilenr = tilenr + 1;
  v = 6;
  if (HasObjects) then begin
    EditField(h,v,-20,"",Normal,Objects,false,ObjSClass);
    v = v + vs;
  end;
  EditField(h,v,-20,".",Normal,Comment,false,0);
  EditField(h,v+=vs,135,". . ",Normal,OfficialSerNr,false,LegalInvNrSClass);
  EnterSkip(Math);
  Tile(tilenr,79,true,tilenr,Math); tilenr = tilenr + 1;
  v = 24;
  MatrixBegin(4,v,-50,-50,-,499); //199 //Edit***************************Sasha2,13:49 12.05.2017
  Flip(0);
  flipnr = 1;
  if (HasJewelleryInterface) then begin
    MatCol(1,32," ",0,SerialNr,false,SerialNrSClass);
    EnterSkip(Quant);
    MatCol(1,130,"",0,ArtCode,false,INSClass);
    Flip(flipnr); flipnr = flipnr + 1;
    if (HasVarieties) then begin
      MatCol(1,200,". -",0,OrdQuant,true,MATVARINSClass);
    end else begin
      if (HasThrouLocation) then begin
      MatCol(1,200,". -",0,OrdQuant,true,0);
    end;
    end;
    if (HasThrouLocation) then begin
      MatCol(1,250,". -",0,SentQuant,true,0);
    end;
    MatCol(1,300,". -",0,Quant,true,0);
    MatCol(1,350,"",0,Spec,false,0);
  end else begin
    MatCol(1,32,"",0,ArtCode,false,INSClass);
    Flip(flipnr);  flipnr = flipnr + 1;
    if (HasVarieties) then begin
      MatCol(1,144,"..",0,OrdQuant,true,MATVARINSClass); //86 //Edit***************************Sasha2,16:19 19.09.2014
    end else begin
      if (HasThrouLocation) then begin
        MatCol(1,86,"..",0,OrdQuant,true,0);
      end;
    end;
    if (HasThrouLocation) then begin
      MatCol(1,188,"..",0,SentQuant,true,0); //148 //Edit***************************Sasha2,16:20 19.09.2014
    end;
    MatCol(1,230,"..",0,Quant,true,0); //210 //Edit***************************Sasha2,16:20 19.09.2014
    MatCol(1,272,"",0,Spec,false,0);
  end;
  if (UserCanAction("ViewCostPrice",true)) then begin //Edit***************************Sasha2,10:30 18.08.2014 {
    MatCol(1,-260," ",0,OldPrice,true,0);
    MatCol(1,-160,". .",0,ExtraSCost,true,0);
    MatCol(1,-80," ",0,NewPrice,true,0);
  end; //Edit***************************Sasha2,10:30 18.08.2014 }
  Flip(flipnr); flipnr = flipnr + 1;
  if (HasVarieties) then begin
    MatCol(1,144,"..",0,OrdQuant,true,MATVARINSClass); //86 //Edit***************************Sasha2,16:26 19.09.2014
  end else begin
    if (HasThrouLocation) then begin
      MatCol(1,86,"..",0,OrdQuant,true,0);
    end;
  end;
  if (HasThrouLocation) then begin
    MatCol(1,188,"..",0,SentQuant,true,0); //148 //Edit***************************Sasha2,16:27 19.09.2014
  end;
  MatCol(1,230,"..",0,Quant,true,0); //210 //Edit***************************Sasha2,16:27 19.09.2014
  MatCol(1,272,"",0,Spec,false,0);
  if (UserCanAction("ViewCostPrice",true)) then begin //Edit***************************Sasha2,10:34 10.11.2014
    MatCol(1,-260," ",0,SentOldPrice,true,0);
    MatCol(1,-200,"OldPrice",0,OldPrice,true,0); //Edit***************************Sasha2,14:00 12.05.2017
    //MatCol(1,-160,". .",0,SentExtraSCost,true,0); //Edit***************************Sasha2,14:00 12.05.2017
    MatCol(1,-150,"NewPrice",0,NewPrice,true,0); //Edit***************************Sasha2,14:00 12.05.2017
    MatCol(1,-100," ",0,SentNewPrice,true,0); //80 //Edit***************************Sasha2,14:01 12.05.2017
    MatCol(1,-50,"FIFORow",0,FIFORowVal,true,0); //Edit***************************Sasha2,14:00 12.05.2017
  end; //Edit***************************Sasha2,10:35 10.11.2014
  Flip(flipnr); flipnr = flipnr + 1;
  MatCol(1,86,"",0,Spec,false,0);
  if (HasObjects) then begin
    MatCol(1,-380,"",0,Objects,false,ObjSClass);
  end;
  if (HasSerialNumbers) then begin
    MatCol(1,-280," ",0,SerialNr,false,SerialNrSClass);
    EnterSkip(SerialNr); //Edit***************************Sasha2,16:28 19.09.2014
  end;
  MatCol(1,-140,". ",0,BasePrice,true,0);
  MatCol(1,-40,".",0,Coefficient,false,0);
  Flip(flipnr); flipnr = flipnr + 1;
  MatCol(1,86,"",0,Spec,false,0);
  if (HasSerialNumbers) then begin
    MatCol(1,-280," ",0,SerialNr,false,SerialNrSClass);
    EnterSkip(SerialNr); //Edit***************************Sasha2,16:28 19.09.2014
  end;
  MatCol(1,-180,"",0,UnitXval,true,0);
  MatCol(1,-135,"",0,UnitYval,true,0);
  MatCol(1,-90,"",0,UnitZval,true,0);
  MatCol(1,-45,"   ",0,OrderRowNr,false,0); 
  if (HasPositions) then begin
    Flip(flipnr); flipnr = flipnr + 1;
    MatCol(1,86,"",0,Spec,false,0);
    MatCol(1,-180," ",0,FrPosCode,false,UsedPosSClass);
    MatCol(1,-90," ",0,ToPosCode,false,FreePosSClass);
    //MatColTL(1,-90,"ORRow",0,M4Long,Normal,0,ORRow,false,0); //Edit***************************Sasha2,17:52 03.11.2014
  end;
  DeleteRowTest;
  RowMenuBegin("");         
  RowMenuItem(0," ",'I','I',0,"ItemStatusStockMovDsm");         
  if (HasQualityControl) then begin
    RowMenuItem(0," ",'u','u',0,"QualConFromStockMovDsm");         
  end;
  EndRowMenu;
  EndMatrix;
  vs = 20;
  v = 18;
  if (flipnr>2) then begin
    for (f=1;f<flipnr;f=f+1) begin
      VTab(-35,v,-16,v+vs,ToolFlip,f,chr(asc("A") + f - 1));
      v = v + vs;
    end;
  end;
  if (HasThrouLocation) then begin
  CheckBox(20,-52,0,"",OrdFlag);
  CheckBox(20,-36,0,"",SentOKFlag);
  end;
  CheckBox(20,-20,0,"",OKFlag);
  if (HasThrouLocation) then begin
  EditField(170,-20,62,". -",Normal,TotSentQty,true,0);
  end;
  EditField(310,-20,62,". -",Normal,TotQty,true,0);
  if (HasLocalization("HRV,PRT")) then begin
    EditField(550,-40,150,"Tax Seal",ViewOnly,TaxAdminServSeal,false,0);
//    SoftEditField(550,-40,150,"Tax Auth. Approval",Normal,"TaxAdminServSeal",false,0,M4Str,200);
  end;
  if(currentuser=="SA")then begin
		EditField(250,-46,50,"FrLocOKNr",Normal,FrLocOKNr,false,0);// Edit ************************** Thursday, 3 September 2015 10:07:59
		EditField(450,-46,50,"ToThrouLocOKNr",Normal,ToThrouLocOKNr,false,0);// Edit ************************** Thursday, 3 September 2015 10:07:58
		EditField(650,-46,50,"ToLocOKNr",Normal,ToLocOKNr,false,0);// Edit ************************** Thursday, 3 September 2015 10:07:58
  end;
  EditField(550,-20,100,".  ",Normal,OtherExtraCosts,false,0);
  if (HasMultiCurrency or HasBase2) then begin
    Tile(tilenr,70,false,tilenr,FrRate); tilenr = tilenr + 1;
    h1 = 110; vs = 20;
    if (HasBase2) then begin
      h1 = h1 + 20;
    end;
    EditField(h1,v=6,50,"",Normal,CurncyCode,false,CurncyCodeSClass);
    if (HasMultiCurrency) then begin
      if (HasBase2) then begin
        EditField(h1,v+vs,50,".  1",Normal,BaseRate1,true,0);
      end else begin
        EditField(h1,v+vs,50,". ",Normal,BaseRate1,true,0);
      end;
      if (HasBase2) then begin  
        EditField(h1,v+(vs*2),50,".  2",Normal,BaseRate2,true,0);  
      end;
      EditField(h2=295,v,50,"",Normal,FrRate,true,0);  
      if (HasBase2) then begin  
        RateField(h3=360,v,50,":",Normal,"ToRateB1",true,h3+60,v+14,".  1",false);  
        RateField(h3,v+=vs,50,":",Normal,"ToRateB2",true,h3+60,v+14,".  2",false);            
      end else begin
        RateField(h3=360,v,50,":",Normal,"ToRateB1",true,h3+60,v+14,". ",false);      
      end;
    end else begin
      EditField(h1,v+=vs,50,".  1",Normal,BaseRate1,true,0);
      EditField(h1,v+=vs,50,".  2",Normal,BaseRate2,true,0);
    end;
  end;
  Tile(tilenr,110,false,tilenr,PlanSendDate); tilenr = tilenr + 1;
  vs = 20; h1 = 130; h2 = 330; h3 = 560;
  EditField(h,v=6,80,".  .",Normal,PlanSendDate,false,PasteCurDate);
  EnterSkip(PlanSendTime);
  if (HasLocalization("PRT")==false or IsStandardProduct==false) then begin 
  	EditField(h2,v,40,". ., ",ViewOnly,PlanDurationDays,false,0);
  end;
  EditField(h,v+=vs,80,".  .",Normal,PlanSendTime,false,PasteCurTime);
  EnterSkip(PlanArrDate);
  if (HasLocalization("PRT")==false or IsStandardProduct==false) then begin 
  	EditField(h2,v,80,". ., ",ViewOnly,PlanDurationTime,false,0);
  end;	
  EditField(h3,v=6,80,".  ",Normal,PlanArrDate,false,PasteCurDate);
  EditField(h3,v+=vs,80,".  ",Normal,PlanArrTime,false,PasteCurTime);
  if (HasLocalization("PRT")==false or IsStandardProduct==false) then begin 
  	EditField(h,vm=(v+=32),80,".  .",Normal,ActSendDate,false,PasteCurDate);
  	EnterSkip(ActSendTime);
  	EditField(h2,v,40,". ., ",ViewOnly,ActDurationDays,false,0);
  	EditField(h,v+=vs,80,"  .",Normal,ActSendTime,false,PasteCurTime);
  	EnterSkip(ActArrDate);
  	EditField(h2,v,80,". ., ",ViewOnly,ActDurationTime,false,0);
  	EditField(h3,v=vm,80,".  ",Normal,ActArrDate,false,PasteCurDate);
  	EditField(h3,v+=vs,80,".  ",Normal,ActArrTime,false,PasteCurTime);
  end;
  Tile(tilenr,110,false,tilenr,FreightCode); tilenr = tilenr + 1;
  vs = 20; h2 = 255;
  EditField(h=130,v=6,60,". ",Normal,FreightCode,false,FreightCompanySClass);
  EditField(h2,v,-40,"",Normal,FreightCompanyRegNr,false,0);
  EditField(h,v+=vs,-40,"",Normal,FreightCompany,false,0);
  EditField(h,v+=vs,-40,"-  ",Normal,TruckInfo,false,0);
  EditField(h,v+=vs,-40,"",Normal,Driver,false,0);
  EditField(h,v+=vs,-40,"",Normal,CMRText,false,0);
  if (HasNumberSeries and HasLocalization("PRT")) then begin  
    if (HasOfficialSerNr) then begin
      EditField(h,v+=vs,100,"Official Ser No. 2",Normal,OfficialSerNr2,false,0);  
      EditField(h2+100,v,135,"",Normal,Status,false,SetSClass);  
    end;    
  end;
  Tile(tilenr,200,false,tilenr,FrAddr0); tilenr = tilenr + 1;
  vs = 20; h2 = 255;
  EditField(h=130,v=6,-40,"C ",Normal,FrAddr0,false,0);
  EditField(h,v+=vs,-40,"",Normal,FrAddr1,false,0);
  EditField(h,v+=vs,-40,"",Normal,FrAddr2,false,0);
  EditField(h,v+=vs,-40,"",Normal,FrAddr3,false,0);
  EditField(h,v+=vs,-40,"",Normal,FrAddr4,false,0);
  if (HasThrouLocation) then begin
  EditField(h,v+=vs,-40," ",Normal,ThrouAddr0,false,0);
  EditField(h,v+=vs,-40,"",Normal,ThrouAddr1,false,0);
  EditField(h,v+=vs,-40,"",Normal,ThrouAddr2,false,0);
  EditField(h,v+=vs,-40,"",Normal,ThrouAddr3,false,0);
  EditField(h,v+=vs,-40,"",Normal,ThrouAddr4,false,0);
  end;
  EditField(h,v+=vs,-40," ",Normal,ToAddr0,false,0);
  EditField(h,v+=vs,-40,"",Normal,ToAddr1,false,0);
  EditField(h,v+=vs,-40,"",Normal,ToAddr2,false,0);
  EditField(h,v+=vs,-40,"",Normal,ToAddr3,false,0);
  EditField(h,v+=vs,-40,"",Normal,ToAddr4,false,0);
  SpecialMenu("     ",'=',0,"StockMovFillFIFODsm");
  SpecialMenu(" ",'f',1,"ItemSearchDsm");
  if (HasIntegratedNL) then begin
    SpecialMenu("   ",' ',2,"OpenTRFromStockMovSent");
    SpecialMenu("   ",'t',3,"OpenTRFromStockMov");
  end;
  if (HasLocalization("PRT")) then begin
    if (HasETaxDocuments) then begin
      SpecialMenu("Send to Tax Authorities",'',10,"EShipPRTDsm");  
    end;
  end;  
   if (HasConsStockMoveInvoices) then begin 
     SpecialMenu("Print #Stock# Movement Invoices",'p',3,"PrintStockMovInvoices");    
   end;   
  EndWindow;
end;

window RetDClass:1
  wtag("language","RUS"), wtag("product","*"), wtag("productcode","*"), wtag("device","computer")
begin
  real h,h1,h2,h3,h4,v,vm,vs;
  Integer tilenr,flipnr;
  
  WindowBegin("   ",RetDClass,CGview,-);
  SetWRect(20,80,750,460);
  Sizeable(-1,-1,0,0);
  UseView(RetVc);
  ActiveFieldOnNew("CustCode");
  Tile(0,74,false,"",TransDate);
  v = 6; vs = 20;
  EditField(75,vm=(v=6),95,"",Normal,SerNr,false,TSerSClass);
  EditField(75,v+=20,95,"",Normal,CustCode,false,CUSClass);
  EditField(h=275,v=vm,-40,".",Normal,CustName,false,0);
  if (HasOfficialSerNr) then begin
    EditField(h,vm=(v+=20),135,". ",Normal,OfficialSerNr,false,LegalInvNrSClass);
  end;
//  EditField(h+210,v,82, "Employee",Normal,EMCode,false,UserSClass);
  CheckBox(h4=-100,v,0,"",OKFlag);
  tilenr = 1;
  TileButton(tilenr,""); tilenr = tilenr + 1;
  TileButton(tilenr,""); tilenr = tilenr + 1;
  if (HasMultiCurrency or HasBase2) then begin
    TileButton(tilenr,""); tilenr = tilenr + 1;
  end;
  TileButton(tilenr,""); tilenr = tilenr + 1;
  tilenr = 1;
  Tile(tilenr,90,false,tilenr,Location); tilenr = tilenr + 1;
  vs = 20; h1 = 110; h2 = 290; h3 = 530; h4 = -110;
  EditField(h1,vm=(v=6),82,"",Normal,TransDate,false,PasteCurDate);
  if (HasMultiLocations) then begin
    EditField(h1,v+=vs,82,"",Normal,Location,false,LocationSClass);
  end;
  EditField(h1,v+=vs,82,"",Normal,Reason,false,StandProblemsSClass);
  if (HasObjects) then begin
    EditField(h1,v+=vs,82,"",Normal,Objects,false,ObjSClass);
  end;
  EditField(h2,v=vm,135," ",ViewOnly,OrdNr,false,0);
  EditField(h2,v+=vs,135," .",ViewOnly,SHNr,false,0);
  if (HasModSVO) then begin
    EditField(h2,v+=vs,135," .  .",ViewOnly,SVONr,false,0);
    EditField(h2,v+=vs,135," . ",ViewOnly,WSNr,false,0);
  end;
  EnterSkip(Math);
  ButtonFrame(h3=h3-70,v=vm+10,140,2," ");
  RadioButton(h3,v,0,0," ",Type);
  RadioButton(h3,v+=16,1,0,"  .",Type);
  CheckBox(h4,v=vm+10,0," ",UpdStockFlag);
  CheckBox(h4,v+=16,0," . ",InclVAT);
  CheckBox(h4,v+=16,0," . /",Closed);
  Tile(tilenr,79,true,tilenr,Math); tilenr = tilenr + 1;
  v = 24;
  flipnr = 1;
  MatrixBegin(4,v,-50,-22,-,199);
  Flip(0);
  MatCol(1,32,"",0,ArtCode,false,ForSaleINSClass);
//  MatCol(1,84,"Var",0,VARList,true,VARSClass);
//  MatCol(1,144,"Qty",0,Quant,true,0);
  MatCol(1,144,"-",0,Quant,true,0); //94 //Edit***************************Sasha2,16:33 19.09.2014
  Flip(flipnr); flipnr = flipnr + 1;
//  MatCol(1,194,"",0,Spec,false,0);
  MatCol(1,184,".",0,Spec,false,0); //144 //Edit***************************Sasha2,16:36 19.09.2014
  MatCol(1,-228,"",0,UPrice,true,0);
  if (UserCanAction("ViewCostPrice",true)) then begin //Edit***************************Sasha2,10:20 18.08.2014 {
    MatCol(1,-160," ",0,Extra,true,0);
    MatCol(1,-80,"",0,CostPrice,true,0);
  end; //Edit***************************Sasha2,10:38 18.08.2014 }	
  Flip(flipnr); flipnr = flipnr + 1;
  if (HasObjects) then begin
  MatCol(1,184,"",0,Objects,false,ObjSClass); //134 //Edit***************************Sasha2,16:35 19.09.2014
  end;
  if (HasMultiLocations) then begin
    MatCol(1,264,"/",0,Invd,false,0);
    MatColTL(1,-300,"",0,M4UStr,ViewOnly,0,Location,false,0);
  end else begin
    MatCol(1,-300,"/",0,Invd,false,0);
  end;
  if (HasModNL) then begin
  MatColTL(1,-240," ",0,M4UStr,ViewOnly,0,CostAcc,false,AccSClass);
  end;
  if (HasSerialNumbers) then begin
  MatCol(1,-180," ",0,SerialNr,false,SerialNrSClass);
  EnterSkip(SerialNr); //Edit***************************Sasha2,16:37 19.09.2014
  MatCol(1,-80," ",0,BestBefore,false,0);
  end;
  if (HasObjects or HasBuyBack or HasPositions) then begin
    Flip(flipnr); flipnr = flipnr + 1;
  if (HasObjects) then begin
    MatCol(1,184,"",0,Objects,false,ObjSClass); //144 //Edit***************************Sasha2,16:35 19.09.2014
  end;
  if (HasBuyBack) then begin
    MatCol(1,-380,".  ",0,BBCostPrice,false,0);
  end;
  if (HasPositions) then begin
    MatCol(1,-300,"",0,PosCode,false,FreePosSClass);
  end;
    if (IsEnterprise) then begin
  MatColTL(1,-240,"",0,M4Ustr,ViewOnly,0,Recepy,false,0);
  MatCol(1,-180,"",0,UnitXval,true,0);
  MatCol(1,-120,"",0,UnitYval,true,0);
  MatCol(1,-60,"",0,UnitZval,true,0);
    end;
  end;
  if (HasModSVO) then begin
    Flip(flipnr); flipnr = flipnr + 1;
    MatCol(1,184,"",0,Spec,false,0); //144 //Edit***************************Sasha2,16:37 19.09.2014
    MatCol(1,-225," ",0,WSIVType,false,SetSClass);
    if (HasSerialNumbers) then begin
      MatCol(1,-150,". . ",0,MotherNr,false,SerialNrSClass);
    end;
  end;
  MatColTL(1,-40,"ORRow",0,M4Long,ViewOnly,0,OrdRow,false,0); //Edit***************************Sasha2,17:56 03.11.2014
  InsertRowTest;
  DeleteRowTest;
  RowMenuBegin("");         
  if (HasQualityControl) then begin
    RowMenuItem(0," ",'u','u',0,"QualConFromRetDsm");         
  end;
  EndRowMenu;
  EndMatrix;
  vs = 20;
  v = 18; VTab(-35,v,-16,v+vs,ToolFlip,1,"A");
  v=v+ vs; VTab(-35,v,-16,v+vs,ToolFlip,2,"B");
  if (HasObjects or HasBuyBack or HasPositions) then begin
  v=v+ vs; VTab(-35,v,-16,v+vs,ToolFlip,3,"C");
  end;
  if (HasModSVO) then begin
    v=v+ vs; VTab(-35,v,-16,v+vs,ToolFlip,4,"D");
  end;
//  CheckBox(20,-20,0,"OK",OKFlag);
  EditField(110,-20,50,"Total Qty",ViewOnly,SumQuant,true,0);
  if (HasMultiCurrency or HasBase2) then begin
    Tile(tilenr,70,false,tilenr,FrRate); tilenr = tilenr + 1;
  vs = 20;
  EditField(h1,v=6,50,"",Normal,CurncyCode,false,CurncyCodeSClass);
  if (HasMultiCurrency) then begin
    if (HasBase2) then begin
      EditField(h1,v+vs,50,"  1",Normal,BaseRate1,true,0);
    end else begin
      EditField(h1,v+vs,50," ",Normal,BaseRate1,true,0);
    end;
    if (HasBase2) then begin  
      EditField(h1,v+(vs*2),50,"  2",Normal,BaseRate2,true,0);  
    end;
    EditField(h2=295,v,50,"",Normal,FrRate,true,0);  
    if (HasBase2) then begin  
      RateField(h3=360,v,50,":",Normal,"ToRateB1",true,h3+60,v+14,"  1",false);  
      RateField(h3,v+=vs,50,":",Normal,"ToRateB2",true,h3+60,v+14,"  2",false);            
    end else begin
      RateField(h3=360,v,50,":",Normal,"ToRateB1",true,h3+60,v+14," ",false);      
    end;
  end else begin
    EditField(h1,v+=vs,50,"  1",Normal,BaseRate1,true,0);
    EditField(h1,v+=vs,50,"  2",Normal,BaseRate2,true,0);
  end;
  end;
  Tile(tilenr,30,false,tilenr,Comment); tilenr = tilenr + 1;
  EditField(h1,v=6,-20,"",Normal,Comment,false,0);
  if (HasNumberSeries and HasLocalization("PRT")) then begin  
    if (HasOfficialSerNr) then begin
      EditField(h1,v+=vs,100,"Official Ser No. 2",Normal,OfficialSerNr2,false,0);  
      EditField(h2,v,135,"",Normal,Status,false,SetSClass);  
    end;    
  end;
  SpecialMenu(" ",'f',1,"ItemSearchDsm");
  if (HasIntegratedNL) then begin
    SpecialMenu("  ",'t',0,"OpenTRFromRet");
  end;
  SpecMenuGroup("",kSpecMenuGroupTypeExtendedPlusMenu,0);         
  SpecialMenu("  ",'F',1,"CreditIVFromRetsm");
  SpecialMenu(" ",'e',0,"PrintRetLabPUDsm");// Edit ************************** Wednesday, 10 June 2015 16:00:44
  EndWindow;
end;

window RetPUDClass:1
  wtag("language","RUS"), wtag("product","*"), wtag("productcode","*"), wtag("device","computer")
begin
  real h,h1,h2,h3,h4,v,vm,vs;
  Integer tilenr,f,flipnr;
  string 255 label;
  Integer pos;

  WindowBegin("  ",RetPUDClass,CGview,-);
  SetWRect(20,80,750,460);
  Sizeable(-1,-1,0,0);
  UseView(RetPUVc);
  FormName(RetPurchaseForm);
  Tile(0,74,false,"",SerNr);
  v = 6; vs = 20;
  EditField(75,vm=(v=6),95,"",Normal,SerNr,false,TSerSClass);
  EditField(75,v+=20,95,"",ViewOnly,VECode,false,0);
  EditField(h=255,v=vm,-40,".",ViewOnly,VEName,false,0);
  if (HasOfficialSerNr) then begin
    EditField(h,vm=(v+=20),135,". ",Normal,OfficialSerNr,false,LegalInvNrSClass);
    v=v+20;
    CheckBox(h4=-100,v=vm,0,"OK",OKFlag);
  end else begin
    CheckBox(h4=-100,v+=20,0,"OK",OKFlag);
  end;
  tilenr = 1;
  TileButton(tilenr,""); tilenr = tilenr + 1;
  TileButton(tilenr,""); tilenr = tilenr + 1;
  if (HasMultiCurrency or HasBase2) then begin
    TileButton(tilenr,""); tilenr = tilenr + 1;
  end;
  if (StandardHansa==false) then begin
    TileButton(tilenr,"."); tilenr = tilenr + 1;
    TileButton(tilenr,""); tilenr = tilenr + 1;
    TileButton(tilenr,""); tilenr = tilenr + 1;
  end;
  TileButton(tilenr,"."); tilenr = tilenr + 1;
//  TileButton(tilenr,"Extra Costs");
  tilenr = 1;
  Tile(tilenr,70,false,tilenr,TransDate); tilenr = tilenr + 1;
  vs = 20; h1 = 110; h2 = 300; h3 = 530; h4 = -100;
  EditField(h1,vm=(v=6),82,"",Normal,TransDate,false,PasteCurDate);
  if (HasMultiLocations) then begin
  EditField(h1,v+=vs,82,"",Normal,Location,false,LocationSClass);
  end;
  if (IsEnterprise) then begin
    EditField(h1,v+=vs,82,"",Normal,Reason,false,StandProblemsSClass);
  end;
  EditField(h2,v=vm,125, "  .",ViewOnly,PONr,false,0);
  if (HasRoute) then begin
    EditField(h2,v+=vs,125,"",Normal,Sorting,false,DelRouteSClass);
  end;
  if (HasObjects) then begin
    EditField(h2,v+=vs,125,"",Normal,Objects,false,ObjSClass);  
  end;
  if (HasAdvancedStock) then begin
  ButtonFrame(h3=h3-70,v=16,140,2," ");
  RadioButton(h3,v,0,0," ",Type);
  RadioButton(h3,v+=16,1,0,"  ",Type);
  end;
  CheckBox(h4,v=vm,0," . ",InclVAT);
//  CheckBox(h4,v+=vs,0,"Update #Stock#",UpdStockFlag);
  EnterSkip(Math);
  Tile(tilenr,79,true,tilenr,Math); tilenr = tilenr + 1;
  v = 24;
  if (HasLocalization("PRT")) then begin
    MatrixBegin(4,v,-50,-42,-,199);
  end else begin
    MatrixBegin(4,v,-50,-22,-,199);
  end;
  Flip(0);
  if (HasJewelleryInterface) then begin
    MatCol(1,32," ",0,SerialNr,false,SerialNrSClass);
    EnterSkip(Quant);
    MatCol(1,130,"",0,ArtCode,false,INSClass);
    MatCol(1,200,"-",0,Quant,true,0); 
    pos = 244;
  end else begin
    MatCol(1,32,"",0,ArtCode,false,INSClass);
    MatCol(1,144,"-",0,Quant,true,0); //120 //Edit***************************Sasha2,16:56 19.09.2014
    pos = 174;
  end;
  flipnr = 1;
  Flip(flipnr); flipnr = flipnr + 1;
  if (HasSerialNumbers and HasJewelleryInterface==false and IsEnterprise==false) then begin
    MatCol(1,pos," ",0,SerialNr,false,SerialNrSClass); 
    pos = pos + 120;
  end;
  MatCol(1,pos,".",0,Spec,false,0);
  if (HasJewelleryInterface) then begin
    MatCol(1,-250,"",0,Location,false,0);
  end;
  if (HasAdvancedStock) then begin
    MatCol(1,-180," ",0,VEItemCode,false,0);
  end;
  MatCol(1,-50,"-",0,Coefficient,true,0);
  if (HasModNL or HasObjects) then begin
    Flip(flipnr); flipnr = flipnr + 1;
    MatCol(1,pos,".",0,Spec,false,0);
    if (HasModNL) then begin
      MatCol(1,-190," ",0,CostAcc,false,0);
      MatCol(1,-130," ",0,CredAcc,false,0);
    end;
    if (HasObjects) then begin
      MatCol(1,-60,"",0,Objects,false,0);
    end;
  end;
  Flip(flipnr); flipnr = flipnr + 1;
  MatCol(1,pos,".",0,Spec,false,0);
  if (HasMultiLocations) then begin
    MatCol(1,-360,"",0,Location,false,0);
  end;
  if (HasAdvancedStock) then begin
    if (UserCanAction("ViewCostPrice",true)) then begin //Edit***************************Sasha2,10:20 18.08.2014 {
      MatColTL(1,-300,"  /",0,-1,ViewOnly,-1,PUCostPrice,false,0);
      if (StandardHansa==false) then begin
        MatColTL(1,-220,". ",0,-1,ViewOnly,-1,VarianceAmount,false,0);
      end;
    end; //Edit***************************Sasha2,10:41 18.08.2014 }	
  end;
  if (UserCanAction("ViewCostPrice",true)) then begin //Edit***************************Sasha2,10:20 18.08.2014 {
    MatCol(1,-160,"FIFO",0,FIFO,true,0);
    MatCol(1,-90,"FIFO  ",0,FIFORowVal,true,0);
  end; //Edit***************************Sasha2,10:41 18.08.2014 }	
  if (HasAdvancedStock) then begin
  Flip(flipnr); flipnr = flipnr + 1;
    MatCol(1,pos,".",0,Spec,false,0);
  if (HasPositions) then begin
    MatCol(1,-300,"",0,PosCode,false,PosSClass);
  end;
  if (HasSerialNumbers) then begin
    MatCol(1,-235," ",0,SerialNr,false,SerialNrSClass);
    EnterSkip(SerialNr); //Edit***************************Sasha2,16:58 19.09.2014
  end;
  MatCol(1,-135,".",0,UnitXval,true,0);
  MatCol(1,-90,".",0,UnitYval,true,0);
  MatCol(1,-45,".",0,UnitZval,true,0);
  Flip(flipnr); flipnr = flipnr + 1;
  MatCol(1,164,".",0,Spec,false,0);
  MatCol(1,-260," .",0,PUNr,false,PUSClass);
  MatCol(1,-190," .",0,PURow,false,0);
  MatCol(1,-130," . .",0,PONr,false,POSClass);
  MatCol(1,-60," . .",0,OrdRow,false,0);
  Flip(flipnr); flipnr = flipnr + 1;
  if (UserCanAction("ViewCostPrice",true)) then begin //Edit***************************Sasha2,10:20 18.08.2014 {
    MatCol(1,-420,"Fr. Cost",0,ShipCost,true,0);
    MatCol(1,-360,"Customs",0,CustomsCost,true,0);
  end; //Edit***************************Sasha2,10:43 18.08.2014 }
  label = UserDefined("AccBlock","PUCost1");
  if (blank(label)) then begin label = "Cost 1";end;
  MatCol(1,-300,label,0,RowCost1,false,0);
  label = UserDefined("AccBlock","PUCost2");
  if (blank(label)) then begin label = "Cost 2";end;
  MatCol(1,-240,label,0,RowCost2,false,0);
  label = UserDefined("AccBlock","PUCost3");
  if (blank(label)) then begin label = "Cost 3";end;
  MatCol(1,-180,label,0,RowCost3,false,0);
  label = UserDefined("AccBlock","PUCost4");
  if (blank(label)) then begin label = "Cost 4";end;
  MatCol(1,-120,label,0,RowCost4,false,0);
  label = UserDefined("AccBlock","PUCost5");
  if (blank(label)) then begin label = "Cost 5";end;
  MatCol(1,-60,label,0,RowCost5,false,0);
  end;
  DeleteRowTest;
  InsertRowTest;
  RowMenuBegin("");         
  if (HasQualityControl) then begin
    RowMenuItem(0," ",'u','u',0,"QualConFromRetPUDsm");         
  end;
  EndRowMenu;  
  EndMatrix;
  vs = 20;
//  v = 18;/* 28 */
  v = v + 1;
  if (flipnr>2) then begin
    for (f=1;f<flipnr;f=f+1) begin
      VTab(-35,v,-16,v+vs,ToolFlip,f,chr(asc("A") + f - 1));
      v = v + vs;
    end;
  end;

//  CheckBox(20,-20,0,"OK",OKFlag);
//  v=v+ vs; VTab(-35,v,-16,v+vs,ToolFlip,4,"D");
  if (HasLocalization("PRT")) then begin
    if (UserCanAction("ViewCostPrice",true)) then begin //Edit***************************Sasha2,10:20 18.08.2014 {
      EditField(-450,-40,70,"Freight",Normal,ShipCost,true,0);
      EditField(-300,-40,70,"Customs",Normal,CustomsCost,true,0);
      EditField(-130,-40,70,"",ViewOnly,SumCostPrice,true,0);
    end; //Edit***************************Sasha2,10:45 18.08.2014 }	
    EditField(-450,-20,150,"Tax Seal",ViewOnly,TaxAdminServSeal,false,0);
//    SoftEditField(120,-20,150,"Tax Auth. Approval",Normal,"TaxAdminServSeal",false,0,M4Str,200);
    EditField(-130,-20,70,"Total Qty",ViewOnly,SumQuant,true,0);
  end else begin
    EditField(133,-20,60," -",ViewOnly,SumQuant,true,0);
    if (UserCanAction("ViewCostPrice",true)) then begin //Edit***************************Sasha2,10:20 18.08.2014 {
      EditField(-450,-20,70,"",Normal,ShipCost,true,0);
      EditField(-300,-20,70,"",Normal,CustomsCost,true,0);
      EditField(-130,-20,70,"",ViewOnly,SumCostPrice,true,0);
    end; //Edit***************************Sasha2,10:47 18.08.2014 }	
  end;
  if (HasMultiCurrency or HasBase2) then begin
    Tile(tilenr,70,false,tilenr,FrRate); tilenr = tilenr + 1;
    h1 = 110; vs = 20;
    if (HasBase2) then begin
      h1 = h1 + 20;
    end;
    EditField(h1,v=6,50,"",Normal,CurncyCode,false,CurncyCodeSClass);
    if (HasMultiCurrency) then begin
      if (HasBase2) then begin
        EditField(h1,v+vs,50,".  1",Normal,BaseRate1,true,0);
      end else begin
        EditField(h1,v+vs,50,". ",Normal,BaseRate1,true,0);
      end;
      if (HasBase2) then begin  
        EditField(h1,v+(vs*2),50,".  2",Normal,BaseRate2,true,0);  
      end;
      EditField(h2=295,v,50,"",Normal,FrRate,true,0);  
      if (HasBase2) then begin  
        RateField(h3=360,v,50,":",Normal,"ToRateB1",true,h3+60,v+14,".  1",false);  
        RateField(h3,v+=vs,50,":",Normal,"ToRateB2",true,h3+60,v+14,".  2",false);            
      end else begin
        RateField(h3=360,v,50,":",Normal,"ToRateB1",true,h3+60,v+14," ",false);      
      end;
    end else begin
      EditField(h1,v+=vs,50,".  1",Normal,BaseRate1,true,0);
      EditField(h1,v+=vs,50,".  2",Normal,BaseRate2,true,0);
    end;
  end;
  if (StandardHansa==false) then begin
    Tile(tilenr,120,false,tilenr,Cost1); tilenr = tilenr + 1;
    vs = 20;
    if (UserCanAction("ViewCostPrice",true)) then begin //Edit***************************Sasha2,10:20 18.08.2014 {
      label = UserDefined("AccBlock","PUCost1");
      if (blank(label)) then begin label = ". 1";end;
      EditField(h=110,v=6,70,label,ViewOnly,Cost1,false,0);
      label = UserDefined("AccBlock","PUCost2");
      if (blank(label)) then begin label = ". 2";end;
      EditField(h2=295,v,70,label,ViewOnly,Cost2,false,0);
      label = UserDefined("AccBlock","PUCost3");
      if (blank(label)) then begin label = ". 3";end;
      EditField(h,v+=vs,70,label,ViewOnly,Cost3,false,0);
      label = UserDefined("AccBlock","PUCost4");
      if (blank(label)) then begin label = ". 4";end;
      EditField(h2,v,70,label,ViewOnly,Cost4,false,0);
      label = UserDefined("AccBlock","PUCost5");
      if (blank(label)) then begin label = ". 5";end;
      EditField(h,v+=vs,70,label,ViewOnly,Cost5,false,0);
    end; //Edit***************************Sasha2,10:48 18.08.2014 } 
    
    EditField(h,v+=vs,70,"  .",Normal,PlanSendDate,false,PasteCurDate);
    EditField(h2,v,70,".  .",Normal,PlanArrDate,false,PasteCurDate);
    EditField(h,v+=vs,70,".  .",Normal,PlanSendTime,false,PasteCurTime);
    EditField(h2,v,70,".  .",Normal,PlanArrTime,false,PasteCurTime);
    if (UserCanAction("ViewCostPrice",true)) then begin //Edit***************************Sasha2,10:20 18.08.2014 {
      ButtonFrame(h3=400,v=16,130,2," .");
      RadioButton(h3,v,0,0,"",ExtraCostsCalculation);
      RadioButton(h3,v+=16,1,0,"",ExtraCostsCalculation);
    end; //Edit***************************Sasha2,10:49 18.08.2014 }
    Tile(tilenr,130,false,tilenr,DelAddr0); tilenr = tilenr + 1;
    EditField(h1,v=6,80," ",Normal,DelAddrCode,false,DelAddr3SClass);
    EditField(h1,v+=vs,-20,"",Normal,DelAddr0,false,0);
    EditField(h1,v+=vs,-20,"",Normal,DelAddr1,false,0);
    EditField(h1,v+=vs,-20,"",Normal,DelAddr2,false,0);
    EditField(h1,v+=vs,-20,"",Normal,DelAddr3,false,0);
    EditField(h1,v+=vs,-20,"",Normal,DelAddr4,false,0);
    Tile(tilenr,130,false,tilenr,FreightCode); tilenr = tilenr + 1;
    EditField(h1,v=6,80,". ",Normal,FreightCode,false,FreightCompanySClass);
    EditField(h1,v+=vs,-20,".",Normal,FreightCompany,false,0);
    EditField(h1,v+=vs,-20,"",Normal,FreightCompanyRegNr,false,0);
    EditField(h1,v+=vs,-20,".  ",Normal,TruckInfo,false,0);
    EditField(h1,v+=vs,-20,"",Normal,Driver,false,0);
    EditField(h1,v+=vs,-20,"",Normal,CMRText,false,0); // International transporting number
  end;
  Tile(tilenr,30,false,tilenr,Comment); tilenr = tilenr + 1;
  EditField(h1,v=6,-20,"",Normal,Comment,false,0);
  EditField(h1,v+=vs,50,"",Normal,LangCode,false,LangSClass);
  if (HasNumberSeries and HasLocalization("PRT")) then begin  
    if (HasOfficialSerNr) then begin
      EditField(h1,v+=vs,100,"Official Ser No. 2",Normal,OfficialSerNr2,false,0);  
      EditField(h2,v,135,"",Normal,Status,false,SetSClass);  
    end;    
  end;
/*
  Tile(7,70,false,"7",Cost1);
  vs = 20;
  label = UserDefined("AccBlock","PUCost1");
  if (blank(label)) then begin label = "Extra Cost 1";end;
  EditField(h=110,v=6,70,label,Normal,Cost1,false,0);
  label = UserDefined("AccBlock","PUCost2");
  if (blank(label)) then begin label = "Extra Cost 2";end;
  EditField(h2=295,v,70,label,Normal,Cost2,false,0);
  label = UserDefined("AccBlock","PUCost3");
  if (blank(label)) then begin label = "Extra Cost 3";end;
  EditField(h,v+=vs,70,label,Normal,Cost3,false,0);
  label = UserDefined("AccBlock","PUCost4");
  if (blank(label)) then begin label = "Extra Cost 4";end;
  EditField(h2,v,70,label,Normal,Cost4,false,0);
  label = UserDefined("AccBlock","PUCost5");
  if (blank(label)) then begin label = "Extra Cost 5";end;
  EditField(h,v+=vs,70,label,Normal,Cost5,false,0);
*/
  if (HasIntegratedNL) then begin
    SpecialMenu("  ",'t',1,"OpenTRFromRetPU");
  end;
  if (HasLocalization("PRT")) then begin
    if (HasETaxDocuments) then begin
      SpecialMenu("Send to Tax Authorities",'',10,"EShipPRTDsm");  
    end;
  end;  
  SpecMenuGroup("",kSpecMenuGroupTypeExtendedPlusMenu,0);         
  SpecialMenu(" -",'F',0,"CredVIFromRetPUDsm");         
  EndWindow;
end;
/*
window INDClass:8
  wtag("language","RUS"), wtag("product","*"), wtag("productcode","*"), wtag("device","computer")
begin
  integer tilenr;
  real h,h1,h2,h3,h4,h5,h6,v,vm,vs;
  string 255 label;
  record CYBlock CYb;

  BlockLoad(CYb);
  WindowBegin("",INDClass,CGview,-);
  SetWRect(20,80,830,400);
  Sizeable(-1,-1,-1,0);
  DynamicWindow;
  UseView(INVc);
  if (GuiType==kGuiAndroid) then begin
    ToolBar;
    PushButton(-110,5,-10,25,ToolImagePicker,""); 
    EndToolBar;
  end;

  if (HasJewelleryInterface) then begin
    Tile(0,107,false,"",Code);
  end else begin
    Tile(0,87,false,"",Code);
  end;
  v = 6; vs = 20; h = 155; h1 = 300; h2 = 385; h3 = 395; h4 = 285; h5 = 433;
  EditField(h,v, 150," ",Normal,Code,false,0);
  EditField(h2,v,80,"",Normal,Group,false,ITSClass);
  EditField(h,v+=vs,-40,"",Normal,Name,false,0);
  if (HasJewelleryInterface) then begin
    EditField(h,v+=vs,150," ",Normal,AlternativeCode,false,0);
  end;
  tilenr = 1;
  TileButton(tilenr,""); tilenr = tilenr + 1;
  if (HasJewelleryInterface) then begin
    TileButton(tilenr,"."); tilenr = tilenr + 1;
    TileButton(tilenr,""); tilenr = tilenr + 1;
  end;
  TileButton(tilenr,""); tilenr = tilenr + 1;
  if (StandardHansa==false) then begin
    TileButton(tilenr,". "); tilenr = tilenr + 1;
  end;
  if (UserCanAction("ViewCostPrice",true)) then begin
    TileButton(tilenr,""); tilenr = tilenr + 1;
  end;
  TileButton(tilenr,""); tilenr = tilenr + 1;
  TileButton(tilenr,""); tilenr = tilenr + 1;
  if (GuiType==kGuiiPhone) then begin
    TileButton(tilenr,"."); tilenr = tilenr + 1;
  end;
  TileButton(tilenr,""); tilenr = tilenr + 1;
  TileButton(tilenr," "); tilenr = tilenr + 1; //Edit***************************Sasha2,13:43 22.10.2014
  TileButton(tilenr,""); tilenr = tilenr + 1; // //Edit***************************Sasha2,13:38 22.10.2014
  TileButton(tilenr," -"); tilenr = tilenr + 1;
  if (StandardHansa==false) then begin
    TileButton(tilenr,"."); tilenr = tilenr + 1;
  end;
  TileButton(tilenr,""); tilenr = tilenr + 1;  
  if (HasCharts) then begin
    TileButton(tilenr,""); tilenr = tilenr + 1;
  end;
  tilenr = 1;
  CheckBox(h,v+=vs,0,"",Terminated);
  CheckBox(h2,v,0,"  ",NotForSales);
  Tile(tilenr,209,false,tilenr,Unittext); tilenr = tilenr + 1;
  EditField(h,v=6 ,100," ",Normal,Unittext,false,UnitSClass);
  if (HasJewelleryInterface) and (UserCanAction("ViewCostPrice",true)) then begin
    EditField(h,v+=vs,100,"",Normal,InPrice,true,0);
  end;
  EditField(h,v+=vs,100," ",Normal,UPrice1,true,0);
  EditField(h,v+=vs,100," . ",ViewOnly,LastBasePriceChange,true,0);
  EditField(h,v+=vs,100," ",Normal,PriceFactor,true,0);
  EditField(h,v+=vs,100," .",Normal,CalcPrice,false,CPMSClass);
  EditField(h,v+=vs,100,", %",Normal,Markup,true,0);
  EditField(h,v+=vs,100,"% ",Normal,Bonus,true,0);
  EditField(h,v+=vs,-240,"",Normal,Objects,false,ObjSClass);
  if (HasItemClassification) then begin
    EditField(h,v+=vs,-240,"",Normal,DispGroups,false,DISClass);
  end;
  if (StandardHansa==false) then begin
    ButtonFrame(h1,v=24,120,4," ");
  end else begin
    ButtonFrame(h1,v=24,120,3," ");   // From dict
  end;
  RadioButton(h1,v,kItemTypePlain,0,"",ItemType);
  RadioButton(h1,v+=16,kItemTypeStocked,0,"",ItemType);
  RadioButton(h1,v+=16,kItemTypeStructured,0,".",ItemType);
  if (StandardHansa==false) then begin
    RadioButton(h1,v+=16,kItemTypeService,0,"",ItemType);
  end;
  EndFrame;
  
  Pict_Field(-205,8,-35,178,"");
  if (GuiType==kGuiCocoa) then begin
    PushButton(-160,182,-80,202,ToolImagePicker,"");
  end;
  if (StandardHansa==false) then begin
    CheckBox(h1,v+=32,0,"    ",ItemMaterial);
  end;
  if (HasJewelleryInterface) then begin
    Tile(tilenr,110,false,tilenr,Metal); tilenr = tilenr + 1;
    EditField(h,v=6, 140,"",Normal,Metal,false,0);
    EditField(h,v+=vs, 140,"",Normal,RowWeight,false,0);
    EditField(h,v+=vs, 140,"",Normal,Size,false,0);
    EditField(h,v+=vs, 140,"",Normal,Length,false,0);
    EditField(h,v+=vs, 140,"",Normal,Reference,false,0);
    v = 6;
    EditField(h5,v, 140,".  ",Normal,MajStoneDet,false,0);
    EditField(h5,v+=vs, 140,"",Normal,Colour,false,0);
    EditField(h5,v+=vs, 140,"",Normal,Clarity,false,0);
    EditField(h5,v+=vs, 140,"",Normal,Cert,false,0);
    EditField(h5,v+=vs, 140,".  ",Normal,MinStoneDet,false,0);
    Tile(tilenr,90,false,tilenr,WatchBrand); tilenr = tilenr + 1;
    EditField(h,v=6, 140," ",Normal,WatchBrand,false,0);
    EditField(h,v+=vs, 140,". ",Normal,StyleName,false,0);
    EditField(h,v+=vs, 140," ",Normal,WatchMetal,false,0);
    EditField(h,v+=vs, 140,"",Normal,Movement,false,0);
    v = 6;
    EditField(h5,v, 140,"/",Normal,BrcStr,false,0);
    EditField(h5,v+=vs, 140,"",Normal,Gender,false,0);
    EditField(h5,v+=vs, 140,".",Normal,Other,false,0);
    EditField(h5,v+=vs, 140,".2",Normal,Other2,false,0);
  end;
  Tile(tilenr,170,false,tilenr,MinLevel);  tilenr = tilenr + 1; // Need to clean this Tile up!
  v = 6;
  vm = v;
  ButtonFrame(h1,v+=24,143,3," ");
  RadioButton(h1,v,0,0,"",SerNrf);
  RadioButton(h1,v+=16,1,0," ",SerNrf);
  RadioButton(h1,v+=16,2,0," ",SerNrf);
  CheckBox(h1+200,v,0,"     / POS",DonotRequireBatchNrOnIVCash);
  EditField(h,v=6,100,". -  .",Normal,MinLevel,true,0);
  EditField(h,v+=vs,100,". -  .",Normal,MaxLevel,true,0);
  EditField(h,v+=vs  ,100,"",Normal,Department,false,DepSClass);
  EditField(h,v+=vs  ,100,"",Normal,InvCode,false,0);
  EditField(h,v+=vs,100,"  .",Normal,DefaultSource,false,SourceSClass);
  EditField(h5,v ,50,"  . /",Normal,RepaPricePerWeight,true,0);
  EditField(h6=650,v ,80,"  ",Normal,DefOrderType,false,SetSClass);  
  if (StandardHansa==false) then begin
    EditField(h,v+=vs ,100," ",Normal,HazLevCode,false,HazLevSClass);
    EditField(h5,v ,50,"% ",Normal,AlcPrc,true,0);
    if (HasLocalization("PRT")) then begin
    EditField(h6,v, 80," . ",Normal,StockItemType,false,SetSClass); 
    end;
  end;
  EditField(h,v+=vs ,100," 2",Normal,Unittext2,false,UnitSClass);
  EditField(h5,v ,50," 1",Normal,Conversion1,true,0);
  EditField(h,v+=vs,100,"- ",Normal,UnitCoefficient,true,0);
  EditField(h5,v ,50," 2",Normal,Conversion2,true,0);
  if (StandardHansa==true) then begin
    EditField(h,v+=vs ,50,"",Normal,Width,true,0);
    EditField(h4,v ,50,"",Normal,Height,true,0);
    EditField(h5,v ,50,"",Normal,Depth,true,0);
    EditField(h,v+=vs ,50,"",Normal,Volume,true,0);
    EditField(h4,v ,50,"",Normal,Density,true,0);
    EditField(h5,v ,50,"",Normal,Weight,true,0);
  end;
  if (StandardHansa==false) then begin
    Tile(tilenr,170,false,tilenr,LocArea);  tilenr = tilenr + 1;
    EditField(h,vm=(v=6) ,100," ",Normal,DefPalletItem,true,INSClass);
    EditField(h5,v ,80," ",Normal,PickArea,false,LocAreaSClass);
    EditField(h,v+=vs ,100,". .  .",Normal,LocArea,false,LocAreaSClass);
    EditField(h5,v ,50,"  ",Normal,PalletsInPickArea,true,0);
    EditField(h,v+=vs ,50,". .  ",Normal,QtyonPallet,true,0);
    EditField(h4,v ,50,"  .",Normal,PalletLayers,true,0);
    EditField(h5,v ,50,"-  ",Normal,QtyonPalletLayer,true,0);
    EditField(h,v+=vs ,50," ",Normal,PalletWidth,true,0);
    EditField(h4,v ,50,"",Normal,PalletHeight,true,0);
    EditField(h5,v ,50,"",Normal,PalletDepth,true,0);
    EditField(h,v+=vs ,50,".   .",Normal,DefPosWidth,true,0);
    EditField(h4,v ,50,"",Normal,DefPosHeight,true,0);
    EditField(h5,v ,50,"",Normal,DefPosDepth,true,0);
    EditField(h,v+=vs ,50,"",Normal,Width,true,0);
    EditField(h4,v ,50,"",Normal,Height,true,0);
    EditField(h5,v ,50,"",Normal,Depth,true,0);
    EditField(h,v+=vs ,50,"",Normal,Volume,true,0);
    EditField(h4,v ,50,"",Normal,Density,true,0);
    EditField(h5,v ,50,"",Normal,NetWeight,true,0);
    EditField(h5,v+=vs ,50,"",Normal,Weight,true,0);
  end;
  if (UserCanAction("ViewCostPrice",true)) then begin
  Tile(tilenr,190,false,tilenr,InPrice);  tilenr = tilenr + 1;
  EditField(h,vm=(v=6),100,"",Normal,InPrice,true,0);
  if (StandardHansa==false) then begin
    EditField(h5,v,70," ",ViewOnly,LastPriceChange,true,0);
  end else begin
    EditField(h3,v,70," ",ViewOnly,LastPriceChange,true,0);
  end;
  if (StandardHansa==false) then begin
    EditField(h,v+=vs ,100,".  . . 2",Normal,InPriceB2,true,0);
    ButtonFrame(h1,v+=24,200,4,". .  .");
  end else begin
    ButtonFrame(h1,v+=40,210,4,". .  .");   // From dict
  end;
  RadioButton(h1,v,0,0," ",UpdateCost);
  RadioButton(h1,v+=16,1,0," - .,...",UpdateCost);
  RadioButton(h1,v+=16,2,0," ",UpdateCost);
  RadioButton(h1,v+=16,3,0,"  .,...)",UpdateCost);
  ButtonFrame(h5=540,v=v-3*16,200,3,"..  .");
  RadioButton(h5,v,0,0," ",SRUpdateCost);
  RadioButton(h5,v+=16,1,0,". . ",SRUpdateCost);
  RadioButton(h5,v+=16,2,0,"",SRUpdateCost);
  if (StandardHansa==false) then begin
    EditField(h,v=vm+2*vs,100," ",Normal,ExtraCost,true,0);
  end else begin
    EditField(h,v=vm+vs,100," ",Normal,ExtraCost,true,0);   // From dict
  end;
  EditField(h,v+=vs ,100,"",Normal,WeighedAvPrice,true,0);
  if (StandardHansa==false) then begin
    EditField(h,v+=vs ,100,".  ..2",Normal,WeighedAvPriceB2,true,0);
  end;
  EditField(h,v+=vs ,100,"..(..)",Normal,LastPurchPrice,true,0);
  EditField(h,v+=vs ,100,"..(..)",Normal,LastPurchPrice2,true,0);
  EditField(h,v+=vs ,100," . ",Normal,LastPurchCurncyCode,false,CurncyCodeSClass);
  EditField(h,v+=vs ,100,". ",Normal,FixedFreight,true,0);
  CheckBox(h1,v,0,"    ",InclItemFreight);
  CheckBox(h5,v,0," ",HasExcise);
  end;
  Tile(tilenr,170,false,tilenr,Recepy);  tilenr = tilenr + 1;
  EditField(h,v=6 ,120,"",Normal,Recepy,false,RecSClass);
  CheckBox(h1,v,0,"    ",ExplodeRec); // "Show components on documents" is better English but VERY confusing
  EditField(h,v+=vs ,120,"  /",Normal,InvRecepy,false,RecSClass);
  EditField(h2,v,150,"-",Normal,BarCode,false,0);
  EditField(h5+100,v ,80," ",Normal,UserStr1,false,0);// Edit ************************** Wednesday, 21 August 2013 11:34:11
  EditField(h,v+=vs ,120," ",Normal,ContractItem,false,INSClass);
  EditField(h2,v,150," -",Normal,EUCodex,false,CommoditySClass);
  v = v + vs;
  if (StandardHansa==false) then begin
    EditField(h,v,120," .",Normal,RentalItem,false,INSClass);
  end;
  EditField(h2,v,150," EKN",Normal,EKNCode,false,0); // i think it is same as Commodity Code
  if (StandardHansa==false) then begin
    EditField(h2,v+=vs,150,". ./",Normal,CPSCode,false,0);
  end;
  EditField(h,v+=vs ,120,", .",Normal,WarrantyLength,true,0);
  EditField(h2,v,150,"",Normal,colnr,false,SetSClass);
  EditField(h,v+=vs,120," .",Normal,SortCode,true,0); 
  EditField(h,v+=vs,-40," ",Normal,AlternativeCode,false,0);
  EditField(h,v+=vs,-40,"",Normal,WarnText1,false,0);
  Tile(tilenr,170,false,tilenr,SalesAcc);  tilenr = tilenr + 1;
  v = 6;
  vm = v;
  EditField(h,vm,55," ",Normal,SalesAcc,false,AccSClass);
  EditField(h,v+=vs,55,VATZoneNameRUS & " , ",Normal,EUSalesAcc,false,AccSClass);
  EditField(h,v+=vs,55,"/., .",Normal,ExpSalesAcc,false,AccSClass);
  if (StandardHansa==false) then begin
    EditField(h,v+=vs,55,". . /.",Normal,SVOInvbleSalesAcc,false,AccSClass);
//     EditField(h,v+=vs,55,"Serv. Warranty Sales A/C",Normal,SVOWarrantySalesAcc,false,AccSClass);
//     EditField(h,v+=vs,55,"Serv. Contract Sales A/C",Normal,SVOContractSalesAcc,false,AccSClass);
//     EditField(h,v+=vs,55,"Serv. Goodwill Sales A/C",Normal,SVOGoodwillSalesAcc,false,AccSClass);
  end;
  EditField(h,v+=vs,55,". -",Normal,CompUsage,false,AccSClass);
  EditField(h,v+=vs,55," - . ",Normal,ProjMaterialsUsageAcc,false,AccSClass);

  EditField(h2=360,v=vm,55,".  .",Normal,CostAcc,false,AccSClass);
  EditField(h2,v+=vs,55,VATZoneNameRUS & " ",Normal,EUCostAcc,false,AccSClass);
  EditField(h2,v+=vs,55," , .",Normal,ExpCostAcc,false,AccSClass);
  if (StandardHansa==false) then begin
    EditField(h2,v+=vs,55,". . /.",Normal,SVOInvbleCostAcc,false,AccSClass);
    EditField(h2,v+=vs,55,". . /",Normal,SVOWarrantyCostAcc,false,AccSClass);
    EditField(h2,v+=vs,55,". . /.",Normal,SVOContractCostAcc,false,AccSClass);
    EditField(h2,v+=vs,55,".  /",Normal,SVOGoodwillCostAcc,false,AccSClass);
    EditField(h2,v+=vs,55," - . .",Normal,HotelWIPAcc,false,AccSClass);
  end;
  EditField(h2=540,v=vm,20," ",Normal,VATCode,false,VATCodeSClass);
  EditField(h2,v+=vs,20,VATZoneEditFieldLabelRUS(1) & " ",Normal,VATCodeEU,false,VATCodeSClass); 
  EditField(h2,v+=vs,20," , .",Normal,VATCodeExp,false,VATCodeSClass);
  if (HasExtTax) then begin
  CheckBox(h2,v+=20,0,"  ",Perceptions);
  end;
  if (StandardHansa==false) then begin
    if (HasWithholdingTax) then begin
    CheckBox(h2,v+=16,0,"  ",Withholdings);
    end;
    if (CYb.UseTaxTemplatesforTaxCalc!=0) then begin
    EditField(h2=670,v=vm,50,"- . ",Normal,TaxTemplateCode,false,TaxTemplateSClass);
    EditField(h2,v+=vs,50,VATZoneEditFieldLabelRUS(1) & ". .",Normal,TaxTemplateCodeEU,false,TaxTemplateSClass); 
    EditField(h2,v+=vs,50,". - . ",Normal,TaxTemplateCodeExp,false,TaxTemplateSClass);
    end;
    if (HasLocalization("GBR,LTU,POL")) then begin
      EditField(h2=680,v=vm,20,"Reverse #VAT# Code",Normal,RvrsVATCode,false,VATCodeSClass); 
    end;
  end;
  if (GuiType==kGuiiPhone or GuiType==kGuiAndroid) then begin
    Tile(tilenr,70,false,tilenr,-);  tilenr = tilenr + 1;
    AttachmentDisplay(10,10,200,200);
//    PushButton(30,10,-80,40,ToolImagePicker,"Take picture");
//    ControlLabel(0,0,0,0,"Take picture","SystemFont",17,kTextStyleBold,AdjCenter,patM4ReportsTextBlue);
  end;
  Tile(tilenr,70,false,tilenr,VARMask);  tilenr = tilenr + 1;
  EditField(h,v=6,-40," ",Normal,VARMask,false,VARMasksSClass);
  EditField(h,v+=vs,-40,"  ",Normal,VARRepOrder,false,VARMasksSClass);
  EditField(h,v+=vs,-40,"",Normal,VARSubsets,false,VARSubsetsSClass);
  Tile(tilenr,70,false,tilenr,LName);  tilenr = tilenr + 1; //Edit***************************Sasha2, 15:57 22.10.2014 {
  v=20; 
  //h=120;
  EditField(h,v,400, " ",Normal,LName,false,0);
  EditField(h,v+=20,400, "",Normal,LComment,false,0);
  v=v+20;
  EditField(h,v+=20,100, "",Normal,LPriceList,false,PLDefSClass);
  //EditField(h,v+=20,100, " ",Normal,LDefFormCode,false,DocSClass);
  //EditField(h,v+=20,100, "",Normal,LCurncyCode,false,CurncyCodeSClass);
  v=20;
  ButtonFrame(h+=450,v,60,5,"");
  RadioButton(h,v,0,0,USetStr(31034),LSize);
  RadioButton(h,v+=16,1,0,USetStr(31035),LSize);
  RadioButton(h,v+=16,2,0,USetStr(31036),LSize);
  RadioButton(h,v+=16,3,0,USetStr(31037),LSize);
  RadioButton(h,v+=16,4,0,USetStr(31038),LSize);
  RadioButton(h,v+=16,5,0,USetStr(31039),LSize);
  RadioButton(h,v+=16,6,0,USetStr(31040),LSize); //Edit***************************Sasha2,15:57 22.10.2014 }
  RadioButton(h,v+=16,7,0,"1*5 SAMS",LSize); //Edit***************************Sasha2,15:57 22.10.2014 }
  //RadioButton(h,v+=16,8,0,"1*5",LSize); //Edit***************************Sasha2,15:57 22.10.2014 }
  //RadioButton(h,v+=16,9,0,"5*3",LSize); //Edit***************************Sasha2,15:57 22.10.2014 }
  Tile(tilenr,120,true,tilenr,Math);  tilenr = tilenr + 1;
  v = 24;
  MatrixBegin(4,v,-32,-40,-,99);
  Flip(1); //Edit***************************Sasha2,16:04 22.10.2014 {
  MatCol(1,24," - ",0,LParam,false,0);
  MatCol(1,-350," - ",0,LName,false,0);
  Flip(2);
  MatCol(1,24,"",0,LComment1,false,0);
  Flip(3);
  MatCol(1,24,"",0,LComment2,false,0);
  Flip(4);
  MatCol(1,24," ",0,LComment3,false,0);
  MatCol(1,150," ",0,LComment4,false,0); 
  Flip(5); //Edit***************************Sasha2,16:05 22.10.2014 }
  MatCol(1,24,"",0,LangCode,false,LangSClass);
  MatCol(1,94,"",0,Text,false,0);
  EndMatrix;
  vs = 20;
  v = 18;  VTab(-35,v,-16,v+vs,ToolFlip,1,"A"); //Edit***************************Sasha2,16:07 22.10.2014 {
  v=v+vs;  VTab(-35,v,-16,v+vs,ToolFlip,2,"B");
  v=v+vs;  VTab(-35,v,-16,v+vs,ToolFlip,3,"C");
  v=v+vs;  VTab(-35,v,-16,v+vs,ToolFlip,4,"D");
  v=v+vs;  VTab(-35,v,-16,v+vs,ToolFlip,5,"E"); //Edit***************************Sasha2,16:07 22.10.2014 }
  Tile(tilenr,220,false,tilenr,CostPerc);  tilenr = tilenr + 1;
  ButtonFrame(h=100,vm=(v=20),230,6,"  ");
  RadioButton(h,v,0,0," ",PrimaryCostModel);
  RadioButton(h,v+=16,1,0," ",PrimaryCostModel);
  RadioButton(h,v+=16,2,0,"% _  ",PrimaryCostModel);
  EditField(h+150,v,55,"%",Normal,CostPerc,true,0);
  RadioButton(h,v+=16,3,0,"",PrimaryCostModel);
  RadioButton(h,v+=16,4,0," ",PrimaryCostModel);
  RadioButton(h,v+=16,kCostModelNoneItem,0,"",PrimaryCostModel);
  ButtonFrame(h,v+=40,230,3,"   ");
  RadioButton(h,v,0,0," ",QueuedCostModel);
  RadioButton(h,v+=16,1,0,"FIFO ",QueuedCostModel);
  RadioButton(h,v+=16,2,0,"LIFO ",QueuedCostModel);

  ButtonFrame(h2=380,v=vm,200,3,"  .");
  RadioButton(h2,v,0,0," ",FIFOPerSerialNr);
  RadioButton(h2,v+=16,1,0,"   .",FIFOPerSerialNr);
  RadioButton(h2,v+=16,2,0,"   ",FIFOPerSerialNr);
  ButtonFrame(h2,v+=40,200,3,"  ");
  RadioButton(h2,v,0,0," ",FIFOPerLocation);
  RadioButton(h2,v+=16,1,0,". .  ",FIFOPerLocation);
  RadioButton(h2,v+=16,2,0,". . .",FIFOPerLocation);
  ButtonFrame(h2,v+=40,200,3,"  ");
  RadioButton(h2,v,0,0," ",WAPerLocation);
  RadioButton(h2,v+=16,1,0,".  ",WAPerLocation);
  RadioButton(h2,v+=16,2,0,". .",WAPerLocation);

  if (StandardHansa==false) then begin
    Tile(tilenr,240,false,tilenr,-); tilenr = tilenr + 1;
    h = 180; v = 6;
    label = UserDefined("INVc","UserStr1");
    if (nonblank(label)) then begin
      EditField(h,v=6 ,-40,label,Normal,UserStr1,false,0);
    end;
    label = UserDefined("INVc","UserStr2");
    if (nonblank(label)) then begin
      EditField(h,v+=vs,-40,label,Normal,UserStr2,false,0);
    end;
    label = UserDefined("INVc","UserStr3");
    if (nonblank(label)) then begin
      EditField(h,v+=vs,-40,label,Normal,UserStr3,false,0);
    end;
    label = UserDefined("INVc","UserStr4");
    if (nonblank(label)) then begin
      EditField(h,v+=vs,-40,label,Normal,UserStr4,false,0);
    end;
    label = UserDefined("INVc","UserStr5");
    if (nonblank(label)) then begin
      EditField(h,v+=vs,-40,label,Normal,UserStr5,false,0);
    end;
    label = UserDefined("INVc","UserVal1");
    if (nonblank(label)) then begin
      EditField(h,v+=vs,50,label,Normal,UserVal1,true,0);
    end;
    label = UserDefined("INVc","UserVal2");
    if (nonblank(label)) then begin
      EditField(h,v+=vs,50,label,Normal,UserVal2,true,0);
    end;
    label = UserDefined("INVc","UserVal3");
    if (nonblank(label)) then begin
      EditField(h,v+=vs,50,label,Normal,UserVal3,true,0);
    end;
    label = UserDefined("INVc","UserDate1");
    if (nonblank(label)) then begin
      EditField(h,v+=vs,80,label,Normal,UserDate1,true,PasteCurDate);
    end;
    label = UserDefined("INVc","UserDate2");
    if (nonblank(label)) then begin
      EditField(h,v+=vs,80,label,Normal,UserDate2,true,PasteCurDate);
    end;
    label = UserDefined("INVc","UserDate3");
    if (nonblank(label)) then begin
      EditField(h,v+=vs,80,label,Normal,UserDate3,true,PasteCurDate);
    end;
  end;
  Tile(tilenr,400,false,tilenr,Math2); tilenr = tilenr + 1;
  StaticText(50,v=20,"",true);  
  TextField(60,v-5,-20,370,Math2,0);
  
  Tile(tilenr,400,false,tilenr,-); tilenr = tilenr + 1;// Edit ************************** Friday, 17 October 2014 10:48:33
  h=170;
  StaticText(-90,vs,"|     ",true);
  EditFieldTL(h,v=vs,400,":",M4Str,Normal,100,GigieneText1,false,0);// Edit ************************** Friday, 17 October 2014 10:48:37
  EditFieldTL(h,v+=vs,400,":",M4Str,Normal,100,GigieneText2,false,0);// Edit ************************** Friday, 17 October 2014 10:48:37
  EditFieldTL(h,v+=vs,400,":",M4Str,Normal,100,GigieneText3,false,0);// Edit ************************** Friday, 17 October 2014 10:48:37
  EditFieldTL(h,v+=vs,400," :",M4Str,Normal,100,GigieneText4,false,0);// Edit ************************** Friday, 17 October 2014 10:48:37
  EditFieldTL(h,v+=vs,400,":",M4Str,Normal,100,GigieneText5,false,0);// Edit ************************** Friday, 17 October 2014 10:48:37
  EditFieldTL(h,v+=vs,400,":",M4Str,Normal,100,GigieneText6,false,0);// Edit ************************** Friday, 17 October 2014 10:48:37
  EditFieldTL(h,v+=vs,400,":",M4Str,Normal,100,GigieneText7,false,0);// Edit ************************** Friday, 17 October 2014 10:48:37
  EditFieldTL(h,v+=vs,400," :",M4Str,Normal,100,GigieneText8,false,0);// Edit ************************** Friday, 17 October 2014 10:48:37
  EditFieldTL(h,v+=vs,400," :",M4Str,Normal,100,GigieneText9,false,0);// Edit ************************** Friday, 17 October 2014 10:48:37
  EditFieldTL(h,v+=vs,400,"10",M4Str,Normal,100,GigieneText10,false,0);// Edit ************************** Friday, 17 October 2014 10:48:37
  EditFieldTL(h,v+=vs,400,"11",M4Str,Normal,100,GigieneText11,false,0);// Edit ************************** Friday, 17 October 2014 10:48:37
  EditFieldTL(h,v+=vs,400,"12",M4Str,Normal,100,GigieneText12,false,0);// Edit ************************** Friday, 17 October 2014 10:48:37
  EditFieldTL(h,v+=vs,400,"13",M4Str,Normal,100,GigieneText13,false,0);// Edit ************************** Friday, 17 October 2014 10:48:37
  EditFieldTL(h,v+=vs,400,"14",M4Str,Normal,100,GigieneText14,false,0);// Edit ************************** Friday, 17 October 2014 10:48:37
  EditFieldTL(h,v+=vs,400,"15",M4Str,Normal,100,GigieneText15,false,0);// Edit ************************** Friday, 17 October 2014 10:48:37
  EditFieldTL(h,v+=vs,400,"16",M4Str,Normal,100,GigieneText16,false,0);// Edit ************************** Friday, 17 October 2014 10:48:37
  EditFieldTL(h,v+=vs,400,"17",M4Str,Normal,100,GigieneText17,false,0);// Edit ************************** Friday, 17 October 2014 10:48:37
  EditFieldTL(h,v+=vs,400,"18",M4Str,Normal,100,GigieneText18,false,0);// Edit ************************** Friday, 17 October 2014 10:48:37
  EditFieldTL(h,v+=vs,400,"19",M4Str,Normal,100,GigieneText19,false,0);// Edit ************************** Friday, 17 October 2014 10:48:37
  EditFieldTL(h,v+=vs,400,"20",M4Str,Normal,100,GigieneText20,false,0);// Edit ************************** Friday, 17 October 2014 10:48:37
  
  if (HasCharts) then begin
    Tile(tilenr,400,false,tilenr,-); tilenr = tilenr + 1;
    ChartArea(10,6,-10,390,"$INDCLass_BIChart");
  end;
  if (UserCanReport("INInfoRn","",true)) then begin
    SpecialMenu("  ",'I',0,"INStatusINDsm");
  end;
//  SpecMenuItem("Recalculate Price List",' ',2);
  if (UserCanReport("INrsRn","INrsRClass",true)) then begin
    SpecialMenu(" ",'h',3,"INrsRn_INSm");//CMD H DOES HIDE HANSA
  end;
  SpecialMenu("   ",' ',4,"LocItemStatDsm");
  if (HasJewelleryInterface) and (UserCanReport("INInfoRn","",true)) then begin
    SpecialMenu("   . ",'S',5,"ItemStatusAltINDsm");
  end;
  SpecMenuGroup("",kSpecMenuGroupTypeExtendedPlusMenu,0);         
  SpecialMenu("   ",' ',1,"PIFromINDsm");         
  SpecialMenu("  ",' ',2,"RecFromINDsm");         
  EndWindow;
end;*/

window ORLClass:3
  wtag("language","RUS"), wtag("product","*"), wtag("productcode","*"), wtag("device","computer")
begin
  Integer pos,rn;

  WindowBegin(" ",ORLClass,CGmlist,-);
  SpawnClass(ORDClass);
  SetWRect(20,80,900,298);
  Sizeable(-1,-1,0,0);
  UseView(ORVc);
  FormName(PrintORL);
  RecordList(4,17,-21,-39);
  RlColKey(4,4,"",SerNr,false,SerNr);
  RlColKey(79,79,"",OKFlag,false,OKFlag);
  pos = 111;
  if (HasModIN) then begin
    RlColKey(pos,pos,"",ShipMark,false,ShipFlag);
    pos = pos + 32;
  end;
  if (HasModSL) then begin
    RlColKey(pos,pos,"",InvMark,false,InvFlag);
    pos = pos + 32;
  end;
  RlCol(pos,pos,"",Closed,false);
  pos = pos + 32;
  RlColKey(pos,pos," ",OrdDate,false,OrdDate);
  pos = pos + 80;
  if (HasMultiLocations) then begin
    //RlCol   (pos,pos,"",Location,false); //Edit***************************Sasha2,16:22 12.05.2017
    RlColKey(pos,pos,"",Location,false,Location); // Edit ************************** Monday, 8 September 2014 18:31:11
    pos = pos + 60;
  end;
  RlColKey(pos,pos,"  ",CustOrdNr,false,CustOrdNr);
  pos = pos + 80;
  RlColKey(pos,pos,"",CustCode,false,CustCode);
  pos = pos + 60;
  RlColKey(pos,pos,".",Addr0,false,Name);
  if (IsEnterprise) then begin
    if (AcceptanceStatusColumnTest("ORVc")) then begin 
      CalculatedColumn(-240,-240,".","ORLClassAcceptanceStatus",false);
    end;
    RlColKey(-200,-200,"",OrderClass,false,OrderClass);
    RlColKey(-155,-155,"",Sum4,true,Sum4);
    //RlCol(-75,-75,"",DownPaySent,true); // Edit ************************** Wednesday, 24 September 2014 09:46:50
    RlColKey(-40,-40,"",Reserved,true,Reserved);// Edit ************************** Wednesday, 24 September 2014 09:46:50
  end else begin
    RlColKey(-55,-55,"",Sum4,true,Sum4);
  end;
  if (HasLimitedAccess) then begin
    BrowseSubsetButton(-40,-15);
  end;
  SearchField("");
  if (GuiType==kGuiMetro) then begin
    rn = 0;
    RowMenuBegin("");
    if (HasModIN) then begin
      RowMenuItem(rn," ",'L','L',4300,"SHFromORLsm"); rn = rn + 1;  
    end;
    RowMenuItem(rn," -",'L','L',4300,"IVFromORLsm"); rn = rn + 1;  
    if (HasDownpayments) then begin
      RowMenuItem(rn," -  ",'o','o',4300,"DownPayFromORLsm"); rn = rn + 1;  
    end;
    RowMenuItem(rn," ",'r','r',4300,"ORStatusORLsm"); rn = rn + 1;  
    if (HasModPO) then begin
      RowMenuItem(rn,"  ",' ',' ',4300,"POFromORLsm"); rn = rn + 1;  
    end;
    if (HasModCRM) then begin
      RowMenuItem(rn," ",'c','c',4300,"ActFromORLsm"); rn = rn + 1;
    end;
    if (IsEnterprise) then begin
      RowMenuItem(rn,"   ",' ',' ',4300,"ORToInvORLsm"); rn = rn + 1;  
    end;
    EndRowMenu;
  end else begin
    SpecialMenu(" ",'r',3,"ORStatusORLsm");         
    if (IsEnterprise) then begin
      SpecialMenu("   ",' ',6,"ORToInvORLsm");         
    end;
    SpecMenuGroup("",kSpecMenuGroupTypeExtendedPlusMenu,0);         
    if (HasModIN) then begin
      SpecialMenu(" ",'L',0,"SHFromORLsm");
    end;
    SpecialMenu(" ",'F',1,"IVFromORLsm");
    if (HasDownpayments) then begin
      SpecialMenu(" -  ",'o',2,"DownPayFromORLsm");
    end;
    if (HasModPO) then begin
      SpecialMenu("  ",' ',4,"POFromORLsm");
    end;
    if (HasModCRM) then begin
      SpecialMenu(" ",'c',5,"ActFromORLsm");
    end;
  end;
  EndWindow;
end;

window StockTakeDClass:5
  wtag("language","RUS"), wtag("product","*"), wtag("productcode","*"), wtag("device","computer")
begin
  real h,h2,v,vm,vs;
  Integer f,flipnr,t;
  Integer icn,pos;

  icn = StringToInt(USetStr(912));
  WindowBegin("",StockTakeDClass,CGview,-);
  SetWRect(20,80,560,350);
  Sizeable(-1,-1,0,0);
  UseView(StockTakeVc);
  if (false) then begin
    if (GUIType==kGuiAndroid) then begin
      WindowTitleBar(6002,icn,6003,"");
    end;
    h = 10; h2 = 165;
    vs = 38;
    EditField(h,v=6,145,"",Normal,SerNr,false,0);
    if (HasMultiLocations) then begin
      EditField(h2,v,145,"",Normal,Location,false,LocationSClass);
    end;
    EditField(h,v+=vs,300," ",Normal,TransDate,false,PasteCurDate);
    EditField(h,v+=vs,-10,"",Normal,Comment,false,0);
    CheckBox(40,v+=vs,0,"OK",OKFlag);
    EnterSkip(Math);
    v = v + 42;
    MatrixBegin(0,v,-1,-1,-,200);

    MatCell(t=1,10,6,120,19,ArtCode,false,12,patM4black);
    MatCell(t,130,6,280,19,SerialNr,false,12,patM4black);
    MatCell(t,10,26,190,39,Spec,false,12,patM4black);
    MatCell(t,200,26,280,39,Qty,true,12,patM4black);

  //MatCol(1,-340,"Position",0,Position,false,PosSClass);
    InsertRowTest;
    DeleteRowTest;
    EndMatrix;
  end else begin
    if (GUIType==kGuiiPhone) then begin
      Tile(0,130,false,"",SerNr); 
    end;
    vs = 20; h2 = 300;
    EditField(h=100,v=6, 82,"",Normal,SerNr,false,TSerSClass);
    EditField(h2,v,82," ",Normal,TransDate,false,PasteCurDate);
    if (IsEnterprise) then begin
      CheckBox(-100,v,0,"OK",OKFlag);
    end;
    if (HasMultiLocations) then begin
      EditField(h,v+=vs,82,"",Normal,Location,false,LocationSClass);
    end;
    EnterSkip(Math);
  //  CheckBox(420,v=6,0,"Set #Stock# Levels to these Balances on this day",SetStockValue); // Still not working properly
  //  CheckBox(420,v+=vs,0,"Override Backdated",OverrideBackdated); // Still not working properly
    v = v + 42;
    vm = v + 1;
    if (GUIType==kGuiiPhone) then begin
      TileButton(1,"-"); 
      TileButton(2,""); 
      Tile(1,230,false,"",Math); 
    end;
    MatrixBegin(4,v,-50,-35,-,200);
    Flip(0); flipnr = flipnr + 1;
    if (HasJewelleryInterface) then begin
      MatCol(1,32," ",0,SerialNr,false,SerialNrSClass);
      EnterSkip(Quant);
      MatCol(1,130,"",0,ArtCode,false,INSClass);
      if (HasVarieties) then begin
        MatCol(1,192,".",0,Qty,true,MATVARINSClass);
      end else begin
        MatCol(1,192,".",0,Qty,true,0);
      end;
      if (HasAdvancedStock) then begin
        MatCol(1,254," ",0,InStock,true,0);
        MatCol(1,314,"",0,Spec,false,0);
      end else begin
        MatCol(1,254,"",0,Spec,false,0);
      end;
    end else begin
      MatCol(1,32,"",0,ArtCode,false,INSClass);
  //  MatCol(1,94,"Var",0,VARList,false,VARSClass);
  //  MatCol(1,144,"Qty",0,Qty,true,0);
      if (HasVarieties) then begin
        MatCol(1,144,"-",0,Qty,true,MATVARINSClass); // 94  //Edit***************************Sasha2,17:03 19.09.2014
      end else begin
        MatCol(1,94,".",0,Qty,true,0);
      end;
      if (HasAdvancedStock) then begin
        MatCol(1,189," .",0,InStock,true,0); //154 //Edit***************************Sasha2,17:04 19.09.2014
        MatCol(1,234,"",0,Spec,false,0); //214 //Edit***************************Sasha2,17:04 19.09.2014
      end else begin
        pos = 154;
        if (HasSerialNumbers) then begin
          MatCol(1,pos," ",0,SerialNr,false,SerialNrSClass); 
          pos = pos + 120;
        end;
        MatCol(1,pos,"",0,Spec,false,0);
      end;
    end;
    if (IsEnterprise) then begin
      Flip(flipnr); flipnr = flipnr + 1;
      if (HasJewelleryInterface==false) then begin
        MatCol(1,-280," ",0,SerialNr,false,SerialNrSClass);
        EnterSkip(SerialNr); //Edit***************************Sasha2,17:04 19.09.2014
      end;
      MatCol(1,-160,"",0,Location,false,LocationSClass);
      if (HasModWHM) then begin
        MatCol(1,-100,"",0,Position,false,PosSClass);
      end;
      MatCol(1,-40,".",0,Coefficient,false,0);
      Flip(flipnr); flipnr = flipnr + 1;
      MatCol(1,-125," ",0,BasePrice,true,0);
      MatCol(1,-40,"",0,Coefficient,false,0);
      Flip(flipnr); flipnr = flipnr + 1;
      MatCol(1,-140,"",0,UnitXval,true,0);
      MatCol(1,-95,"",0,UnitYval,true,0);
      MatCol(1,-50,"",0,UnitZval,true,0);
    end;
    DeleteRowTest;
    EndMatrix;
    vs = 20; v=vm;

    if (flipnr>2) then begin
      for (f=1;f<flipnr;f=f+1) begin
        VTab(-35,v,-16,v+vs,ToolFlip,f,chr(asc("A") + f - 1));
        v = v + vs;
      end;
    end;
    if (GUIType==kGuiiPhone) then begin
      Tile(2,230,false,"",Comment); 
    end;
    if (IsEnterprise==false) then begin
      CheckBox(20,-30,0,"OK",OKFlag);
    end;
    EditField(h=150,-30,-35,".",Normal,Comment,false,0);
    if (IsEnterprise) then begin
      SpecialMenu("  ",' ',1,"StockTakeFillFIFODsm");
      SpecialMenu(" ",'f',1,"ItemSearchDsm");
  //  SpecialMenu("Import Data from Digitag",'f',1,"StockTakeDigitagDsm");
    end;
  end;
  EndWindow;
end;

window StockMovLClass:1
  wtag("language","RUS"), wtag("product","*"), wtag("productcode","*"), wtag("device","computer")
begin
  WindowBegin("  ",StockMovLClass,CGmlist,-);
  SpawnClass(StockMovDClass);
  SetWRect(64,80,800,298);
  Sizeable(-1,-1,0,0);
  UseView(StockMovVc);
  FormName(PrintStockMovL);
  RecordList(4,17,-21,-39);
  RlColKey(4,4,  "",SerNr,false,SerNr);
  if (HasThrouLocation) then begin
  RlColKey(90,90,".",SentOKFlag,false,SentOKFlag); // 71,71 //Edit----------------Dima 02.02.2015
  end;
  RlColKey(111,111,".",OKFlag,false,OKFlag);
  if (HasThrouLocation) then begin
  RlColKey(151,151," ",SentTransDate,false,SentTransDate);
  end;
  RlColKey(223,223," ",TransDate,false,TransDate);
  if (HasMultiLocations) then begin
    RlColKey(295,295," ",FrLocation,false,FrLocOK);
    if (HasThrouLocation) then begin
      RlColKey(370,370," ",ThrouLocation,false,ToThrouLocOK);
    end;
    RlColKey(450,450," ",ToLocation,false,ToLocOK);
  end;
  if (HasModProd) then begin
    RlColKey(530,530, ".",ProdSerNr,false,ProdSerNr);
    RlColKey(590,590,      "",Comment,false,Comment);
  end else begin
    RlColKey(530,530, ".",Comment,false,Comment);
  end;
  SpecialMenu("",'G',0,"OKStockMovLsm");
  if (HasLimitedAccess) then begin
    BrowseSubsetButton(-40,-15);
  end;
  SearchField("");
  EndWindow;
end;

window IPDClass:2
  wtag("language","RUS"), wtag("product","*"), wtag("productcode","*"), wtag("device","computer")
begin
  real h,h2,h3,h4,t,v,vm,vs,fl,v2;
  record CYBlock CYb;
  Integer f,flipnr;

  BlockLoad(CYb);
  WindowBegin(" ",IPDClass,CGview,-);
  SetWRect(20,80,700,380);
  Sizeable(-1,-1,0,0);
  UseView(IPVc);
  ActiveFieldOnNew("TransDate");
  h = 100; h2 = 262; h3 = 470;v = 6; vs = 20;
  if (HasNumberSeries) then begin
    EditField(h,v, 80,". ",St_i,SerNr,false,TSerSClass);
  end else begin
    EditField(h,v,80,"",St_i,SerNr,false,0);
  end;
  EditField(h2,v,82," .",Normal,TransDate,false,PasteCurDate);
  EnterSkip(PayMode);
  if (IsEnterprise) then begin
    EditField(h3,v,-40,"",Normal,RecNumber,false,0);
  end else begin
    CheckBox(h4=-100,v,0,"OK",OKFlag);
  end;
  EditField(h,v+=20,30," ",Normal,PayMode,false,PMSClass);
  EnterSkip(Math);
  EditField(h2,v,-40,"",Normal,Comment,false,0);
  if (IsEnterprise) then begin
    EditField(h,v+=20,80," .",ViewOnly,AuthorizationCode,false,0);
    CheckBox(-350,v,0,"-    ",ARonTR); //-300 //Edit***************************Sasha2,17:07 12.05.2017
    CheckBox(h4=-100,v,0,"OK",OKFlag);
  end else begin
    EditField(h2,v+=vs,150,"",Normal,RecNumber,false,0);
  end;
  if (HasLocalization("ARG,PRT")) then begin  
    v = v + vs;
    if (HasOfficialSerNr) then begin
      EditField(h,v,135,". ",Normal,OfficialSerNr,false,LegalInvNrSClass);  
      v2 = 20; 
    end;
  end;
  if (HasLocalization("PRT")) then begin  
      if (HasNumberSeries) then begin
        EditField(h2+104,v,100,"Official Ser No. 2",Normal,OfficialSerNr2,false,0);  
        EditField(h3+90,v,135,"",Normal,Status,false,SetSClass);  v = v + vs;  
    end;
  end;
  EnterSkip(Math);
  if (HasMultiCurrency) then begin
    fl = 40;
//    if (GuiType==kGuiiPhone) then begin fl = 70; end;
    EditField(-267,-21,fl,"",Normal,PayCurCode,false,CurncyCodeSClass);
  end;
  EditField(-142,-21,-40,"",Normal,CurPayVal,true,0);
  h=4; v=91+v2;
  if (HasMultiCurrency or HasPrepayments or (HasLocalization("RUS") and HasModSL) or HasLocalization("AUS")) then begin
    MatrixBegin(h,v,-50,-24,-,299);
  end else begin
    MatrixBegin(h,v,-30,-24,-,99);
  end;
  vm = v;
  MatTypedRow(stp);
  MatOverStrike(ovst);
  Flip(0);
  if (HasPreferedOfficialSerNr) then begin
    if (HasLocalization("POL,RUS")) then begin
      MatCol(t=kReceiptRowTypeNormal,30," /",0,InvoiceOfficialSerNr,false,ARSClass);
    end else begin
      MatCol(t=kReceiptRowTypeNormal,30," /",0,InvoiceNr,false,ARSClass);
    end;
  end else begin
    MatCol(t=kReceiptRowTypeNormal,30," /",0,InvoiceNr,false,ARSClass);
  end;
  EnterSkip(RecVal);
  MatCol(t,125,"",0,CustCode,false,CUSClass);
  if (HasPreferedOfficialSerNr) then begin
    MatCol(t=kReceiptRowTypeSettlementDiscount,30,"",0,InvoiceOfficialSerNr,false,ARSClass);
  end else begin
    MatCol(t=kReceiptRowTypeSettlementDiscount,30,"",0,InvoiceNr,false,ARSClass);
  end;
  MatText(t,125,"",false);
  if (HasObjects) then begin
    MatCol(t,190,"",0,Objects,false,ObjSClass);
  end;
  MatCol(t,-390,"./",0,InvCurncy,true,0);
  MatCol(t,-350," /",0,InvVal,true,0);
  MatCol(t,-260,". ",0,BankCurncy,true,CurncyCodeSClass);
  MatCol(t,-220," /",0,BankVal,true,0);
  MatCol(t,-130,".",0,RecCurncy,true,CurncyCodeSClass);
  MatCol(t,-90,"",0,RecVal,true,0);
  if (HasPreferedOfficialSerNr) then begin
    EnterSkip(InvoiceOfficialSerNr);
    MatCol(t=kReceiptRowTypeWriteoff,30,"",0,InvoiceOfficialSerNr,false,ARSClass);
  end else begin
    EnterSkip(InvoiceNr);
    MatCol(t=kReceiptRowTypeWriteoff,30,"",0,InvoiceNr,false,ARSClass);
  end;
  MatText(t,125,"",false);
  MatCol(t,-460,"",0,WriteOffAcc,false,AccSClass);
  MatCol(t=kReceiptRowTypeBankFee,30,"",0,InvoiceNr,false,ARSClass);
  MatText(t,105,".",false);
  MatCol(t,-390,"./",0,InvCurncy,true,0);
  MatCol(t,-350," /",0,InvVal,true,0);
  MatCol(t,-260,".",0,BankCurncy,true,CurncyCodeSClass);
  MatCol(t,-220," ",0,BankVal,true,0);
  MatCol(t,-130,".",0,RecCurncy,true,CurncyCodeSClass);
  MatCol(t,-90,"",0,RecVal,true,0);
  flipnr = 1;
  Flip(flipnr); flipnr = flipnr + 1;
  EnterSkip(PayDate);
  MatCol(t=kReceiptRowTypeNormal,200,"",0,CustName,false,0);
  if (IsEnterprise) then begin
    MatCol(t,-350," ",0,PayDate,false,0);
  end;
  if (HasObjects and IsEnterprise==false) then begin
    MatCol(t,190,"",0,Objects,false,ObjSClass);
  end;
  EnterSkip(RecVal);
  if (HasMultiCurrency) then begin
    MatCol(t,-260,".",0,BankCurncy,true,CurncyCodeSClass);
    MatCol(t,-220," /",0,BankVal,true,0);
    MatCol(t,-130,".",0,RecCurncy,true,CurncyCodeSClass);
    MatCol(t,-90,"",0,RecVal,true,0);
    MatCol(t=kReceiptRowTypeWriteoff,-390,".",0,InvCurncy,true,0);
    MatCol(t,-350," /",0,InvVal,true,0);
    MatCol(t,-260,".",0,BankCurncy,true,CurncyCodeSClass);
    MatCol(t,-220," /",0,BankVal,true,0);
    MatCol(t,-130,".",0,RecCurncy,true,CurncyCodeSClass);
    MatCol(t,-90,"",0,RecVal,true,0);
  end else begin
    MatCol(t,-270," .",0,InvOutstand,false,0);
    MatCol(t,-180,"  .",0,InvVal,true,0);
    MatCol(t,-90,". ",0,RecVal,true,0);
    MatCol(t=kReceiptRowTypeWriteoff,-270," .",0,InvOutstand,false,0);
    MatCol(t,-180,"  .",0,InvVal,true,0);
    MatCol(t,-90,". ",0,RecVal,true,0);
  end;
  if (HasMultiCurrency) then begin
    Flip(flipnr); flipnr = flipnr + 1;
    MatCol(t=kReceiptRowTypeNormal,190,"",0,CustName,false,0);
    MatCol(t,-350,".",0,InvCurncy,true,0);
    MatCol(t,-310," . .",0,InvOutstand,true,0);  
    MatCol(t,-220," /",0,InvVal,true,0);
    MatCol(t,-130,".",0,RecCurncy,true,CurncyCodeSClass);
    MatCol(t,-90,"",0,RecVal,true,0);
    MatCol(t=kReceiptRowTypeWriteoff,-390,".",0,InvCurncy,true,0);
    MatCol(t,-350," /",0,InvVal,true,0);
    MatCol(t,-260,".",0,BankCurncy,true,CurncyCodeSClass);
    MatCol(t,-220," /",0,BankVal,true,0);
    MatCol(t,-130,".",0,RecCurncy,true,CurncyCodeSClass);
    if (HasLocalization("POL")) then begin
      Flip(flipnr); flipnr = flipnr + 1;
      MatCol(t=kReceiptRowTypeNormal,190,"",0,CustName,false,0);
      MatCol(t,-310,".",0,BankCurncy,true,CurncyCodeSClass);
      MatCol(t,-270," /",0,BankVal,true,0);
      MatCol(t,-200," . .1",0,ToRateB1BankVal,true,0);  
      MatCol(t,-160,"..  .1",0,B1BankVal,true,0);  
    end;
  end;
  if (IsEnterprise) then begin
    MatCol(t,-90,"",0,RecVal,true,0);
    Flip(flipnr); flipnr = flipnr + 1;
    MatCol(t=kReceiptRowTypeNormal,190,"",0,CustName,false,0);
    MatCol(t,-270,"..",0,PayMode,false,PMSClass);
    if (StandardHansa==false) then begin
      MatCol(t,-220," ",0,ChequeNr,false,0);
    end;
    MatCol(t,-130," .",0,RecCurncy,true,CurncyCodeSClass);
    MatCol(t,-90,"",0,RecVal,true,0);
    MatCol(t=kReceiptRowTypeWriteoff,-390,". ",0,InvCurncy,true,0);
    MatCol(t,-350," /",0,InvVal,true,0);
    MatCol(t,-260,".",0,BankCurncy,true,CurncyCodeSClass);
    MatCol(t,-220," /",0,BankVal,true,0);
    MatCol(t,-130,".",0,RecCurncy,true,CurncyCodeSClass);
    MatCol(t,-90,"",0,RecVal,true,0);
    Flip(flipnr); flipnr = flipnr + 1;
    MatCol(t=kReceiptRowTypeNormal,190,"",0,CustName,false,0);
    MatCol(t,-320," ",0,OrderNr,false,ORSClass);
    MatCol(t,-230," .",0,CUPNr,false,ARPaySClass);
    MatCol(t,-130,".",0,RecCurncy,true,CurncyCodeSClass);
    MatCol(t,-90,"",0,RecVal,true,0);
    MatCol(t=kReceiptRowTypeWriteoff,-390,".",0,InvCurncy,true,0);
    MatCol(t,-350," /",0,InvVal,true,0);
    MatCol(t,-260,".",0,BankCurncy,true,CurncyCodeSClass);
    MatCol(t,-220," /",0,BankVal,true,0);
    MatCol(t,-130,".",0,RecCurncy,true,CurncyCodeSClass);
    MatCol(t,-90,"",0,RecVal,true,0);
    Flip(flipnr); flipnr = flipnr + 1;
    MatCol(t=kReceiptRowTypeNormal,190,"",0,CustName,false,0);
    if (CYb.UseTaxTemplatesforTaxCalc!=0) then begin
      MatCol(1,-310,"",0,TaxTemplateCode,false,TaxTemplateSClass);
    end else begin
      MatCol(1,-310,"",0,VATCode,false,VATCodeSClass);
    end;
    MatCol(t,-270," ",0,VATVal,false,0);
    MatCol(t,-200," ",0,TAX1Sum,false,0);
    MatCol(t,-130,".",0,RecCurncy,true,CurncyCodeSClass);
    MatCol(t,-90,"",0,RecVal,true,0);
    MatCol(t=kReceiptRowTypeWriteoff,-390,". ",0,InvCurncy,true,0);
    MatCol(t,-350," /",0,InvVal,true,0);
    MatCol(t,-260,".",0,BankCurncy,true,CurncyCodeSClass);
    MatCol(t,-220," /",0,BankVal,true,0);
    MatCol(t,-130,".",0,RecCurncy,true,CurncyCodeSClass);
    MatCol(t,-90,"",0,RecVal,true,0);
    Flip(flipnr); flipnr = flipnr + 1;
    MatCol(t=kReceiptRowTypeNormal,190,"",0,CustName,false,0);  
    MatCol(t,-260,"",0,Objects,false,ObjSClass);
    MatCol(t,-130,".",0,RecCurncy,true,CurncyCodeSClass);
    MatCol(t,-90,"",0,RecVal,true,0);
    MatCol(t=kReceiptRowTypeWriteoff,-390,".",0,InvCurncy,true,0);
    MatCol(t,-350," /",0,InvVal,true,0);
    MatCol(t,-260,".",0,BankCurncy,true,CurncyCodeSClass);
    MatCol(t,-220," /",0,BankVal,true,0);
    MatCol(t,-130,".",0,RecCurncy,true,CurncyCodeSClass);
    MatCol(t,-90,"",0,RecVal,true,0);
    Flip(flipnr); flipnr = flipnr + 1;
    MatCol(t=kReceiptRowTypeNormal,190," .",0,RoundOffAcc,false,AccSClass);
    MatCol(t,-360,"",0,RoundOff,true,0);
    if (StandardHansa==false) then begin
      MatCol(t,-300,"",0,InstNr,false,ARInstallSClass);
    end;
    MatCol(t,-170,"",0,rkRecNumber,false,0);
    MatCol(t=kReceiptRowTypeWriteoff,-390,".",0,InvCurncy,true,0);
    MatCol(t,-350," /",0,InvVal,true,0);
    MatCol(t,-260,".",0,BankCurncy,true,CurncyCodeSClass);
    MatCol(t,-220," /",0,BankVal,true,0);
    MatCol(t,-130,".",0,RecCurncy,true,CurncyCodeSClass);
    MatCol(t,-90,"",0,RecVal,true,0);
    Flip(flipnr); flipnr = flipnr + 1;
    MatCol(t=kReceiptRowTypeNormal,190,"",0,ARAcc,false,AccSClass);
    if (StandardHansa==false) then begin
      MatCol(t,-320," ..",0,CredManNr,false,CredManSClass);
    end;
    MatCol(t,-220,"",0,Comment,false,0);
    MatCol(t=kReceiptRowTypeWriteoff,-390,".",0,InvCurncy,true,0);
    MatCol(t,-350," /",0,InvVal,true,0);
    MatCol(t,-260,".",0,BankCurncy,true,CurncyCodeSClass);
    MatCol(t,-220," /",0,BankVal,true,0);
    MatCol(t,-130,".",0,RecCurncy,true,CurncyCodeSClass);
    MatCol(t,-90,"",0,RecVal,true,0);
    Flip(flipnr); flipnr = flipnr + 1;
    MatCol(t=kReceiptRowTypeNormal,200,".",0,BankCurncy,true,CurncyCodeSClass);
    MatCol(t,-410," /",0,BankVal,true,0);
  //  MatCol(t,-340,"Bank Fee",0,BankFeeVal,true,0);
    MatCol(t,-280," . .1",0,ToRateB1BankVal,true,0);
    MatCol(t,-210,"..  .1",0,B1BankVal,true,0);
    MatCol(t,-105,"..  .2",0,B2BankVal,true,0);
  //  MatCol(t,-200,"Fee %",0,BankFeePrc,true,0); /* What was this ?? */
  //  MatCol(t,-70,"Coef. Value",0,Coef,true,0);
    MatCol(t=kReceiptRowTypeWriteoff,-390,".",0,InvCurncy,true,0);
    MatCol(t,-350," /",0,InvVal,true,0);
    MatCol(t,-260,".",0,BankCurncy,true,CurncyCodeSClass);
    MatCol(t,-220," /",0,BankVal,true,0);
    MatCol(t,-130,".",0,RecCurncy,true,CurncyCodeSClass);
    MatCol(t,-90,"",0,RecVal,true,0);
    Flip(flipnr); flipnr = flipnr + 1;
    MatCol(t=1,-470,". ",0,BankCurncy,true,CurncyCodeSClass);
    MatCol(t,-430," /",0,BankVal,true,0);
    MatCol(t,-350,"",0,FrRateBankVal,true,0);
    MatCol(t,-310,"..  .1",0,ToRateB1BankVal,true,0);
    MatCol(t,-240," . .2",0,ToRateB2BankVal,true,0);
    MatCol(t,-170,".. 1",0,BaseRate1BankVal,true,0);
    MatCol(t,-90,".. 2",0,BaseRate2BankVal,true,0);
//    MatCol(t,-10,"Received Value",0,RecVal,true,0);
  end else begin
    if (HasLocalization("AUS")) then begin
      Flip(flipnr); flipnr = flipnr + 1;
      MatCol(t=kReceiptRowTypeNormal,190,"Text",0,Comment,false,0); 
      MatCol(t,-270,"P. Mode",0,PayMode,false,PMSClass); 
      MatCol(t,-220,"#Cheque# No.",0,ChequeNr,false,0); 
      MatCol(t,-130,"#S.# Cur.",0,RecCurncy,true,CurncyCodeSClass); 
      MatCol(t,-90,"Sent Value",0,RecVal,true,0); 
    end;
    if (HasRussianPrepayment) then begin
      Flip(flipnr); flipnr = flipnr + 1;
      MatCol(t=kReceiptRowTypeNormal,190,"",0,CustName,false,0);
      MatCol(1,-265,"",0,VATCode,false,VATCodeSClass);
      MatCol(t,-230,".",0,VATVal,false,0);
      MatCol(t,-170," ",0,OrderNr,false,ORSClass);
      MatCol(t,-85,"",0,CUPNr,false,ARPaySClass);
    end else begin
      if (IsBooks and IsStandardProduct==false) then begin
        Flip(flipnr); flipnr = flipnr + 1;
        MatCol(t=kReceiptRowTypeNormal,-265,"",0,VATCode,false,VATCodeSClass);  
        MatCol(t,-230,".",0,VATVal,false,0);  
        MatCol(t,-170," .",0,PayDate,false,0);  
        MatCol(t,1,"",0,rkRecNumber,false,0);  
      end else begin
        if (HasPrepayments) then begin
          Flip(flipnr); flipnr = flipnr + 1;
          MatCol(t=kReceiptRowTypeNormal,200,"  ",0,CUPNr,false,ARPaySClass);           
          if (HasLocalization("LVA")) then begin
            MatCol(t,-265," ",0,VATCode,false,VATCodeSClass);  
            MatCol(t,-230,".",0,VATVal,false,0);  
          end;
          if (HasModSO) then begin
            MatCol(t,-170," ",0,OrderNr,false,ORSClass); 
          end;  
          MatCol(t,-130,"",0,RecCurncy,true,CurncyCodeSClass);         
          MatCol(t,-90,"",0,RecVal,true,0);         
        end;
      end;
    end;
  end;
  InsertRowTest;
  DeleteRowTest;
  RowMenuBegin("");         
  if (HasAddFee) then begin
    RowMenuItem(0," ",' ',' ',0,"NewFeeIPDsm");         
  end;
  if (HasSettlementDiscount) then begin
    RowMenuItem(0,"   ",' ',' ',0,"CashDiscountIPDsm");         
  end;
  RowMenuItem(0," ",' ',' ',0,"NewWriteoffIPDsm");         
  if (IsEnterprise) then begin
    if (StandardHansa==false) then begin
      RowMenuItem(0," ",' ',' ',0,"DistributeChequesIPDsm");         
    end;
    if (IsEnterprise or (IsBooks and IsStandardProduct==false) or IsStandardUnused) then begin
      RowMenuItem(0," ",' ',' ',0,"IPExpandIPDsm");         
    end;
    if (IsEnterprise) then begin
      RowMenuItem(0," ",'=','=',0,"CalculateFieldIPDsm");         
      RowMenuItem(0,"  ",' ',' ',0,"WriteofPrepayIPDsm");         
    end;
  end;
  EndRowMenu;
  EndMatrix;
  vs = 22;
  v = v + 1;
  if (flipnr>2) then begin
    for (f=1;f<flipnr;f=f+1) begin
      VTab(-35,v,-16,v+vs,ToolFlip,f,chr(asc("A") + f - 1));
      v = v + vs;
    end;
  end;
  vs = 20;

  if (GuiType==kGuiMetro) then begin // Temporarily disabled on Windows 8
    if (HasAddFee) then begin
    SpecialMenu("  ",' ',2,"NewFeeIPDsm");
    end;
    SpecialMenu("  ",' ',6,"IPInfoIPDsm");
    if (HasIntegratedNL) then begin
      SpecialMenu("  ",'t',9,"OpenTRFromIP");
    end;
    SpecialMenu(" -  ",' ',7,"DownPayFromIPDsm");
  end else begin
      SpecialMenu("  ",' ',6,"IPInfoIPDsm");
    if (HasIntegratedNL) then begin
      SpecialMenu("  ",'t',9,"OpenTRFromIP");
    end;
    if (HasTaxMatrix) then begin
        SpecialMenu("  ",' ',25,"OpenVatMatrixIPDsm");
    end;
    if (IsEnterprise) then begin
      if (StandardHansa==false) then begin
        SpecialMenu("  ",' ',15,"CCPayIPDsm");         
      end;
      SpecialMenu("  ",' ',16,"BankStIPDsm");         
      SpecialMenu("  ",' ',8,"PrintCashInOutIPDsm");         
    end;
    if (HasLocalization("PRT")) then begin
      SpecialMenu(" ",' ',8,"ReprintIPDsm"); 
    end;
    SpecMenuGroup("",kSpecMenuGroupTypeExtendedPlusMenu,0);
    if (HasModCRM or HasStandardCRM) then begin
//      SpecialMenu("Activity",'c',14,"ActFromIPDsm");
    end;
    if (IsEnterprise) then begin
      SpecialMenu("  ",' ',11,"CLInFromIPDsm");
      if (StandardHansa==false) then begin
        SpecialMenu(" ",'e',9,"CreateCheckIPDsm");
        if (HasLocalization("HRV,SRB,SVN,UKR")) then begin
          SpecialMenu("  #VAT# #S/L#",' ',17,"VATCorrectionIPDsm");         
        end;
      end;
      SpecialMenu(" -  ",' ',7,"DownPayFromIPDsm");
    end else begin
      if (HasLocalization("HRV,SRB,SVN,UKR")) then begin
        SpecialMenu("  #VAT# #S/L#",' ',17,"VATCorrectionIPDsm");         
      end;
    end;
    if (HaseMail) then begin
//      SpecialMenu("Email",'m',18,"CreateMailFromIPDsm");
    end;
    if (HasRussianPrepayment) then begin
      SpecialMenu(" /  ",' ',10,"IVFromPrepIPDsm");
    end;
  end;
  EndWindow;
end;

window IVLClass:8
  wtag("language","RUS"), wtag("product","*"), wtag("productcode","*"), wtag("device","computer")
begin
  real pos;
  Boolean acptf;
  
  WindowBegin("-",IVLClass,CGmlist,-);
  pos = 820;
  if (HasHotelInterface) then begin
    pos = pos + 80;
  end;
  acptf = AcceptanceStatusColumnTest("IVVc"); 
  if (acptf) then begin
    pos = pos + 40;
  end;
  SetWRect(20,80,pos,298);
  Sizeable(-1,-1,0,0);
  SpawnClass(IVDClass);
  UseView(IVVc);
  FormName(PrintIVL);
  RecordList(4,17,-21,-39);
  RlColKey(4,4,"",SerNr,false,SerNr);
  RlColKey(79,79,"",OKFlag,false,OKFlag);
  RlColKey(111,111," /",InvDate,false,InvDate);
  if (StandardHansa==false) then begin
    RlColKey(191,191,". .",OfficialSerNr,false,OfficialSerNr);
  end;
  RlColKey(301,301," .",OrderNr,false,OrderNr);
  pos = 381;
  if (HasHotelInterface) then begin
    RlColKey(pos,pos,"Rsrv. No.",JobNr,false,JobNr); pos = pos + 80; 
  end;
  RlColKey(pos,pos,"",CustCode,false,CustCode); pos = pos + 60;
  RlColKey(pos,pos,".",Addr0,false,Name);
  RlColKey(-230,-230,"",Location,false,Name); 					//Edit -------------------Dima 14.01.2015
	RlColKey(-170,-170,". ",MachineName,false,Name);	//Edit -------------------Dima 14.01.2015
  if (acptf) then begin
    CalculatedColumn(-170,-170,".","IVLClassAcceptanceStatus",false);
  end;
  RlColKey(-130,-130,"",Sum4,true,Sum4);
  RlCol(-60,-60,"",CredMark,true);
  if (HasMultiCurrency or HasBase2) then begin
    RlCol(-40,-40,".",CurncyCode,true);
  end;
  RlCol(-1,-1,"",Invalid,true);
  SearchField("");
  if (HasLimitedAccess) then begin
    BrowseSubsetButton(-40,-15);
  end;
  SpecialMenu("OK",'G',0,"OKIVLsm");
  if (HasLocalization("PRT")==false) then begin
  SpecialMenu("  c-",' ',1,"PrintIVLsm");
  end;
  SpecialMenu(" /",'r',2,"IVInfoIVLsm");
  if (HasLocalization("ARG")) then begin
    SpecialMenu("Send Argentinian E-Invoices",'n',3,"SendArgEInvIVLsm");
  end;
  if (HasLocalization("MEX")) then begin
    SpecialMenu("Send Mexican E-Invoices",'n',3,"SendMexEInvIVLsm");
  end;
  EndWindow;
end;

window CCatDClass:2
  wtag("language","RUS"), wtag("product","*"), wtag("productcode","*"), wtag("device","computer")
begin
  real h,h2,v,vs;
  WindowBegin(" ",CCatDClass,CGview,-);
  SetWRect(64,80,600,330);
  UseView(CCatVc);
  v = 6; vs = 20; h = 100;
  if (IsEnterprise) then begin
    Tile(0,90,false,"",Code);
    EditField(h,v, 70,"",Normal,Code,false,0);
    EditField(h,v+=vs,-40,"",Normal,Comment,false,0);
    if (StandardHansa==false) then begin
      EditField(h,v+=vs,-40," .",Normal,ClassType,false,CTypeSClass);
    end;
    TileButton(1,"");
    TileButton(2,"");
    if (StandardHansa==false) then begin
      TileButton(3,"");
    end;
    if (HasCharts) then begin
      TileButton(4,"");
    end;
    Tile(1,110,false,"1",PLCode);
    v = 6; h = 200;
    EditField(h,v ,70,"",Normal,PLCode,false,PLDefSClass);
    if (HasAdvancedPricing) then begin
      EditField(h,v+=vs ,70," ",Normal,RebCode,false,RebSClass);
    end;
    EditField(h,v+=vs ,55," ",Normal,DownPayPerc,false,0);
    if (HasItemClassification) then begin
      EditField(h,v+=vs ,55,".  ",Normal,MainDispGroup,false,DISClass);
    end;
    if (StandardHansa==false) then begin
      EditField(h,v+=vs ,55," Web-",Normal,WebOrderClass,false,OrderClassSClass);
    end;
//##  EditField(h,v+=vs ,70, "Commission Matrix",Normal,ComCode,false,ComSClass);
    Tile(2,130,false,"2",ARAcc);
    v = 6; h = 200;
    EditField(h,v ,55," ",Normal,ARAcc,false,AccSClass);
    EditField(h,v+=vs ,55," . ",Normal,BadARAcc,false,AccSClass);
    EditField(h,v+=vs ,55,"  ",Normal,OnAccAcc,false,AccSClass);
    EditField(h,v+=vs ,55," ",Normal,AccAP,false,AccSClass);
    EditField(h,v+=vs ,55,"  ",Normal,OnAccAccAP,false,AccSClass);
    EditField(h,v+=vs ,55," ",Normal,RetainAcc,false,AccSClass);
    EditField(h,v+=vs,55," ",Normal,CostAcc,false,AccSClass); //Edit***************************Sasha2,15:56 22.01.2015
    if (StandardHansa==false) then begin
      Tile(3,50,false,"3",WebDisplays);
      v = 6;
      EditField(h,v,55,"  ",Normal,WebDisplays,false,WebDisplaySClass);
      EditField(h,v+=vs,55,"N -",Normal,WebOTCode,false,OTSClass); 
    end;
    if (HasCharts) then begin
      Tile(4,400,false,"4",-);
      ChartArea(10,6,-10,390,"$CCATDCLass_BIChart");
    end;
  end else begin
    SetWRect(64,80,509,200);
    UseView(CCatVc);
    v = 10; vs = 20; h = 130; h2 = 320;
    EditField(h,v, 70,"",Normal,Code,false,0);
    EditField(h,v+=vs ,-40,"",Normal,Comment,false,0);
    if (HasContactClassification) then begin
      EditField(h,v+=vs ,-40," .",Normal,ClassType,false,CTypeSClass);
    end;
    if (HasPriceLists) then begin
      EditField(h,v+=vs ,70, "",Normal,PLCode,false,PLDefSClass);
    end;
    if (HasModNL) then begin
      EditField(h,v+=vs ,70," ",Normal,ARAcc,false,AccSClass);
      if (HasRussianPrepayment or HasPrepayments) then begin
        if (HasModSL) then begin
          EditField(h,v+=vs,70,"  ()",Normal,OnAccAcc,false,AccSClass); 
        end;
        if (HasModPL) then begin
          EditField(h,v+=vs,70,"  ()",Normal,OnAccAccAP,false,AccSClass); 
        end;
      end;
    end;
    if (HasAdvancedPricing) then begin
      EditField(h,v+=vs ,70, " ",Normal,RebCode,false,RebSClass);
    end;
  end;
  EndWindow;
end;

window InternMovDClass:1
  wtag("language","RUS"), wtag("product","*"), wtag("productcode","*"), wtag("device","computer")
begin
  real h,h2,v;
  WindowBegin(" ",InternMovDClass,CGview,InternMovView);
  SetWRect(20,80,620,400);
  Sizeable(-1,-1,0,0);
  UseView(InternMovVc);
  FormName(InternMovForm);
  Tile(0,70,false,"",TransDate);
  v = 6; h=110;
  EditField(h,v,55, "",St_i,SerNr,false,TSerSClass);
  EditField(h2=300,v,80," .",Normal,TransDate,false,PasteCurDate);
  EditField(h,v+=20,82, " ",Normal,FrLocation,false,LocationSClass);
  EditField(h2,v,82," ",Normal,ToLocation,false,LocationSClass);
  TileButton(1,"");
  TileButton(2,"");
  Tile(1,30,false,"1",Comment);
  EditField(h,v=6,-20,"",Normal,Comment,false,0);
  EnterSkip(Math);
  Tile(2,79,true,"2",Math);
  CheckBox(20,-20,0,"OK",OKFlag);
  EditField(150,-21,70," .",ViewOnly,SumQuant,true,0);
  if(usercanaction("ViewCostPrice",false))then begin// Edit ************************** Tuesday, 10 February 
    EditField(-120,-21,82,"",ViewOnly ,TotCost,true,0);
  end;
  v = 24;
  MatrixBegin(4,v,-50,-25,InternMovRowType,99);
  DeleteRowTest;
  MatCol(1,28,"",0,ArtCode,false,INSClass);
  MatCol(1,94,"-",0,Quant,true,0);
  MatCol(1,144,". ",0,SerialNr,false,SerialNrSClass);
  MatCol(1,250,"",0,Spec,false,0);
  if(usercanaction("ViewCostPrice",false))then begin// Edit ************************** Tuesday, 10 February 2015 15:14:27
    MatCol(1,-100,". .",0,Cost,true,0);
  end;
  DeleteRowTest;
  EndMatrix;
  EndWindow;
end;

window VIDClass:1
  wtag("language","RUS"), wtag("product","*"), wtag("productcode","*"), wtag("device","computer")
begin
  real h,h1,h2,h3,h4,t,v,vm,vs;
  record CYBlock CYb;
  string 255 label;
  Integer tilenr;
  Integer f,flipnr;
  Integer pos;

  WindowBegin("- ",VIDClass,CGview,-);
  SetWRect(20,80,770,460);
  if (IsEnterprise==false) and (HasModNL==false) then begin
  end else begin
    Sizeable(-1,-1,0,0);
  end;
  UseView(VIVc);
  //  FormName(PrintVID);
  ActiveFieldOnNew("VECode");
  if (IsEnterprise==false) then begin
    if (IsBooks and IsStandardProduct==false) then begin
      AutoSizeWindow(false);
    end;
    v = 6; h = 90; h2 = 260; h3 = 460; h4=-120; vs = 20;
    if (HasVATZone or ((HasMultiCurrency or HasBase2) and (HasModNL))) then begin
      Tile(0,74,false,"",VECode);  
    end;
    if (HasNumberSeries) then begin
      EditField(h,v,80,".",Normal,SerNr,false,TSerSClass);
    end else begin
      EditField(h,v,80,".",Normal,SerNr,false,0);
    end;
    EditField(h2,v,-40,"",Normal,VEName,false,0);  

    EditField(h,vm=(v+=20),80,"",Normal,VECode,false,VESClass);
    EditField(h2,v,80," / .",Normal,InvDate,false,PasteCurDate);  
    CheckBox(-80,v,0,"OK",OKFlag);
    if (HasModNL) then begin
      EditField(h3,v,-100,"",Normal,RefStr,false,0);         
    end;
    if (HasVATZone) then begin
      tilenr = 1;
      TileButton(tilenr,""); tilenr = tilenr + 1;  
      TileButton(tilenr,""); tilenr = tilenr + 1;  
      if (HasMultiCurrency or HasBase2) then begin
        TileButton(tilenr,""); tilenr = tilenr + 1;  
      end;
      TileButton(tilenr,""); tilenr = tilenr + 1;  
      tilenr = 1;
      Tile(tilenr,100,false,tilenr,InvoiceNr); tilenr = tilenr + 1;
      v = 6;
    end else begin
      if (HasMultiCurrency or HasBase2) and (HasModNL) then begin
        tilenr = 1;
        TileButton(tilenr,""); tilenr = tilenr + 1;  
        TileButton(tilenr,""); tilenr = tilenr + 1;  
        TileButton(tilenr,""); tilenr = tilenr + 1;  
        tilenr = 1;
        Tile(tilenr,100,false,tilenr,InvoiceNr); tilenr = tilenr + 1;
        v = 6;
      end else begin
        v = v + vs;
      end;
    end;
    vm = v;
    EditField(h,v,80," / .",Normal,InvoiceNr,false,0);  
    EditField(h,v+=vs,80,"",Normal,PayVal,true,0);
    EditField(h,v+=vs,80,"",Normal,VATVal,true,0);
    EditField(h2,v=vm,22," .",Normal,PayDeal,false,PDSClass);  
    if (HasModNL) then begin
      EditField(h2,v+=vs,80," .",Normal,TransDate,false,PasteCurDate);
    end;
    EnterSkip(Math);
    EditField(h2,v+=vs,80," ",Normal,DueDate,false,PasteCurDate);
    v = vm;
    EditField(h3,v,90,". /",Normal,CredInv,false,APSClass);
    if (HasLanguages) then begin
      EditField(h4,v,80,"",Normal,LangCode,false,LangSClass);
    end;
    EditField(h3,v+=vs,90," ",Normal,SortCode,false,0);
    if (HasObjects) then begin
      EditField(h4,v,80,"",Normal,Objects,false,ObjSClass);
    end;
    EditField(h3,v+=vs,-40,". ",Normal,BankAcc,false,0);
    if (HasLocalization("POL")) then begin         
      EditField(h2,v+=vs,80,"  ",Normal,ServiceDelDate,false,PasteCurDate);         
    end;
    EditField(h2,v+=vs,-40,".",Normal,Comment,false,0);
    if (HasModNL or HasModTS) then begin
      if (HasVATZone or HasMultiCurrency or HasBase2) then begin
        Tile(tilenr,330,true,tilenr,Math); tilenr = tilenr + 1;
        v = 6;
      end else begin
        v = v + 2*vs;
      end;
      BlockLoad(CYb);
      if (HasAdvancedStock or HasModTS or HasModPO) then begin
        MatrixBegin(10,v,-50,-32,-,99);
      end else begin
        MatrixBegin(10,v,-27,-32,-,99);
      end;
      MatTypedRow(stp);
      MatOverStrike(ovst);
      flipnr = 0;
      Flip(flipnr); flipnr = flipnr + 1;
      MatCol(t=kInvoiceRowTypeNormal,24,"",0,AccNumber,false,AccSClass);  
      Flip(flipnr); flipnr = flipnr + 1;
      if (HasObjects) then begin
        MatCol(t=kInvoiceRowTypeNormal,90,"",0,Objects,false,ObjSClass);
        MatCol(t,180,"",0,Comment,false,0);  
      end else begin
        MatCol(t,90,"",0,Comment,false,0);
      end;
      MatCol(t,-130,"",0,Sum,true,0);  
      if (CYb.UseTaxTemplatesforTaxCalc!=0) then begin
        MatCol(t,-35,". ",0,TaxTemplateCode,false,TaxTemplateSClass);
      end else begin
        MatCol(t,-35," ",0,VATCode,false,VATCodeSClass);  
      end;

      MatText(t=kInvoiceRowTypePrepayment,24," .",true);  
      MatCol(t,208,"",0,PrepayNr,false,APPay3SClass);
      MatCol(t,-266,"",0,Comment,false,0); 
      MatCol(t,-160,"",0,PrepayAmount,true,0);/* Price holds the #VAT# sum, Recipe holds the date of prepaym. */  
      MatCol(t,-70,"",0,VATVal,true,0);  

      MatText(t=kInvoiceRowTypeEmployee,24,"Employee to pay",true); 
      MatCol(t,208,"",0,UserCode,false,UserSClass); 
      MatCol(t,-406,"",0,AccNumber,false,0); 
      MatCol(t,-306,"",0,Objects,false,0);
      MatCol(t,-206,"",0,Comment,false,0);

      if (HasAdvancedStock or HasModTS or HasModPO) then begin
        Flip(flipnr); flipnr = flipnr + 1;
        pos = 140;
        t = kInvoiceRowTypeNormal;
        if (HasAdvancedStock) then begin
          MatCol(t,pos,"Order Type",0,OrderType,false,0);  
          MatCol(t,-360,"#Stock# Type",0,StockType,false,SetSClass);  
        end else begin
          MatCol(t=1,pos,"",0,Comment,false,0);  
        end;
        MatCol(t,-260,"",0,Sum,true,0);  
        MatCol(t,-190,"Item",0,Item,false,INSClass);  
        MatCol(t,-130,"Qty",0,qty,true,0);  
        if (HasModTS) then begin
          MatCol(t,-100,"",0,PRCode,false,PRSClass);  
        end;
        if (CYb.UseTaxTemplatesforTaxCalc!=0) then begin
          MatCol(t,-30,"T-Cd",0,TaxTemplateCode,false,TaxTemplateSClass);  
        end else begin
          MatCol(t,-30,"#V-Cd#",0,VATCode,false,VATCodeSClass);  
        end;
        MatText(3,270,"",true);  
      end;
      InsertRowTest;
      DeleteRowTest;
      RowMenuBegin("");         
      RowMenuItem(0,"",'=','=',0,"BalanceVIDsm");         
      EndRowMenu;
      EndMatrix;
      vs = 20;
//      v = 18;//canoot be set to 18 on windows
      if (flipnr>2) then begin
        for (f=1;f<flipnr;f=f+1) begin
          VTab(-35,v,-16,v+vs,ToolFlip,f,chr(asc("A") + f - 1));  
          v = v + vs;
        end;
      end;
      EditField(-140,-20,-40,". ",ViewOnly,CalcVATVal,true,0);
      if (HasMultiCurrency or HasBase2) then begin
        Tile(tilenr,70,false,tilenr,FrRate); tilenr = tilenr + 1;
        h1 = h + 20;
        v = 6;
        EditField(h1,v=6,50,"",Normal,CurncyCode,false,CurncyCodeSClass);  
        if (HasMultiCurrency) then begin
          if (HasBase2) then begin
            EditField(h1,v+vs,50,"  1",Normal,BaseRate1,true,0);  
          end else begin
            EditField(h1,v+vs,50," ",Normal,BaseRate1,true,0);  
          end;
          if (HasBase2) then begin  
            EditField(h1,v+(vs*2),50,"  2",Normal,BaseRate2,true,0);  
          end;
          EditField(h2=295,v,50,"",Normal,FrRate,true,0);  
          if (HasBase2) then begin  
            RateField(h3=360,v,50,":",Normal,"ToRateB1",true,h3+60,v+14,"  1",false);  
            RateField(h3,v+=vs,50,":",Normal,"ToRateB2",true,h3+60,v+14,"  2",false);            
          end else begin
            RateField(h3=360,v,50,":",Normal,"ToRateB1",true,h3+60,v+14," ",false);      
          end;    
        end else begin
          EditField(h1,v+=vs,50,"  1",Normal,BaseRate1,true,0);  
          EditField(h1,v+=vs,50,"  2",Normal,BaseRate2,true,0);  
        end;
      end;
      if (HasVATZone) then begin
        Tile(tilenr,120,false,tilenr,InvoiceNr); tilenr = tilenr + 1;
        v = 20;
        v = VATZoneButtonsLabelsrus(h,v,170,16);
      end;
      SpecialMenu("",'=',0,"BalanceVIDsm");
      SpecialMenu(" -",'r',2,"VIInfoVIDsm"); 
      if (HasIntegratedNL) then begin
        SpecialMenu("  ",'t',5,"OpenTRFromVI"); 
      end;
      if ((HasRussianPrepayment or HasPrepayments) and HasModPL) then begin
        SpecialMenu("  ",' ',6,"ConnectToPrepayVIDsm"); 
      end;
    end else begin
      if (HasMultiCurrency or HasBase2) then begin
        EditField(h,v+=vs,50,"",Normal,CurncyCode,false,CurncyCodeSClass);
        if (HasMultiCurrency) then begin
          if (HasBase2) then begin
            EditField(h,v+vs,50,". . 1",Normal,BaseRate1,true,0);  
          end else begin
            EditField(h,v+vs,50,". .",Normal,BaseRate1,true,0);  
          end;
          if (HasBase2) then begin  
            EditField(h,v+(vs*2),50,". . 2",Normal,BaseRate2,true,0);  
          end;
          EditField(h2=295,v,50,"",Normal,FrRate,true,0);  
          if (HasBase2) then begin  
            RateField(h3=360,v,50,":",Normal,"ToRateB1",true,h3+60,v+14,"  1",false);  
            RateField(h3,v+=vs,50,":",Normal,"ToRateB2",true,h3+60,v+14,"  2",false);            
          end else begin
            RateField(h3=360,v,50,":",Normal,"ToRateB1",true,h3+60,v+14," ",false);      
          end;    
        end else begin
          EditField(h,v+=vs,50,". . 1",Normal,BaseRate1,true,0);  
          EditField(h,v+=vs,50,". . 2",Normal,BaseRate2,true,0);  
        end;
      end;
    SpecialMenu(" /",'r',2,"VIInfoVIDsm");
      if (HasIntegratedNL) then begin
      SpecialMenu("  ",'t',5,"OpenTRFromVI");
    end;
    if ((HasRussianPrepayment or HasPrepayments) and HasModPL) then begin
      SpecialMenu("  ",' ',6,"ConnectToPrepayVIDsm");
      end;
    end;
    SpecMenuGroup("",kSpecMenuGroupTypeExtendedPlusMenu,0);         
    SpecialMenu(" -",' ',15,"CreateCreditNoteVIDsm");
    if (HasModCL) then begin
      SpecialMenu("Create Cash Out",' ',8,"DoCLOutFromVID");  
    end;
    if (HasModNL and HasMultiCurrency) then begin
      SpecialMenu("Internal Invoice",' ',12,"IntIVFromVIDsm"); 
    end;
    if (HasLocalization("POL") and HasVATZone) then begin
      SpecialMenu("  -",' ',12,"IntIVFromVIDsm");
    end;
    if (HasLocalization("HRV,POL,RUS,SLV,SVN,SRB,UKR")) and (HasIntegratedNL) then begin
      SpecialMenu("   ",' ',9,"VATCorrectionVIsm");
    end;
    SpecialMenu(" ",' ',0,"AddSupplierVIDsm"); 
  end else begin
    BlockLoad(CYb);
    vs = 20;
    Tile(0,94,false,"",InvDate);
    if (IsEnterprise) then begin
      h = 75; h2 = 260; h3 = 530;
    end else begin
      h = 90; h1 = 90; h2 = 270; h3 = 470; h4=-110;
    end;
    if (HasNumberSeries) then begin
      EditField(h,vm=(v=6),95,"",Normal,SerNr,false,TSerSClass);
    end else begin
      EditField(h,vm=(v=6),95,"",Normal,SerNr,false,0);  
    end;
    EditField(h,v+=vs,95,"",Normal,VECode,false,VESClass);
    EnterSkip(PayVal);
    EditField(h2,v=vm,-40,".",Normal,VEName,false,0);
    if (IsEnterprise) then begin
      EditField(h2,vm=(v+=20),95,". ",Normal,HoldSum,true,0);
    end else begin
      EditField(h2,v+=vs,80," /",Normal,InvDate,false,PasteCurDate);
      EditField(h3,v,90,"",Normal,RefStr,false,0);
    end;
    CheckBox(h4=-100,v,0,"",OKFlag);
    if (IsEnterprise) then begin
      EditField(h,v+=vs,95,"",Normal,PayVal,true,0);
      EditField(h2,v,95,"",Normal,VATVal,true,0);
    end;
    tilenr = 1;
    TileButton(tilenr,""); tilenr = tilenr + 1;
    TileButton(tilenr,""); tilenr = tilenr + 1;
    TileButton(tilenr,""); tilenr = tilenr + 1;
    if (IsEnterprise) then begin
      if (HasLocalization("UKR")) then begin
        TileButton(tilenr," "); tilenr = tilenr + 1;
      end;
      TileButton(tilenr,"."); tilenr = tilenr + 1;
      TileButton(tilenr,""); tilenr = tilenr + 1;
      TileButton(tilenr," . "); tilenr = tilenr + 1;
    end;
    tilenr = 1;
    Tile(tilenr,90,false,tilenr,InvDate); tilenr = tilenr + 1;
    if (IsEnterprise) then begin
      vs = 20; h1 = 110; h2 = 290; h3 = 530; h4 = -90;
      EditField(h1,vm=(v=6),82," /",Normal,InvDate,false,PasteCurDate);
      EditField(h1,v+=vs,25," ",Normal,PayDeal,false,PDSClass);//PDSClass
      EditField(h1,v+=vs,82," ",Normal,TransDate,false,PasteCurDate);
      EditField(h1,v+=vs,82," ",Normal,DueDate,false,0);
      if (HasLocalization("POL")) then begin  
        EditField(h1,v+=vs,82," . ",Normal,ServiceDelDate,false,PasteCurDate);  
      end;
    end else begin
      EditField(h,v=6,80,". / ",Normal,InvoiceNr,false,0);
      EditField(h,v+=vs,80,"",Normal,PayVal,true,0);
      EnterSkip(PayDeal);
      EditField(h,v+=vs,80,"",Normal,VATVal,true,0);
    end;
    if (IsEnterprise) then begin
      EditField(h2,v=vm,135," / .",Normal,InvoiceNr,false,0);
      EditField(h2,v+=vs,135,"",Normal,OKPersons,false,UserSClass);
      EditField(h2,v+=vs,135,"",Normal,Objects,false,ObjSClass);
      EditField(h2,v+=vs,135,"",Normal,RefStr,false,0);
    end else begin
      EditField(h2,v=6,22,". ",Normal,PayDeal,false,PDSClass);
      EnterSkip(Math);
      EditField(h2,v+=vs,80," .",Normal,TransDate,false,PasteCurDate);
      EditField(h2,v+=vs,80," ",Normal,DueDate,false,0);
    end;
    if (IsEnterprise) then begin
      EditField(h3,v=vm,82," ",Normal,RcvDate,false,PasteCurDate);
      EditField(h3,v+=vs,82," ",Normal,RebDate,false,PasteCurDate);
      EditField(h3,v+=vs,82,"",Normal,RebVal,true,0);
      EditField(h3,v+=vs,82,". /",Normal,CredInv,false,APSClass);
    end else begin
      EditField(h3,v=6,90,". /",Normal,CredInv,false,APSClass);
      EditField(h3,v+=vs,90,". ",Normal,BankAcc,false,0);
      EditField(h3,v+=vs,90," .",Normal,SortCode,false,0);
      v = 6;
      if (HasLanguages) then begin
        EditField(h4,v,90,"",Normal,LangCode,false,LangSClass);
        v = v + vs;
      end;
      if (HasObjects) then begin
        EditField(h4,v,90,"",Normal,Objects,false,ObjSClass);
        v = v + vs;
      end;
    end;
    EnterSkip(Math);
    if (HasAdvancedAccounting) then begin
      CheckBox(h4,v=6,0,"",Closed);
      if (StandardHansa==false) then begin
        CheckBox(h4,v+=16,0,". ",PrelBook);
      end;
    end;
    Tile(tilenr,130,true,tilenr,Math); tilenr = tilenr + 1;
    EditField(140,-21,50,"",Normal,CurncyCode,false,CurncyCodeSClass);
    if (HasWithholdingTax) then begin
      if (StandardHansa==false) then begin
        EditField(270,-20,70,". ",Normal,WithHoldingTax,true,0);
      end;
    end;
    if (HasExtTax) then begin
      EditField(410,-20,70,". .",ViewOnly,TAX1Sum,true,0);
    end;
    EditField(-120,-20,70," ",ViewOnly,CalcVATVal,true,0);
  //  SoftEditField(-144,-21,70,"Subtotal",ViewOnly,"NettVal",true,0,M4Val,255);
    EnterSkip(Math);
  //  CheckBox(20,-21,0,"OK",OKFlag);
    h=4;
    if (HasModNL) then begin
      if (IsEnterprise) then begin
        MatrixBegin(h,v=24,-50,-24,-,299);
      end else begin
        MatrixBegin(h,v=24,-27,-24,-,99);
      end;
      MatTypedRow(stp); //??
      MatOverStrike(ovst);
      flipnr = 0;
      Flip(flipnr); flipnr = flipnr + 1;
      MatCol(t=kInvoiceRowTypeNormal,32,"",0,AccNumber,false,AccSClass);
      if (HasObjects) then begin
        MatCol(t,90,"",0,Objects,false,ObjSClass);
      end;
      MatText(t=6,32," .",true);
      MatCol(t,208,"",0,PrepayNr,false,APPay3SClass);
      MatCol(t,-266,"",0,Comment,false,0); 
      MatCol(t,-160,"",0,PrepayAmount,true,0);/* Price holds the #VAT# sum, Recipe holds the date of prepaym. */
      //MatCol(t,-70,"",0,VATVal,true,0); // Edit ************************** Wednesday, 23 September 2015 12:41:21
      MatCol(t,-70,"",0,Sum,true,0);// Edit ************************** Wednesday, 23 September 2015 12:41:36

      MatText(t=kInvoiceRowTypeEmployee,32,"Employee to pay",true); 
      MatCol(t,158,"",0,UserCode,false,UserSClass); 
      MatCol(t,-406,"",0,AccNumber,false,0); 
      MatCol(t,-306,"",0,Objects,false,0);
      MatCol(t,-206,"",0,Comment,false,0);

      MatText(t=kInvoiceRowTypeDownpayment,32,"",true); 
      MatColTL(t,122,"",0,-1,ViewOnly,0,Item,true,0); 
      MatColTL(t,208,"",0,-1,ViewOnly,0,qty,true,0); 
      MatCol(t,268,"",0,Comment,false,0); 
//      MatColTL(t,-240,"",0,-1,ViewOnly,0,Price,true,0);
//      MatColTL(t,-180,"",0,-1,ViewOnly,0,vRebate,true,0);
      MatColTL(t,-170,"",0,-1,Normal,0,Sum,true,0); 
      if (CYb.UseTaxTemplatesforTaxCalc!=0) then begin
        MatCol(t,-100,"",0,AccNumber,false,AccSClass); 
        MatCol(t,-54,"",0,TaxTemplateCode,false,TaxTemplateSClass); 
      end else begin
        MatCol(t,-90,"",0,AccNumber,false,AccSClass); 
        MatCol(t,-30,"",0,VATCode,false,VATCodeSClass); 
      end;

      MatText(t=kInvoiceRowTypeRetention,32,"",true);
      MatCol(t,100,"",0,Comment,false,0);
      if (HasModTS) then begin
        MatCol(t,-340,"",0,PRCode,false,PRSClass);
      end;
      MatCol(t,-210,"",0,AccNumber,false,AccSClass);
      MatCol(t,-110,"",0,Sum,true,0);
      if (CYb.UseTaxTemplatesforTaxCalc!=0) then begin
        MatCol(t,-30,"..",0,TaxTemplateCode,false,TaxTemplateSClass);
      end else begin
        MatCol(t,-30," ",0,VATCode,false,VATCodeSClass);
      end;
      MatText(t=kInvoiceRowTypeWithholdingTax,32," ",true);
      MatCol(t,132,"",0,WHTax,false,WHTaxSClass);
      MatCol(t,172,"",0,AccNumber,false,AccSClass);
      MatCol(t,292,"",0,Sum,true,0);
      MatCol(t,392,"",0,Comment,false,0);
      Flip(flipnr); flipnr = flipnr + 1;
      t = 1; pos = 180;
      if (HasAdvancedAccounting) then begin
        MatCol(t,pos," ",0,ACShort,false,ACShortSClass);
        pos = pos + 60;
      end;
      MatCol(t,pos,"",0,Comment,false,0);
      MatCol(t,-120,"",0,Sum,true,0);
      if (CYb.UseTaxTemplatesforTaxCalc!=0) then begin
        MatCol(t,-30,"..",0,TaxTemplateCode,false,TaxTemplateSClass);
      end else begin
        MatCol(t,-30,"",0,VATCode,false,VATCodeSClass);
      end;
    //  MatCol(t,-30,"TT",0,TaxTemplateCode,false,VATCodeSClass);
      if (HasAdvancedStock or HasModTS or HasModPO) then begin
        Flip(flipnr); flipnr = flipnr + 1;
        pos = 140;
        t=1;
        if (HasAdvancedStock) then begin
          MatCol(t,pos," ",0,OrderType,false,0);
          MatCol(t,-360," ",0,StockType,false,SetSClass);
        end else begin
          MatCol(t=1,pos,"",0,Comment,false,0);
        end;
        MatCol(t,-260,"",0,Sum,true,0);
        MatCol(t,-190,"",0,Item,false,INSClass);
        MatCol(t,-130,"-",0,qty,true,0);
        if (HasModTS) then begin
          MatCol(t,-100,"",0,PRCode,false,PRSClass);
        end;
        if (CYb.UseTaxTemplatesforTaxCalc!=0) then begin
          MatCol(t,-30,"..",0,TaxTemplateCode,false,TaxTemplateSClass);
        end else begin
          MatCol(t,-30,"",0,VATCode,false,VATCodeSClass);
        end;
        MatText(3,270,"",true);
      end;
      if (HasSimAccruals) then begin
        Flip(flipnr); flipnr = flipnr + 1;
        MatCol(t=kInvoiceRowTypeNormal,140,"",0,Comment,false,0);
        MatCol(t,-260,"",0,Sum,true,0);   // From dict
        MatCol(t,-180,"...",0,PeriodCode,false,AutSimPerSClass);   // From dict
        MatCol(t,-80,"",0,VATVal,true,0);   // From dict
      end;
      if (HasAdvancedStock or HasSerialNumbers) then begin
        Flip(flipnr); flipnr = flipnr + 1;
        MatCol(t=kInvoiceRowTypeNormal,140,"",0,Comment,false,0);
        MatCol(t,-350,"",0,Item,false,INSClass);   // From dict
        if (HasSerialNumbers) then begin
          MatColTL(t,-250," ",0,-1,ViewOnly,-1,SerialNr,false,0);   // From dict
        end;
        MatCol(t,-130,"-",0,qty,true,0);   // From dict
        if (HasAdvancedStock) then begin
          MatColTL(t,-70," ",0,-1,ViewOnly,-1,VarianceAmount,false,0);   // From dict
        end;
      end;
      if (HasModAT2) then begin
        Flip(flipnr); flipnr = flipnr + 1;
        MatCol(t=kInvoiceRowTypeNormal,140,"",0,Comment,false,0);
        MatCol(t,-300," ",0,InventoryNr,false,AT2UnitSClass);
        MatCol(t,-150," .  ",0,AssetTransType,false,SetSClass);
      end;
      InsertRowTest;
      DeleteRowTest;
//      RowMenuBegin("");
//      EndRowMenu;
      EndMatrix;
      vs = 20;
      v = 18;
      if (flipnr>2) then begin
        for (f=1;f<flipnr;f=f+1) begin
          VTab(-35,v,-16,v+vs,ToolFlip,f,chr(asc("A") + f - 1));
          v = v + vs;
        end;
      end;
    end;

    Tile(tilenr,70,false,tilenr,FrRate); tilenr = tilenr + 1;
    vs = 20;
    if (HasBase2) then begin
      h1 = h1 + 20;
    end;
    EditField(h1,v=6,50,"",Normal,CurncyCode,false,CurncyCodeSClass);
    if (HasMultiCurrency) then begin
    if (HasBase2) then begin
        EditField(h1,v+vs,50,"  1",Normal,BaseRate1,true,0);
    end else begin
        EditField(h1,v+vs,50," ",Normal,BaseRate1,true,0);
      end;
      if (HasBase2) then begin  
        EditField(h1,v+(vs*2),50,"  2",Normal,BaseRate2,true,0);  
      end;
      EditField(h2=295,v,50,"",Normal,FrRate,true,0);  
      if (HasBase2) then begin  
        RateField(h3=360,v,50,":",Normal,"ToRateB1",true,h3+60,v+14,"  1",false);  
        RateField(h3,v+=vs,50,":",Normal,"ToRateB2",true,h3+60,v+14,"  2",false);            
      end else begin
        RateField(h3=360,v,50,":",Normal,"ToRateB1",true,h3+60,v+14," ",false);      
      end;    
    end else begin
      EditField(h1,v+=vs,50,"  1",Normal,BaseRate1,true,0);  
      EditField(h1,v+=vs,50,"  2",Normal,BaseRate2,true,0);  
    end;
    if (IsEnterprise) then begin
      if (HasLocalization("SVK,UKR")) then begin
        Tile(tilenr,70,false,tilenr,VATFrRate); tilenr = tilenr + 1;
        vs = 20;
        EditField(h=110,v=6,50,"",Normal,CurncyCode,false,CurncyCodeSClass);
        EditField(h,v+vs,50,"  1",Normal,VATBaseRate1,true,0);  
        EditField(h,v+(vs*2),50,"  2",Normal,VATBaseRate2,true,0);    
        EditField(h2=295,v,50,"#VAT# Rate",Normal,VATFrRate,true,0);  
        RateField(h3=360,v,50,":",Normal,"VATToRateB1",true,h3+60,v+14,"  1",false);  
        RateField(h3,v+=vs,50,":",Normal,"VATToRateB2",true,h3+60,v+14,"  2",false);             
      end;
      Tile(tilenr,110,false,tilenr,PRCode); tilenr = tilenr + 1;
      vs = 20; h1 = 110; h2 = 290; h3 = 550; h4 = -100;
      if (StandardHansa==false) then begin
        EditField(h1,v=vm,82,"",Normal,VEFactoring,false,VESClass);
        EditField(h1,v+=vs,82,"",ViewOnly,BranchID,false,0);
      end else begin
        EditField(h1,v=vm,82,"",ViewOnly,BranchID,false,0);         
      end;
      EditField(h1,v+=vs,82," .  .",Normal,SupCurVal,false,0);
      EditField(h1,v+=20,82,". -",Normal,StatVal,true,0);
      EditField(h1,v+=vs,-20,"",Normal,Comment,false,0);
      EditField(h2,v=vm,80,"",Normal,SalesMan,false,UserSClass);
      if (HasSalesGroup) then begin
        EditField(h2,v+=vs,80," ",Normal,SalesGroup,false,SalesGroupSClass);
        EditField(h2+160,v,80,"Org. Supp.",ViewOnly,OrgVE,false,0);
      end;
      EditField(h2,v+=vs,80,"",Normal,LangCode,false,LangSClass);
      EditField(h2,v+=vs,80," .",Normal,APAcc,false,AccSClass);
      CheckBox(h3,v=6,0,"  / .",APonTR);
        if (HasLocalization("PRT")==false) then begin
          CheckBox(h3,v+=16,0," ",SelfBilling);
        end;
      CheckBox(h3,v+=16,0,"Post Payment #VAT#",OPBookVAT); 
        if (HasLocalization("ARG")) then begin         
        CheckBox(h3,v+=16,0," /",FiscalFlag);
      end;
      Tile(tilenr,90,false,tilenr,POSerNr); tilenr = tilenr + 1;
      EditField(h1,v=vm,82," . .",ViewOnly,POSerNr,false,0);
      if (StandardHansa==false) then begin
        EditField(h1,v+=vs,82," . . .",Normal,POCQStatNr,false,POCQStatSClass);
        EditField(h1,v+=vs,82," . ",Normal,ServiceDelDate,false,PasteCurDate);
        if (HasLocalization("ARG")) then begin         
        EditField(h1,v+=vs,82," . CAE",Normal,CAEExpiry,false,PasteCurDate);
        end;
      end;
      EditField(h2,v=vm,135," ",Normal,BankCode,false,BankSClass);
      EditField(h2,v+=vs,135," ",Normal,BankAcc,false,VEBankAccSClass);
      EditField(h2,v+=vs,135," ",Normal,SortCode,false,0);
        if (HasLocalization("ARG")) then begin         
        EditField(h2,v+=vs,135,"CAE",Normal,CAE,false,0);
        end;
        v = vm;
        if (HasLocalization("ARG,BOL")) then begin         
          EditField(h3,v,-20,"ID  ",Normal,TaxAuthID,false,0);         
          EditField(h3,v+=vs,-20," ",Normal,TaxAuthIDCC,false,0);         
        end;
        EditField(h3,v+=vs,-20,"-",Normal,BarCode,false,0);
      EditField(h3,v+=vs,-20," ",Normal,PaymentCode,false,PaymentCodeSClass);
  /*
    EditField(h2,v,30,"Sup. VAT-Code",Normal,VEVatCode,false,VATCodeSClass);
    EditField(h3,v,80,"Official Ser. No.",Normal,OfficialSerNr,false,0);
  */
      Tile(tilenr,250,false,tilenr,Addr1); tilenr = tilenr + 1;
      label = UserDefined("CUVc","InvAddr0");
      if (blank(label)) then begin label = "-"; end;
      EditField(h=110,v=6,-20,label,Normal,Addr1,false,0);
      label = UserDefined("CUVc","InvAddr1");
      if (blank(label)) then begin label = ""; end;
      EditField(h,v+=vs, -20,label,Normal,Addr2,false,0);
      label = UserDefined("CUVc","InvAddr2");
      EditField(h,v+=vs, -20,label,Normal,Addr3,false,0);
      label = UserDefined("CUVc","InvAddr3");
      EditField(h,v+=vs, -20,label,Normal,InvAddr3,false,0);
      label = UserDefined("CUVc","InvAddr4");
      EditField(h,v+=vs, -20,label,Normal,InvAddr4,false,0);
      EditField(h,vm=(v+=vs),80,"",Normal,InvCountry,false,CountrySClass);
      if (HasApprovals) then begin
        SoftEditField(h3=h+4,v=(vm+=40),123," ",ViewOnly,"AcceptanceStatusFlag",false,0,M4Str,255);
/*      
        ButtonFrame(h3=h+4,v=(vm+=40),123,6," ");
        RadioButton(h3,v,kAcceptanceStateNotRequired,0," ",AcceptanceStatus);
        RadioButton(h3,v+=16,kAcceptanceStateNotStarted,0," ",AcceptanceStatus);
        RadioButton(h3,v+=16,kAcceptanceStateNotRequested,0," ",AcceptanceStatus);
        RadioButton(h3,v+=16,kAcceptanceStatePending,0," ",AcceptanceStatus);
        RadioButton(h3,v+=16,kAcceptanceStateApproved,0,"",AcceptanceStatus);
        RadioButton(h3,v+=16,kAcceptanceStateRejected,0,"",AcceptanceStatus);
*/        
        v = VATZoneButtonsLabelsrus(h3=290,v=vm,170,16);
      end else begin
        v = VATZoneButtonsLabelsrus(h3=290,v=vm+20,170,16);
      end;
      EditField(h2=-170,v=vm,150,"",Normal,Region,false,RegionSClass);
      EditField(h2,v+=vs,150,"",Normal,VATNr,false,0);
      if (HasLocalization("HRV,SVN")) then begin          
        EditField(h2,v+=vs,50,". ",ViewOnly,VELegalForm,false,0);
      end;
      EditField(h2,v+=vs,150,"",Normal,Phone,false,0);
      EditField(h2,v+=vs,150,"",Normal,Fax,false,0);
    end;
    SpecialMenu("",'=',0,"BalanceVIDsm");
    if (HasModNL) then begin
      SpecialMenu(" -",'r',2,"VIInfoVIDsm");
    end;
    if (HasModTS) then begin
      SpecialMenu(" ",' ',25,"RetentionLineVIDsm");
    end;
    if (HasWithholdingTax) then begin
      SpecialMenu("  ",' ',26,"WithholdingLineVIDsm");
    end;
    if (HasEInvoicing) then begin
      SpecialMenu(" E- / pdf",' ',13,"OpenVEIVPDFDsm");
    end;
    if (HasIntegratedNL) then begin
      SpecialMenu("  ",'t',5,"OpenTRFromVI");
    end;
    if (HasAdvancedAccounting) then begin
      SpecialMenu("   ",' ',13,"OpenTRFromVI2");
    end;
    if ((HasRussianPrepayment or HasPrepayments) and HasModPL) then begin
      SpecialMenu("  ",' ',6,"ConnectToPrepayVIDsm");
    end;
    if (HasModIN and HasAdvancedAccounting) then begin
      if (StandardHansa==false) then begin
        SpecialMenu("   ",' ',11,"PUNotReconVIDsm");         
      end;
      SpecialMenu(" ",'f',1,"ItemSearchDsm");         
    end;
    if (HasTaxMatrix) then begin
      SpecialMenu("  ",' ',25,"OpenVatMatrixVIDsm"); 
    end;
    if (HasModCL) then begin
      SpecialMenu("  ",' ',3,"PrintCashInOutVIDsm");         
    end;
    if (HasApprovals) then begin
      SpecialMenu(" ",' ',6,"VISendforAcceptanceVIDsm"); 
      SpecialMenu("  ",' ',2,"CancelApprovalRequestDsm"); 
    end;
    SpecMenuGroup("",kSpecMenuGroupTypeExtendedPlusMenu,0);         
    if (HasModCRM) then begin
//      SpecialMenu("Activity",'c',4,"ActFromVIDsm");
    end;
    if (HasModAT2) then begin
      SpecialMenu(" ",' ',7,"CreateAT2FromVI");
    end;
    if (HasModCL) then begin
      SpecialMenu("  ",' ',8,"DoCLOutFromVID");
    end;
    SpecialMenu("  -",' ',15,"CreateCreditNoteVIDsm");
    if ((HasModNL and HasMultiCurrency) and (StandardHansa==false)) then begin
      SpecialMenu("  -",' ',12,"IntIVFromVIDsm");
    end;
    if (HasLocalization("UKR")) then begin
      SpecialMenu("  ",' ',10,"FirstEventVIDsm");
    end;
    if (HasLocalization("HRV,POL,RUS,SLV,SVN,SRB,UKR")) and (HasIntegratedNL) then begin
      SpecialMenu("   ",' ',9,"VATCorrectionVIsm");
    end;
  end;
  EndWindow;
end;

window PPDClass:1
  wtag("language","RUS"), wtag("product","*"), wtag("productcode","*"), wtag("device","computer")
begin
  real h,h1,h2,h3,t,v,vs;
  Integer tilenr,flipnr,f,pos;

  WindowBegin("",PPDClass,CGview,-);
  SetWRect(20,80,527,350);
  Sizeable(-1,-1,0,0);
  UseView(PPVc);
  FormName(PersPayForm);
  ActiveFieldOnNew("PayDate");
  h = 80; h2 = 222; h3 = 444; v = 6;
  if (IsEnterprise or HasMultiCurrency or HasBase2) then begin
    Tile(0,50+24,false,"",PayMode);
  end;
  EditField(h,v, 60,"",St_i,SerNr,false,TSerSClass);
  EditField(h2,v,80," .",Normal,PayDate,false,PasteCurDate);
  if (HasModNL) then begin
    EditField(h3,v,85," .",Normal,TransDate,false,PasteCurDate);
  end;
  CheckBox(-100,6,0,"",OrderedFlag);  
  CheckBox(-100,6+20,0,"OK",DoneFlag);
  EditField(h,v+=20,30," .",Normal,PayMode,false,PMSClass);
  EditField(h2,v,120,". . ",Normal,BankAcc,false,0);
  EditField(h3,v,80," .",Normal,SortCode,false,0);
  EditField(h,v+=20,564,"",Normal,Comment,false,0);         
  EnterSkip(Math);
  tilenr = 1;
  if (IsEnterprise or HasMultiCurrency or HasBase2) then begin
    TileButton(tilenr,""); tilenr = tilenr + 1;
  end;
  if (IsEnterprise or HasMultiCurrency or HasBase2) then begin
    TileButton(tilenr,""); tilenr = tilenr + 1;
  end;
  tilenr = 1;
  if (IsEnterprise or HasMultiCurrency or HasBase2) then begin
    Tile(tilenr,171,true,tilenr,Math); tilenr = tilenr + 1;
  end;
  if (HasMultiCurrency or HasBase2) then begin
    EditField(-300,-41,85,"",Normal,CurncyCode,false,CurncyCodeSClass);
  end;
  if (IsEnterprise) then begin
    EditField(-300,-21,85,". ",Normal,ExtraCost,true,0);
  end;
  EditField(-125,-41,85,"",ViewOnly,PayVal,true,0);
  if (IsEnterprise) then begin
    EditField(-125,-21,85,"",ViewOnly,BasePayVal,true,0);
  end;
  if (tilenr>1) then begin
    v = 24;
  end else begin
    v = v+40;
  end;
  h=4;
  MatrixBegin(h,v,-50,-50,-,99);
  MatTypedRow(stp);
  MatOverStrike(ovst);
  Flip(0);
  MatCol(t=1,24,".",0,Person,false,UserSClass);
  MatCol(t  ,70,".",0,Comment,false,0);
  if (HasObjects) then begin
    MatCol(t  ,195," .",0,PayMode,false,PMSClass);  
    MatCol(t  ,-380,"",0,Objects,false,ObjSClass);
  end else begin
    MatCol(t  ,-290," .",0,PayMode,false,PMSClass);  
  end;
  Flip(1);
  if (HasModCheck) then begin
    MatCol(t  ,-310,"",0,ChequeNr,false,OwnCheckSClass);
  end;
  MatCol(t  ,-230," .",0,SortCode,false,0);  
  MatCol(t  ,-170,"  ",0,BankAcc,false,0);
  MatCol(t  ,-91,"",0,PayVal,true,0);
  Flip(2);
  MatCol(t=1,-220," ",0,rkPayNumber,false,0);
  InsertRowTest;
  DeleteRowTest;
  EndMatrix;
  vs = 20;
//  v = 18; 
  v = v + 1;
           VTab(-35,v,-16,v+vs,ToolFlip,1,"A");         
  v=v+vs;  VTab(-35,v,-16,v+vs,ToolFlip,2,"B");
//  CheckBox(25,v=-41,0,"O_rdered",OrderedFlag);
//  CheckBox(25,v=-25,0,"OK",DoneFlag);
  if (IsEnterprise or HasMultiCurrency or HasBase2) then begin
    Tile(tilenr,70,false,tilenr,FrRate); tilenr = tilenr + 1;
    vs = 20; h1 = 110; h2 = 295;
    if (HasBase2) then begin
      h1 = h1 + 20;
    end;
    EditField(h1,v=6,50,"",Normal,CurncyCode,false,CurncyCodeSClass);
    if (HasMultiCurrency) then begin
      if (HasBase2) then begin
        EditField(h1,v+vs,50,".  1",Normal,BaseRate1,true,0);
      end else begin
        EditField(h1,v+vs,50,". ",Normal,BaseRate1,true,0);
      end;
      if (HasBase2) then begin  
        EditField(h1,v+(vs*2),50,".  2",Normal,BaseRate2,true,0);  
      end;
      EditField(h2=295,v,50,"",Normal,FrRate,true,0);  
      if (HasBase2) then begin  
        RateField(h3=360,v,50,":",Normal,"ToRateB1",true,h3+60,v+14,".  1",false);  
        RateField(h3,v+=vs,50,":",Normal,"ToRateB2",true,h3+60,v+14,".  2",false);            
      end else begin
        RateField(h3=360,v,50,":",Normal,"ToRateB1",true,h3+60,v+14,". ",false);      
      end;
    end else begin
      EditField(h1,v+=vs,50,".  1",Normal,BaseRate1,true,0);
      EditField(h1,v+=vs,50,".  2",Normal,BaseRate2,true,0);
    end;
  end;
  if (IsEnterprise) then begin
    SpecialMenu("  ",' ',0,"PrintCashInOutPPDsm");
  end;
  if (HasModNL) then begin
    SpecialMenu("  ",'t',1,"OpenTRFromPP");
  end;
  if (IsEnterprise) then begin
    SpecialMenu(". ",' ',3,"BankStPPDsm");
    if (StandardHansa==false) then begin
      SpecialMenu(" ",'e',9,"PrepChequePPDsm");
      SpecialMenu(" ",' ',9,"PrintChequesPPDsm");
    end;
  end;
  SpecialMenu(" ",' ',3,"AvansCreateDsm");// Edit ************************** Friday, 25 September 2015 14:52:17
  SpecMenuGroup("",kSpecMenuGroupTypeExtendedPlusMenu,0); 
  if (HaseMail) then begin
    SpecialMenu(" (-)",'m',12,"CreateMailFromPPDsm"); 
  end;  
  EndWindow;
end;

window APPayHistDClass:1
  wtag("language","RUS"), wtag("product","*"), wtag("productcode","*"), wtag("device","computer")
begin
  real h,h2,h3,v,vs;
  WindowBegin("AP Prepayment",APPayHistDClass,CGview,-);
  SetWRect(20,80,600,260);
  UseView(APPayHistVc);
  vs = 20; h = 100; h2 = h + 200; h3 = h2 + 160;
  EditField(h,v=6,80, "Prepayment No.",Normal,VEPNr,false,0);
  
  EditField(h2,v,80, "File Name",St_i,FileName,false,0);
  EditField(h,v+=vs,80, "Ser No.",Normal,SerNr,false,0);
  EditField(h2,v,80, "Trans. Date",Normal,TransDate,false,0);
  EditField(h,v+=vs,80, "Customer",Normal,VECode,false,0);
  EditField(h2,v,80, ".",Normal,CurncyCode,false,0);

  EditField(h,v+=vs,80, "Cur. Amount",Normal,Val,false,0);
  EditField(h2,v,-40, "Booked Amount",Normal,BookVal,false,0);
  EditField(h,v+=vs,80, "VAT",Normal,VATVal,false,0);
  EditField(h2,v,80, "Booked VAT",Normal,VATBookVal,false,0);
  EditField(h3,v,80, "Bank Cur.",Normal,BankCurncy,false,0);
  EditField(h2,v+=vs,80, "Order No.",Normal,OrderNr,false,0);
  EditField(h3,v,80, "AR A/C",Normal,APAcc,false,0);  
  EndWindow;
end;

window OPPDClass:1
  wtag("language","UKR"), wtag("product","*"), wtag("productcode","*"), wtag("device","computer")
begin
  real h,h2,h3,v,vs;
  WindowBegin("AP Prepayment",OPPDClass,CGview,-);
  SetWRect(20,80,600,460);
  UseView(OPPVc);
  vs = 20; h = 100; h2 = h + 200; h3 = h2 + 160;
  EditField(h,v=6,80, "SerNr",Normal,SerNr,false,0);
  
  EditField(h2,v,80, "PPVal",Normal,PPVal,false,0);
  EditField(h,v+=vs,80, "PayDate",Normal,PayDate,false,0);
  EditField(h2,v,80, "VECode",Normal,VECode,false,0);
  EditField(h,v+=vs,80, "RebDate",Normal,RebDate,false,0);
  EditField(h2,v,80, "VEName",Normal,VEName,false,0);
  
  EditField(h,v+=vs,80, "CurncyCode",Normal,CurncyCode,false,0);
  EditField(h2,v,80, "BookRVal",Normal,BookRVal,false,0);
 	
 	 EditField(h,v+=vs,80, "VATVal",Normal,VATVal,false,0);
  EditField(h2,v,80, "VATCode",Normal,VATCode,false,0);
 	
 	 EditField(h,v+=vs,80, "VATBookVal",Normal,VATBookVal,false,0);
  EditField(h2,v,80, "BankCurncy",Normal,BankCurncy,false,0);
  
  EditField(h,v+=vs,80, "OrderNr",Normal,OrderNr,false,0);
 	
  EndWindow;
end;

window OPPLClass:1
  wtag("language","UKR"), wtag("product","*"), wtag("productcode","*"), wtag("device","computer")
begin
  WindowBegin(" AP",OPPLClass,CGmlist,-);
  SetWRect(20,80,700,355);
  Sizeable(-1,-1,0,0);
  UseView(OPPVc);
  SpawnClass(OPPDClass);
  RecordList(4,17,-21,-39);
  RlColKey(4,1,"SerNr",SerNr,false,SerNr);
  RlCol(90,90,"PPVal",PPVal,false);
  RlColKey(160,160,"PayDate",PayDate,false,PayDate);
  RlCol(-400,-400, "VECode",VECode,true);
  RlCol(-310,-310, "CurncyCodeVc",CurncyCode,true); 
  RlCol(-180,-230, "BookRVal",BookRVal,true);
  SearchField("");
  EndWindow;
end;

window CUDClass:14
  wtag("language","RUS"), wtag("product","*"), wtag("productcode","*"), wtag("device","computer")
begin
  real h,h1,h2,h3,h4,h5,l,v,vm,vm2,vs;
  string 255 label;
  record CUVc CUr;
  Integer wn,tilenr;
  record ModuleBlock Modb;

  BlockLoad(Modb);
  WindowBegin("",CUDClass,CGview,-);
  DynamicWindow;
  SetWRect(20,80,800,441);
  Sizeable(-1,-1,0,0);
  UseView(CUVc);
  FormName(PrintCUD);

  wn = CurWindow;
  if (wn>0) then begin
    if (GetWindowClass(wn)=="CUDClass") then begin
      GetWindowRecord(wn,CUr);
    end;
  end;

  if (HasLocalization("EST,GBR,LVA")) then begin
    ActiveFieldOnNew("Code"); // dont change, otherwise automatic address lookup helper window wont show automatically //wns
                              // this should not be based on localization, but rather on if the
                              // address lookup is enabled, erik
  end else begin
    ActiveFieldOnNew("Name");  
    end;
  if (HasMetroTestFeatures or GUIType!=kGUIMetro) then begin
    CommunicateButton;
  end;
  if (HasJewelleryInterface) then begin
    Tile(0,155,false,"",Code);
  end else begin
    Tile(0,95,false,"",Code);
  end;
  v = 6; h = 130; l=223; vs = 20; h1=410; h2 = 350; h3 = 430; h4 = 580; h5 = 460;
  EditField(h,v ,   95,"",Normal,Code,false,TSerSClass);
  EditField(h1,v,50," ",Normal,CustCat,false,CCatSClass);
  EditField(h,v+=vs,95,"",Normal,SearchKey,false,0);
  EditField(h1,v,50," ",Normal,VECat,false,VGSClass);
  if (HasJewelleryInterface) then begin
    EditField(h,v+=vs,95," 1",Normal,Salutation1,false,0);
    EditField(h1,v,50,"",Normal,ANACode,false,0);
    EditField(h,v+=vs,h1-h+50," 2",Normal,Salutation2,false,0);
    EditField(h,v+=vs,h1-h+50," 3",Normal,Salutation3,false,0);
    EditField(h,v+=vs,h1-h+50,"",Normal,Name,false,0);
  end else begin
    EditField(h,v+=vs,h1-h+50,".",Normal,Name,false,0);
  end;
  CheckBox(h1+80,v=6,0,"",CUType);
  CheckBox(h1+80,v+=16,0,"",VEType);
  CheckBox(h1+80,v+=16,0,"",IsPartner); //Edit***************************Sasha2,10:18 09.12.2015
  if (HasModHotel) then begin
    CheckBox(h1+80,v+=16,0,"",GuestType);
  end;
  if (HasJewelleryInterface) then begin
    CheckBox(h1+80,v+=16,0," .  ",NoLetterPosting);
    CheckBox(h1+80,v+=16,0," .  .",NoMailPosting);
    EditField(h1+120,v+=20,100,"",Normal,SalesMan,false,UserSClass);
  end;
  v=6;
  if (HasModHRM or IsEnterprise) then begin
    CheckBox(h1+180,v,0,"",EmployeeType); v = v + 16;
  end;
  if (StandardHansa==false) then begin
    CheckBox(h1+180,v,0,"",DealerType);
  end;
  CheckBox(h1+180,v+=16,0," ",LeadType);  
//  HalPushButton(h1+170,v=10,h1+170+100,v+20,"CreditInfoCUDsm","Credit Info");
  CheckBox(h1+280,v=6,0,"",BranchType); v = v + 16; //Edit***************************Sasha2,10:10 09.12.2015
  // not to overlap "" checkbox "" checkbox was located in pther place
  //CheckBox(h1+180,v,0,"",IsPartner); //Edit***************************Sasha2,10:18 09.12.2015

//  HalPushButton(h1+170,v=10,h1+170+100,v+20,"CreditInfoCUDsm","");
//  HalPushButton(h1+170,v=10,h1+170+100,v+20,"UpdCustomerAddressCUDsm","Update Address");
    tilenr = 1;
  TileButton(tilenr,""); tilenr = tilenr + 1;
  TileButton(tilenr,""); tilenr = tilenr + 1;
  TileButton(tilenr,""); tilenr = tilenr + 1;
  TileButton(tilenr,""); tilenr = tilenr + 1;
  TileButton(tilenr,""); tilenr = tilenr + 1;
  TileButton(tilenr,""); tilenr = tilenr + 1;
  TileButton(tilenr," "); tilenr = tilenr + 1; 
  if (StandardHansa==false) then begin
    TileButton(tilenr,""); tilenr = tilenr + 1;
  end;
  TileButton(tilenr,""); tilenr = tilenr + 1;
  if (true) then begin//HasModHotel
    TileButton(tilenr,""); tilenr = tilenr + 1;
  end;
  if (StandardHansa==false) then begin
    if (GuiType==kGuiMetro) then begin//UGLY
      TileButton(tilenr,""); tilenr = tilenr + 1;
    end else begin
      TileButton(tilenr,"."); tilenr = tilenr + 1;
    end;
  end;
  TileButton(tilenr,""); tilenr = tilenr + 1;   
  if (CUr.CUType!=0 and HasCharts) then begin
    TileButton(tilenr,""); tilenr = tilenr + 1;
  end;
  tilenr = 1;
  Tile(tilenr,290,true,tilenr,InvAddr0); tilenr = tilenr + 1;
  v=6;
  HalPushButton(h+120,v,h+120+100,v+20,"UpdCustomerAddressCUDsm"," ");
  v=v+10;
  StaticText(h,v+13," ",false);
  label = UserDefined("CUVc","InvAddr0");
  EditField(h,v+=vs,-20,label,Normal,InvAddr0,false,0);
  label = UserDefined("CUVc","InvAddr1");
  EditField(h,v+=vs,-20,label,Normal,InvAddr1,false,0);
  label = UserDefined("CUVc","InvAddr2");
  EditField(h,v+=vs,-20,label,Normal,InvAddr2,false,0);
  label = UserDefined("CUVc","InvAddr3");
  EditField(h,v+=vs,-20,label,Normal,InvAddr3,false,0);
  label = UserDefined("CUVc","InvAddr4");
  EditField(h,v+=vs,-20,label,Normal,InvAddr4,false,0);
  EditField(h,v+=vs,50,"",Normal,CountryCode,false,CountrySClass);
  if (HasLocalization("BRA")) then begin 
    EditField(h2-159,v,214,"",ViewOnly,InvCountryName,false,0);
    v = v + vs;
  end;  
  EditField(h1,v,-20,"",Normal,Department,false,0);
  EditField(h,v+=vs,150,"",Normal,Phone,false,0);
  EditField(h1,v,-20,"",Normal,Fax,false,0);
  EditField(h,v+=vs,150,". ",Normal,AltPhone,false,0);
  EditField(h1,v,-20," .",Normal,Mobile,false,0);
  EditField(h,v+=vs,150,"  Skype",Normal,SkypeName,false,0);
  EditField(h1,v,-20,"SIP",Normal,SIPCode,false,0);
  EditField(h,v+=vs,150," ",Normal,eMail,false,0);
  EditField(h1,v,-20,"",Normal,Extension,false,0);
  EditField(h,v+=vs,150," . ",Normal,Person,false,ContactSClass);
  EditField(h1,v,-20,"-",Normal,wwwAddr,false,0);
  EditField(h,v+=vs,-20,"",Normal,Classification,false,CClassSClass);
  if (HasLocalization("CHN")) then begin
    EditField(h,v+=vs,150,"QQ Account Number",Normal,QQName,false,0);
    EditField(h1,v,-20,"Weibo Account Number",Normal,WeiboName,false,0);
  end;
  RecordList2(10,v+=40,-30,-39,"ContactRelVc");
  RlColKey(4,4,"",ContactCode,false,ActCustContactCode);
  RlCol(55,55,".",ContactTitle,false);
  RlColKey(105,105,"",ContactName,false,ActCustContactName);
  RlCol(235,235,"",ContactPhone,false);
  RlCol(335,335,"",ContactMobile,false);
  RlCol(435,435,"",JobTitle,false);
  RlCol(535,535," ",ContacteMail,false);
//  RlCol(-1,-1,"",Invalid,true);
  Tile(tilenr,240,false,tilenr,DelAddr0); tilenr = tilenr + 1;
  v=6;
  if (HasLocalization("GBR,LVA,EST,SWE")) then begin
    HalPushButton(h+120,v,h+120+100,v+20,"UpdDeliveryAddressCUDsm"," ");
  end;
  v=v+12;
  StaticText(h,v+13," ",false);
  label = UserDefined("CUVc","DelAddr0");
  EditField(h,v+=vs,-20,label,Normal,DelAddr0,false,0);
  label = UserDefined("CUVc","DelAddr1");
  EditField(h,v+=vs,-20,label,Normal,DelAddr1,false,0);
  label = UserDefined("CUVc","DelAddr2");
  EditField(h,v+=vs,-20,label,Normal,DelAddr2,false,0);
  label = UserDefined("CUVc","DelAddr3");
  EditField(h,v+=vs,-20,label,Normal,DelAddr3,false,0);
  label = UserDefined("CUVc","DelAddr4");
  EditField(h,v+=vs,-20,label,Normal,DelAddr4,false,0);
  EditField(h,v+=vs,50,"",Normal,DelCountry,false,CountrySClass);
  if (HasLocalization("BRA")) then begin 
    EditField(h2-159,v,203,"",ViewOnly,DelCountryName,false,0);
    v = v + vs;
  end;    
  EditField(h2+50,v,-20,"  ",Normal,OrderComment,false,0);
  EditField(h,v+=vs,120," ",Normal,FreightNr,false,0);
  EditField(h2+50,v,70,"",Normal,Region,false,RegionSClass);
  EditField(h,vm=(v+=vs),120," . (.)",Normal,ShipDeal,false,ShipDealSClass);
  EditField(h2+50,v,70," . (.)",Normal,VEShipDeal,false,ShipDealSClass);
  EditField(h,v+=vs,120," . (.)",Normal,ShipMode,false,DMSClass);
  EditField(h2+50,v,70," . (.)",Normal,VEShipMode,false,DMSClass);
  EditField(h,v+=vs,120,"",Normal,Sorting,false,DelRouteSClass);
/* these fields were used for securities trading, this module doesnt exist in hansa anymore */
/* Two of these fields are used in Russia and Ukraine */
//  EditField(h,vm=(v+=vs),120,"Securities Acc.",Normal,SecAccount,false,0);
//  EditField(h,v+=vs,120,"Bank Account",Normal,BankAccount,false,0);//xx
//  EditField(h,v+=vs,120,"Account Operator",Normal,AccOperator,false,BankSClass);//xx
//##  EditField(h,v+=vs ,70, "Com. Matrix",Normal,ComCode,false,ComSClass);
  ButtonFrame(h5+30,v=vm,150,2,"   ");
  RadioButton(h5+30,v,0,0,"",DeliveryBasedOn);
  RadioButton(h5+30,v+=16,1,0,"",DeliveryBasedOn);
  Tile(tilenr,190,false,tilenr,PayDeal); tilenr = tilenr + 1;
  EditField(h,v=6,25," . (.)",Normal,PayDeal,false,PDSClass);
  EditField(h,v+=vs,80,"  (.)",Normal,CreditLimit,true,0);
  EditField(h,v+=vs,80," .(.)  .",Normal,CreditLimitDays,false,0);
  EditField(h,v+=vs,80,"   ",Normal,TheirCode,false,0);
  EditField(h,v+=vs,80,"",Normal,InvoiceToCode,false,CUSClass);
//  EditField(h,v+=vs,80,"",Normal,ANACode,false,0);
  EditField(h,v+=2*vs,80," ",Normal,IntRate,false,0);
  EditField(h,v+=vs,80," ",ViewOnly,DateCreated,false,0);
  EditField(h,v+=vs,80," ",Normal,MainPartner,false,CUSClass);
  EditField(h2,v=6,25," . (.)",Normal,VEPayDeal,false,PDSClass);
  EditField(h2,v+=vs,80," . (.)",Normal,VECreditLimit,true,0);
  EditField(h2,v+=vs,80," .(.)  .",Normal,VECreditLimitDays,false,0);
  EditField(h2,v+=vs,80,"   -",Normal,VECustID,false,0);
  EditField(h2,v+=vs,80,"",Normal,VEInvoiceToCode,false,VESClass);
  EditField(h2,v+=vs,80,"",Normal,VEFactoring,false,VESClass);
  EditField(h2,v+=vs,80,".  ",Normal,MinOrdSum,false,0);
  EditField(h2,v+=vs,80,"",Normal,RefStr,false,0);
  EditField(h2,v+=vs,80,". ",Normal,DateChanged,false,0);
  CheckBox(h5,v=12,0,"",blockedFlag);
  CheckBox(h5,v+=16,0,"",OnHoldFlag);
  CheckBox(h5,v+=16,0,"",RemndrFlag);
//  CheckBox(h5,v+=16,0,"Collection",ColectionFlag);
  CheckBox(h5,v+=16,0,"",InterestFlag);
  CheckBox(h5,v+=16,0," ",OnAccount);
  if (StandardHansa==false) then begin
  	CheckBox(h5,v+=16,0," ",NoFactoringFlag);
  	CheckBox(h5,v+=16,0," .",NoTax1);
  	CheckBox(h5,v+=16,0," . .",GroupInv);
  	CheckBox(h5,v+=16,0," ",SelfBilling);
  	CheckBox(h4,v=12,0," EGO",EGOFlag);
  	CheckBox(h4,v+=16,0," EDI",EDIFlag);
  	CheckBox(h4,v+=16,0,"  ",AllowLogin);
//  CheckBox(h4,v+=16,0,"Allow FTP Access",FTPLogin);
  	CheckBox(h4,v+=16,0,"  /",FiscalFlag);
  	CheckBox(h4,v+=16,0," .  ",NoLetterPosting);
  end else begin
    CheckBox(h4,v=12,0," .  ",NoLetterPosting);
  end;
  CheckBox(h4,v+=16,0," .  . -",NoMailPosting);
  CheckBox(h4,v+=16,0," .. .",NoRepa);
  if (HasLocalization("GBR,LTU,POL")) then begin
    CheckBox(h4,v+=16,0,"Reverse #VAT#",RvrsVAT); 
  end;
  if (HasExtTax) then begin
    CheckBox(h4,v+=16,0," . ",NoTax2);
  end;
  if (HasLocalization("SWE")) then begin
    CheckBox(h4,v+=16,0,"F-Tax",FTax);
  end;
  Tile(tilenr,110,false,tilenr,PLCode); tilenr = tilenr + 1;
  EditField(h,v=6,  80," (.)",Normal,CurncyCode,false,CurncyCodeSClass);
  EditField(h,v+=vs ,80, "",Normal,PLCode,false,PLDefSClass);
  EditField(h,v+=vs ,80, " ",Normal,RebCode,false,RebSClass);
  if (HasSalesman or HasSalesmanBonus) then begin
    EditField(h,v+=vs,80,"",Normal,SalesMan,false,UserSClass);
  end;
  EditField(h,v+=vs,80,"  .",Normal,CompItemCode,false,CompItemSClass);
  EditField(h2,v=6,80," (.)",Normal,VECurncyCode,false,CurncyCodeSClass);
  EditField(h2,v+=2*vs ,80, " ",Normal,VERebCode,false,RebSClass);
  if (HasSalesGroup) then begin
    EditField(h2,v+=vs,80," ",Normal,SalesGroup,false,SalesGroupSClass);
  end;
  ButtonFrame(h5,v=24,150,3,"  ");
  RadioButton(h5,v,0,0,"  ",PriceBasedOn);
  RadioButton(h5,v+=16,1,0,"  . ",PriceBasedOn);
  RadioButton(h5,v+=16,2,0,"  ",PriceBasedOn);
  Tile(tilenr,180,false,tilenr,Comment); tilenr = tilenr + 1;
  EditField(h,v=6,-20,"- (. .)",Normal,Comment,false,0); // Edit ************************** Tuesday, 16 February 2016 14:29:28
  EditField(h,v+=vs,-20,". (.)",Normal,WarnText1,false,0);
  EditField(h,v+=vs,-20,". (.)",Normal,VEWarnText1,false,0);
  EditField(h,v+=vs,120,"",Normal,VATNr,false,0);
  EditField(h2-20,v,120,"",Normal,RegNr1,false,0);
  ButtonFrame(h5+30,v+18,143,1,"");
  RadioButton(h5+30,v+18,0,0,"",CustType);
  RadioButton(h5+110,v+18,1,0,"",CustType);
  v = v + vs;
  EditField(h,v,120,"   ",Normal,CountryVATNr,false,0); 
  EditField(h2-20,v,120,". ",Normal,RegNr2,false,RegDefSClass);
  EditField(h,v+=vs,120," . ",Normal,VATNrCheckDate,false,PasteCurDate);
  EditField(h2-20,v,120,"",Normal,RecipientGLN,false,0);
  if (HasLocalization("HRV,SVN")) then begin 
    EditField(h,v+=vs,120,". ",Normal,LegalForm,false,CULegalFormSClass);
  end;
  EditField(h,v+=vs,20,"  (.)",Normal,VATCode,false,VATCodeSClass);
  if (HasTaxMatrix) then begin
    EditField(h+135,v,50,". .(.)",Normal,TaxTemplateCode,false,TaxTemplateSClass);
  end;
  HalPushButton(h2-10,v,h2-10+100,v+20,"UpdCustomerAddressCUDsm"," ");
  EditField(h,v+=vs,20,"  ",Normal,VEVATCode,false,VATCodeSClass);
  if (HasTaxMatrix) then begin
    EditField(h+135,v,50,". .(.) ",Normal,VETaxTemplateCode,false,TaxTemplateSClass);
  end;
  EditField(h,v+=vs,50,"",Normal,LangCode,false,LangSClass);
  if (HasLocalization("ARG")) then begin
    ButtonFrame(h+125,v+=20,177,4," ");
    RadioButton(h+125,v,2,0,"",TaxCondition);
    RadioButton(h+125,v+=16,0,0,"",TaxCondition);
    RadioButton(h+125,v+=16,1,0," ",TaxCondition);
    RadioButton(h+125,v+=16,3,0,"  ",TaxCondition); 
  end;  
  if (HasLocalization("BRA")) then begin  
    EditField(h,v+=vs,120,"SUFRAMA Reg. No.",Normal,SuframaRegNr,false,0);
  end;
//  EditField(h,v+=vs,120,"Channel",Normal,WebServiceChannel,false,SetSClass);
  v = 130;
  v = VATZoneButtonsLabelsrus(h5+30,v,170,16);
  Tile(tilenr,130,false,tilenr,AccAP); tilenr = tilenr + 1;
  EditField(h,v=6,80," ",Normal,AccAP,false,AccSClass);
  EditField(h,v+=vs,80," ",Normal,AccCost,false,AccSClass);
  EditField(h,v+=vs,80," ",Normal,OnAccAccAP,false,AccSClass);
  EditField(h,v+=vs,120," (.)",Normal,Objects,false,ObjSClass);
  EditField(h,v+=vs,120," (.)",Normal,VEObjects,false,ObjSClass);  
  EditField(h,v+=vs,50," ",Normal,PaymentCode,false,PaymentCodeSClass);
  if (HasLocalization("HRV,HUN,POL,SRB,SLV,SVN")) then begin
  ButtonFrame(h,v+=40,150,3,"    (.)");  
  RadioButton(h,v,0,0,"",IPBookVAT);  
  RadioButton(h,v+=16,1,0," ",IPBookVAT);  
  RadioButton(h,v+=16,2,0,"  ",IPBookVAT);  
  end;
  EditField(h1,v=6,200,"IBAN ",Normal,IBANCode,false,0);  
  EditField(h1,v+=vs,-20," ",Normal,AccOperator,false,BankSClass);  
  EditField(h1,v+=vs,-20,"/",Normal,BankAccount,false,0);  
  EditField(h1,v+=vs,-20,"/ 2",Normal,Bank,false,0);  
  EditField(h1,v+=vs,80," -",Normal,SortCode,false,0);
  if (HasWithholdingTax) then begin
  	EditField(h1,v+=vs,120," . .",Normal,WithPayMode,false,PMSClass);
  end;
  if (HasLocalization("HRV,HUN,POL,SRB,SLV,SVN")) then begin
    ButtonFrame(h1,v+=60,150,3,"    ()");
  RadioButton(h1,v,0,0,"",OPBookVAT);  
  RadioButton(h1,v+=16,1,0," ",OPBookVAT);  
  RadioButton(h1,v+=16,2,0," ",OPBookVAT);  
  end;  
  Tile(tilenr,170,false,tilenr,ANACode); tilenr = tilenr + 1;
  StaticText(h,v=20," /",true); 
  EditField(h,vm=(v+=10),80," . /",Normal,ANACode,false,0); 
  EditField(h,v+=vs,80,".  . /",Normal,eInvAlternativeAccount,false,0); 

  ButtonFrame(h,v+=40,163,1,"  :");
  RadioButton(h,v,kEInvoiceRcvPreferenceDefault,0," ",eInvRcvPref); 
  RadioButton(h,v+=16,kEInvoiceRcvPreferenceElectronic,0," /",eInvRcvPref); 
  if (HasLocalization("FIN,NOR,SWE")) then begin
    RadioButton(h,v+=16,kEInvoiceRcvPreferenceEMail,0,".",eInvRcvPref); 
  end else begin
    RadioButton(h,v+=16,kEInvoiceRcvPreferencePaper,0," ",eInvRcvPref); 
  end;  
  if (Modb.InterCompany) then begin
    RadioButton(h,v+=16,kEInvoiceRcvPreferenceInternal,0,"",eInvRcvPref); 
    EditField(h+130,v,30,"",Normal,eInvRcvToCompanyCode,false,Companies2SClass);
  end;
  RadioButton(h,v+=16,kEInvoiceRcvPreferenceNone,0,"  /",eInvRcvPref); 
  EndFrame;
  if (HasLocalization("EST")) then begin
    ButtonFrame(h,v+=40,143,1," "); 
    RadioButton(h,v,kEInvoiceRcvPreferenceDefault,0," ",eInvAltRcvPref); 
    RadioButton(h,v+=16,kEInvoiceRcvPreferenceElectronic,0," /",eInvAltRcvPref); 
    RadioButton(h,v+=16,kEInvoiceRcvPreferencePaper,0," ",eInvAltRcvPref); 
    RadioButton(h,v+=16,kEInvoiceRcvPreferenceEMail,0,". ",eInvAltRcvPref); 
    RadioButton(h,v+=16,kEInvoiceRcvPreferenceInternetBank,0,"-",eInvAltRcvPref); 
    EndFrame;
  end;
  vm2 = v;

  CheckBox(h1,v=vm,0,"   -",eInvStop); 
  if (HasLocalization("FIN")==false) then begin
    CheckBox(h1,v+=16,0," -   pdf",eInvAttachPDF); 
  ButtonFrame(h1,v+=44,143,3,"   -");
  end else begin
    ButtonFrame(h1,v+=60,143,3,"   -"); 
  end;
  RadioButton(h1,v,2,0," ",eInvPostage); 
  RadioButton(h1,v+=16,0,0,"",eInvPostage);
  RadioButton(h1,v+=16,1,0,"",eInvPostage); 
  if (HasLocalization("EST")) then begin
    CheckBox(h1,v+=84,0,"Electronic Invoices in short notes",eInvShortNote); 
  end;
  StaticText(h,v=(vm2+40),"E-Purchase Orders",true); 
  ButtonFrame(h,v+=20,163,3,"Rcv. Preference");
  RadioButton(h,v,kPORcvPreferenceNone,0,"None",ePORcvPref); 
  RadioButton(h,v+=16,kPORcvPreferenceDefault,0," ",ePORcvPref); 
  if (Modb.InterCompany) then begin
  RadioButton(h,v+=16,kPORcvPreferenceInternal,0,"Internal",ePORcvPref); 
  EditField(h+130,v,30,"",Normal,ePORcvToCompanyCode,false,Companies2SClass);
  end;
  EndFrame;

  if (StandardHansa==false) then begin
  	Tile(tilenr,70,false,tilenr,WebConf); tilenr = tilenr + 1;
  	EditField(h,vm=(v=6),120,"-",Normal,WebConf,true,0);
  	EditField(h1,v,150," -",Normal,MainDispGroup,false,WebNGProductCatSClass);
  	EditField(h,v+=vs,120,"  Web",Normal,WebStartPage,false,0);
  	EditField(h1,v,150,"  WEB",Normal,WebDisplays,false,WebDisplaySClass);
  	EditField(h,v+=vs,120," ",Normal,FreightCode,false,WebFreightSClass);
    EditField(h1,v,150," -",Normal,WebOTCode,false,OTSClass); 
  end;
  Tile(tilenr,170,false,tilenr,Comment0); tilenr = tilenr + 1;
  EditField(h,v=6,-20,"",Normal,Comment0,false,0);
  EditField(h,v+=vs,-20,"",Normal,Comment1,false,0);
  EditField(h,v+=vs,-20,"",Normal,Comment2,false,0);
  EditField(h,v+=vs,-20,"",Normal,Title,false,CourtesyTitlesSClass);
  EditField(h,v+=vs,-20,". ",Normal,JobDesc,false,JobTitleSClass);
  EditField(h,v+=vs,-20," 1",Normal,Salutation1,false,0);
  EditField(h,v+=vs,-20," 2",Normal,Salutation2,false,0);
  EditField(h,v+=vs,-20," 3",Normal,Salutation3,false,0);
  if (true) then begin//HasModHotel
    Tile(tilenr,250,false,tilenr,DocType); tilenr = tilenr + 1;
    EditField(h,v=6,100," ",Normal,DocType,false,CUDocTypeSClass);
    EditField(h2,v,-20," ",Normal,PassportNr,false,0);
    EditField(h2,v+=vs,-20,"  ",Normal,NameinDocument,false,0);         
//  EditFieldTL(h,vm=(v+=20),100,"Nationality",M4StrSet,Normal,423,Nationality,false,StrSetSClass);
  	EditField(h,vm=(v+=20),100,"",Normal,Nationality,false,CountrySClass);
    EditField(h,v+=20,100," ",Normal,BirthDate,false,PasteCurDate);
  	EditField(h,v+=20,100," ",Normal,BirthPlace,false,0);
    EditField(h,v+=20,100," ",Normal,BirthCountry,false,CountrySClass);
  	EditField(h,v+=20,100,"",Normal,Profesion,false,0);
  	EditField(h,v+=20,100,"",Normal,Newspaper,false,NewspaperSClass);
  	EditField(h,v+=20,100,"",Normal,Passphrase,false,0);
  	EditField(h,v+=vs,100," ",Normal,TourOperator,false,CUSClass);
  	EditField(h,v+=vs,100,"",Normal,Agent,false,CUSClass);
  	EditField(h,v+=vs,100," ",Normal,DefGuestPayMode,false,PMSClass);
  	EditField(h,v+=vs,100," ",Normal,BookOrigin,false,BookOrgSClass);
  	EditField(h,v+=vs,300,"  ",Normal,DietRemarks,false,0);
  	EditField(h,v+=vs,300,"  .",Normal,RequirementRemarks,false,0);

  	ButtonFrame(h2,v=vm+20,100,2,"");
  	RadioButton(h2,v,0,0,"",Gender);
  	RadioButton(h2,v+=17,1,0,"",Gender);

  	CheckBox(h2+130,v=vm+20,0,"",Smoking);
  	CheckBox(h2+130,v+=17,0,"  ",Blacklist);

  	ButtonFrame(h2,vm=(v+=40),100,4," ");
	RadioButton(h2,v,0,0," ",MarStatus);
  	RadioButton(h2,v+=17,1,0,"",MarStatus);
  	RadioButton(h2,v+=17,2,0," ",MarStatus);
  	RadioButton(h2,v+=17,3,0,"a/-",MarStatus);

  	ButtonFrame(h2=h2+130,v=vm,100,3,"");
  	RadioButton(h2,v,1,0,"",AgeStatus);
  	RadioButton(h2,v+=17,0,0,"",AgeStatus);
  	RadioButton(h2,v+=17,2,0,"",AgeStatus);
  end;

  if (StandardHansa==false) then begin
    Tile(tilenr,270,false,tilenr,UserStr1); tilenr = tilenr + 1;
    v=6;h=180;
    label = UserDefined("CUVc","UserStr1");
    if (nonblank(label)) then begin
      EditField(h,v,-20,label,Normal,UserStr1,false,0);
    end;
    label = UserDefined("CUVc","UserStr2");
    if (nonblank(label)) then begin
      EditField(h,v+=vs,-20,label,Normal,UserStr2,false,0);
    end;
    label = UserDefined("CUVc","UserStr3");
    if (nonblank(label)) then begin
      EditField(h,v+=vs,-20,label,Normal,UserStr3,false,0);
    end;
    label = UserDefined("CUVc","UserStr4");
    if (nonblank(label)) then begin
      EditField(h,v+=vs,-20,label,Normal,UserStr4,false,0);
    end;
    label = UserDefined("CUVc","UserStr5");
    if (nonblank(label)) then begin
      EditField(h,v+=vs,-20,label,Normal,UserStr5,false,0);
    end;
    label = UserDefined("CUVc","UserVal1");
    if (nonblank(label)) then begin
      EditField(h,v+=vs,-20,label,Normal,UserVal1,false,0);
    end;
    label = UserDefined("CUVc","UserVal2");
    if (nonblank(label)) then begin
      EditField(h,v+=vs,-20,label,Normal,UserVal2,false,0);
    end;
    label = UserDefined("CUVc","UserVal3");
    if (nonblank(label)) then begin
      EditField(h,v+=vs,-20,label,Normal,UserVal3,false,0);
    end;
    label = UserDefined("CUVc","UserDate1");
    if (nonblank(label)) then begin
      EditField(h,v+=vs,80,label,Normal,UserDate1,false,PasteCurDate);
    end;
    label = UserDefined("CUVc","UserDate2");
    if (nonblank(label)) then begin
      EditField(h,v+=vs,80,label,Normal,UserDate2,false,PasteCurDate);
    end;
    label = UserDefined("CUVc","UserDate3");
    if (nonblank(label)) then begin
      EditField(h,v+=vs,80,label,Normal,UserDate3,false,PasteCurDate);
    end;

    EditField(h,v+=vs,-20," ",Normal,AddressBooks,false,0);
  end;

  Tile(tilenr,500,false,tilenr,Math2); tilenr = tilenr + 1;
  CheckBox(50,v=6,0,"HTML",HtmlFlag); 
  StaticText(50,v+=30,"",true);
  TextField(60,v-5,-20,370,Math2,0);
  if (CUr.CUType!=0 and HasCharts) then begin
    Tile(tilenr,400,false,tilenr,-); tilenr = tilenr + 1;
    ChartArea(10,6,-10,390,"$CUDCLass_BIChart");
  end;

  if (GuiType==kGuiMetro) then begin // Temporarily disabled on Windows 8
    if (UserCanReport("CustPSRn","",true) and HasCustomerStatusReport) then begin
      SpecialMenu("  ",'e',0,"CUStatusCUDsm");
    end;
    if (UserCanReport("VEPSRn","",true)) then begin
      SpecialMenu(" ",'u',4,"VEStatusVEDsm");
    end;
    SpecialMenu("  ",' ',1,"AddContactCUDsm");
    SpecialMenu(" ",' ',1,"NewContactCUDsm");
    SpecialMenu(" ",'c',2,"NewActCUDsm");
  end else begin
    if (UserCanReport("CustPSRn","",true) and HasCustomerStatusReport) then begin
    SpecialMenu("  ",'e',0,"CUStatusCUDsm");
  end;
  if (UserCanReport("VEPSRn","",true)) then begin
    SpecialMenu(" ",'u',4,"VEStatusVEDsm");
  end;
    SpecialMenu("  ",' ',1,"AddContactCUDsm");
    SpecialMenu("  ",' ',1,"DelContactCUDsm");
    SpecialMenu("   ",' ',1,"EditContactCUDsm");
  SpecialMenu("  ",' ',6,"UpdContactAddrCUDsm");
    if (HasLocalization("ARG")) then begin
      SpecialMenu("Open Regional Perceptions",' ',1,"RPCUTaxDsm"); 
    end;
    if (HasLocalization("ARG,BRA,ITA,KEN,MEX,PRT,SGP,ZAF")) then begin
      SpecialMenu("Open #Supplier# Withholdings",' ',1,"WHVEDsm"); 
    end; //EMZ
  if (GuiType==kGuiCocoa) then begin
    SpecialMenu("   ",' ',7,"CopyToLocalAddressBookDsm");
  end;
  if (GuiType==kGuiiPhone) then begin
    SpecialMenu(" ",' ',1,"ChangePasswdCUDsm");
  end;
    SpecMenuGroup("",kSpecMenuGroupTypeExtendedPlusMenu,0); 
//    SpecialMenu("",'c',2,"NewActCUDsm");
    SpecialMenu("",' ',1,"NewContactCUDsm"); 
    if (StandardHansa==false) then begin
      SpecialMenu(" . ",'m',5,"NewMailCUDsm");
    end;
    SpecialMenu(" ",' ',1,"CreateObjectCUDsm");
    SpecialMenu("   ",' ',3,"RandomPassMailCUDsm");
  end;
  EndWindow;
end;

window USDClass:5
  wtag("language","RUS"), wtag("product","*"), wtag("productcode","*"), wtag("device","computer")
begin
  real h,h1,h2,h3,v,vm,vs,tilenr;
  WindowBegin("",USDClass,CGview,UserView);
  SetWRect(64,80,509,380);
  Sizeable(-1,-1,0,0);
  UseView(UserVc);
  Tile(0,70,false,"",Code);
  vs = 20; h=150; h2 = 290; h3 = 350;
  EditField(h,v=6, 55,"",St_i,Code,false,0);
  EditField(h,v+=vs,300,"",Normal,Name,false,0);
  if (DisplayAdditionalFields) then begin
    EditField(h,v+=vs,100,"Expires",ViewOnly,ExpiryDate,true,0);
  end;
  tilenr = 1;
  TileButton(tilenr,"");  tilenr = tilenr + 1; // Not Found  
  TileButton(tilenr,". ");  tilenr = tilenr + 1; // Not Found  
  TileButton(tilenr,"");  tilenr = tilenr + 1; // Not Found  
  TileButton(tilenr,"");  tilenr = tilenr + 1; // Not Found  
  if (StandardHansa==false) then begin
    TileButton(tilenr," ");  tilenr = tilenr + 1; // Not Found  
    TileButton(tilenr,"");  tilenr = tilenr + 1; // Not Found  
    TileButton(tilenr," ");  tilenr = tilenr + 1; // Not Found  
  end;
  TileButton(tilenr,"  ");  tilenr = tilenr + 1; // Not Found  
  if (HasSIPServerConnection) then begin
  TileButton(tilenr,"Asterisk");  tilenr = tilenr + 1; 
  end;
  CheckBox(h2,6,0,"",Closed);
  CheckBox(h2+100,6,0," ",Unlicensed);         
  if (IsCloudControllerClient) then begin // Cloud Controller Specific
    CheckBox(h2+200,6,0,"SSH Closed",SSHClosed); 
  end;
  tilenr = 1;
  Tile(tilenr,210,false,tilenr,AccessGroup);  tilenr = tilenr + 1;
  EditField(h,v=6,300," ",Normal,AccessGroup,false,AccessSClass);
  EditField(h,v+=vs,100,".  ",Normal,StartLevel,false,SetSClass);
  if (HasSalesGroup) then begin
    EditField(h,v+=vs,100," ",Normal,OneFunction,false,OneFunctionSClass);
    EditField(h,v+=vs,100,"  ",Normal,SalesGroup,false,SalesGroupSClass);
  end;
  EditField(h,v+=vs,100,"",Normal,LangCode,false,LangSClass);
  if (StandardHansa==false) then begin
    EditField(h,v+=vs,100," ",Normal,CanUseOS,false,SetSClass);
  end;
  EditField(h,v+=vs,100," ",Normal,CustCode,false,ContactCUSClass);
  if (IsCloudControllerClient) then begin // Cloud Controller Specific
    EditField(h,v+=vs,100,"SSH  ",Normal,SSHUsername,false,0);  
  end;
//  EditField(h,v+=vs,100,"Discount Password",Normal,OldPassWord,false,0);
  if (StandardHansa==false) then begin
    ButtonFrame(h2,v=44,165,3," ");
    RadioButton(h2,v,kLimitedAccessNoLimitation,0," ",limitedAccess);
    RadioButton(h2,v+=16,kLimitedAccessGroupOnly,0," ",limitedAccess);
    RadioButton(h2,v+=16,kLimitedAccessUserOnly,0," ",limitedAccess);
  end;
if (HansaWorld) then begin
  ButtonFrame(h2,v+=40,195,0," ");
  RadioButton(h2,v,0,kTypeOfUserNamed,"",TypeOfUser);
  RadioButton(h2,v+=16,kTypeOfUserConcurrent,0,"",TypeOfUser);
//  RadioButton(h2,v+=16,kTypeOfUserBusinessCommunicator,0,"Business Communicator (named)",TypeOfUser);  
  RadioButton(h2,v+=16,kTypeOfUserTimekeeper,0," ",TypeOfUser);
  RadioButton(h2,v+=16,kTypeOfUserPOS,0," POS",TypeOfUser); 
  EndFrame;
  CheckBox(h2,v+=25,0,"    ",PasswordNeverExpires);
  CheckBox(h2,v+=25,0,"  ",InTasksQueue); //Edit***************************Sasha2,16:08 23.05.2017
  if (!blankUUID(GetServerUUIDRemote)) then begin
  CheckBox(h2,v+=16,0,"  ",AdminFlag);  
  end;
end;
  Pict_Field(-175,8,-5,178,"");
  if (GuiType==kGuiCocoa) then begin
    PushButton(-160,182,-80,202,ToolImagePicker,". ");
  end;
//  CheckBox(h2,v+=25,0,"Allow FTP Access",FTPLogin);
//  CheckBox(h2,v+=vs,0,"Only Voice Login",OnlyVoiceLogin); // No code for this
  Tile(tilenr,150,false,tilenr,LastOrdNr);  tilenr = tilenr + 1;
  EditField(h,vm=(v=6),65,"  .",Normal,LastOrdNr,false,0);
  EditField(h,v+=vs,65," ",Normal,LastShipNr,false,0);
  EditField(h,v+=vs,65," / .",Normal,LastInvNr,false,0);
  EditField(h,v+=vs,65," ",Normal,LastPurNr,false,0);
  EditField(h,v+=vs,65," . .",Normal,LastCLInNr,false,0);
  EditField(h,v+=vs,65," /  .",Normal,LastIVCashNr,false,0);
  if (StandardHansa==false) then begin
    EditField(h,v+=vs,65," ",Normal,LastRestAccNr,false,0);
  end;
//  EditField(h,v+=vs,100,"Official Inv. No.",Normal,LastOfficialSerNr,false,0);
  EditField(h3,v=vm,65,"  .",Normal,LastPayNr,false,0);
  EditField(h3,v+=vs,65,"  .",Normal,LastTRNr,false,0);
  EditField(h3,v+=vs,65," / .",Normal,LastVINr,false,0);
  EditField(h3,v+=vs,65,"  .",Normal,LastOPNr,false,0);
  EditField(h3,v+=vs,65,"  .",Normal,LastPONr,false,0);
  EditField(h3,v+=vs,65," . .",Normal,LastCLOutNr,false,0);
  EditField(h3,v+=vs,120,". ",Normal,IDCode,false,0);
  Tile(tilenr,170,false,tilenr,Bonus);  tilenr = tilenr + 1;
  EditField(h,vm=(v=6),65,"",Normal,Bonus,true,0);
  EditField(h3,v,120,"",Normal,CurOurContact,false,0);
  if (StandardHansa==false) then begin
    EditField(h3+260,v,-20,". ",Normal,MinPLCode,false,PLDefSClass);
  end;
  EditField(h,v+=vs,65,"",Normal,Location,false,LocationSClass);
  EditField(h3,v,120,"",Normal,Department,false,DepSClass);
  EditField(h,v+=vs,65," ",Normal,ThroughLocation,false,LocationSClass);	//Edit----------------------Dima  10.12.2015
  if (StandardHansa==false) then begin
    EditField(h,v+=vs,65," ",Normal,ServLocation,false,LocationSClass);
    EditField(h3,v,120," 1",Normal,Phone1,false,0);
    EditField(h,v+=vs,65," . ",Normal,ReservLocation,false,LocationSClass);
  end else begin
    EditField(h,v+=vs,120," 1",Normal,Phone1,false,0);   // From dict
  end;
  EditField(h3,v,120," 2",Normal,Phone2,false,0);
  if (StandardHansa==false) then begin
    EditField(h,v+=vs,-20," . ",Normal,ReservLocAccess,false,ReservLocAccessSClass);
  end;
  EditField(h,v+=vs,-20," ",Normal,emailAddr,false,0);
  EditField(h,v+=vs,-20," (. )",Normal,LoginEmailAddr,false,0); 
  EditField(h,v+=vs,-20,"",Normal,Spec,false,0);
  EditField(h,v+=vs,-20,"",Normal,Comment,false,0);
  EditField(h,v+=vs,40,"",Normal,ServDays,false,0); //Edit-------------------Vitalii 13:27 26.08.2016
  StaticText(h+45,v+12,"     ()",false); //Edit-------------------Vitalii 13:27 26.08.2016
//  EditField(h,v+=vs,65,"Expense A/C",Normal,CostAcc,false,AccSClass);
  Tile(tilenr,50,false,tilenr,PersAcc);  tilenr = tilenr + 1;
  EditField(h,vm=(v=6),65,"",Normal,PersAcc,false,AccSClass);
  EditField(h3,v,120,"",Normal,PersObjx,false,ObjSClass);
  EditField(h,v+=vs,65," .",Normal,SortCode,false,0);  
  EditField(h3,v,120,". ",Normal,BankAcc,false,0);  
  EditField(h3,v+=vs,-20,"Bank Name",Normal,BankName,false,BankSClass);  
//  EditField(h,v+=vs,65,"Expense A/C",Normal,CostAcc,false,AccSClass);
  if (StandardHansa==false) then begin
    Tile(tilenr,170,true,tilenr,JobGroup);  tilenr = tilenr + 1;
    EditField(h,vm=(v=6),55," ",Normal,JobGroup,false,EGSClass);
    EditField(h,v+=vs,100," ",Normal,Job,false,0);
    EditField(h,v+=vs,80,"  ",Normal,CostPrHour,false,0);
    EditField(h,vm=(v+=vs),80,"  ",Normal,PricePrHour,false,0);
    EnterSkip(Math);
    CheckBox(h2,v=20,0,"   ",DisAllowOther);
  //  CheckBox(h2,v,0,"Limited Access",limitedAccess);
    v = v+50;
    MatrixBegin(h-50,v=(vm+40),h+350,-7,-,99);
    MatCol(1,24,"",0,Code,false,0);
    MatCol(1,110,"",0,PRCode,false,PRSClass);
    MatCol(1,200,"",0,Comment,false,0);
    EndMatrix;
    Tile(tilenr,30,false,tilenr,WebConf);  tilenr = tilenr + 1;
    EditField(h,vm=(v=6),65,"-",Normal,WebConf,true,0);
    EditField(h3,v,65,"  Web",Normal,WebStartPage,false,0);
    Tile(tilenr,50,false,tilenr,Supervisor);  tilenr = tilenr + 1;
    v = 6;
    EditField(h,vm=v,80,"",Normal,Supervisor,false,UserSClass);
    EditField(h,v+=20,80," ",ViewOnly,DateCreated,false,0);
    CheckBox(h2,v=vm,0,"  ",ForceTimeEntry);
  end;
  Tile(tilenr,210,false,tilenr,LeadingZDay);  tilenr = tilenr + 1;
  h = 70; h1 = h + 210; h2 = h + 330;

  if (GuiType==kGuiCocoa) then begin
    CheckBox(h,v,0,"  ",UserEditCtlf);
  end else begin
    StaticText(190,v+=11," ",true);
    DropDownMenu(200,v=6,282,"WindowType",320);
    CheckBox(h,v+=20,0,"  ",UserEditCtlf);
  end;
  ButtonFrame(h,vm=(v+=42),200,5," ");
  RadioButton(h,v,0,0,", , ",DateOrder);
  RadioButton(h,v+=16,1,0,", , ",DateOrder);
  RadioButton(h,v+=16,2,0,", , ",DateOrder);
  if (StandardHansa==false and IsSberbankProduct==false) then begin
    RadioButton(h,v+=16,m4_hijri,0,"Hijri",DateOrder); // We have some enum already in BCD that goes from 0 to 5..  
    RadioButton(h,v+=16,m4_persian_date,0,"Persian",DateOrder);  
  end;
  EndFrame;
  CheckBox(h,v+=24,0,"  ",LeadingZDay);
  CheckBox(h1,v,0,"  ",thousSepf);
  CheckBox(h,v+=16,0,"  ",LeadingZMonth);
  CheckBox(h,v+=16,0,"  ",LeadingCentury);
  EditField(h2,v=vm,20," ",Normal,DateSep,false,0);
  EditField(h2,v+=20,20," ",Normal,DecimalPt,false,0);
  EditField(h2,v+=20,20," ",Normal,ThousandSep,false,0);
  if (HasSIPServerConnection) then begin
  Tile(tilenr,210,false,tilenr,AstPBXConnection);  tilenr = tilenr + 1;
  h=150;
    CheckBox(h-22,v=6,0,".   ",ExcludeQueueFallbackf); 
    EditField(h,v+=vs,100," PBX",Normal,AstPBXConnection,false,PBXConnectionSClass); 
  EditField(h,v+=vs,100," ",Normal,AstUserName,false,0); 
  EditField(h,v+=vs,100,"",Normal,AstPassword,false,0); 
  EditField(h,v+=vs,100,"ID ",Normal,AstCallerIdNumber,false,0); 
  v=v+vs;// Edit ************************** Tuesday, 23 May 2017 13:57:37
  EditField(h,v+=vs,100," ",Normal,InnerSIPNum,false,0); 
  EditField(h,v+=vs,100," ",Normal,InnerSIPHost,false,0); 
  EditField(h,v+=vs,100," ",Normal,InnerSIPPort,false,0); 
  EditField(h,v+=vs,100," API",Normal,InnerSIPPath,false,0);
  
  end;
  SpecMenuGroup("",kSpecMenuGroupTypeExtendedPlusMenu,0);         
  SpecialMenu(" ",'o',1,"CreateObjUserDsm");
  SpecialMenu(" ",'e',2,"ValidateUserEmailAddressDsm");
  SpecialMenu(" . ",' ',3,"CheckUserEmailAddressDsm"); 
  EndWindow;
end;

window TRDClass:2
  wtag("language","RUS"), wtag("product","*"), wtag("productcode","*"), wtag("device","computer")
begin
  real h,v,vm,vs,ve,hpos;
  Integer f,flipnr,rownr;

  rownr = 600;
  ve = 400;
  WindowBegin(" ",TRDClass,CGview,-);
  if (IsStandardProduct) then begin
    if (GetFeatureState("HasModNL")==kFeatureTrial) then begin 
      rownr = 10;
      ve = 360;
      AutoSizeWindow(false);
  end else begin
      Sizeable(-1,-1,0,0);
  end;
  end else begin
  Sizeable(-1,-1,0,0);
  end;
  if (HasExtraNLComment) then begin
    SetWRect(20,80,900,ve);
  end else begin
    SetWRect(20,80,740,ve);
  end;
  UseView(TRVc);
  FormName(PrintTRD);
  ActiveFieldOnNew("TransDate");
  vs=20;
  if (HasNumberSeries) then begin
    EditField(80,v=6,80, "",Normal,Number,false,TSerSClass);
  end else begin
    EditField(80,v=6,80,"",Normal,Number,false,0);
  end;
  EditField(250,v,82,"",Normal,TransDate,false,PasteCurDate);
  EnterSkip(Comment);
  EditField(426,v,-40,"",Normal,RefStr,false,0);
//  EditField(570,v,80,"Doc No.",Normal,SeqNr,false,0);
  EditField(80,v+=vs,-40,".",Normal,Comment,false,0);
//  CheckBox(450,v,0,"E_xported",Expf);
  EnterSkip(Math);
  if (HasBase2) then begin
    EditField(120,-41,88," .1",ViewOnly,DiffVal,true,0);
  end else begin
    EditField(120,-41,88,"",ViewOnly,DiffVal,true,0);  
  end;
  
  EditField(280,-41,88,"",ViewOnly,Sign,true,0);// Edit ************************** Tuesday, 22 December 2015
  
  if (HasBase2 or HasMultiCurrency) then begin
    EditField(-250,-41,88,"",ViewOnly,DSum,true,0);
    EditField(-157,-41,88,"",ViewOnly,CSum,true,0);  
    if (HasBase2) then begin
      EditField(120, -21,88," .2",ViewOnly,Diff2Val,true,0);
      EditField(-250,-21,88,"",ViewOnly,DSum2,true,0);  
      EditField(-157,-21,88,"",ViewOnly,CSum2,true,0);  
    end;
  end else begin
    EditField(-240,-41,88,"",ViewOnly,DSum,true,0);
    EditField(-147,-41,88,"",ViewOnly,CSum,true,0); 
    if (HasBase2) then begin
      EditField(120, -21,88," .2",ViewOnly,Diff2Val,true,0);
      EditField(-250,-21,88,"",ViewOnly,DSum2,true,0);  
      EditField(-157,-21,88,"",ViewOnly,CSum2,true,0);  
    end;
  end;
  h=4; v=v+(vs+17);
  if (IsStandardProduct) then begin
    if (HasMultiCurrency or HasBase2) then begin
      MatrixBegin(5,vm=v,-50,-46,-,rownr);
  end else begin
      MatrixBegin(5,vm=v,-25,-46,-,rownr);
    end;
  end else begin
    MatrixBegin(5,vm=v,-50,-46,-,rownr);
  end;
  MatTypedRow(stp);
  MatOverStrike(ovst);
  Flip(0);
  flipnr = 1;
  Flip(flipnr); flipnr = flipnr + 1;
  MatCol(1,hpos=32,"",0,AccNumber,false,AccSClass); hpos = hpos + 69;
  if (HasObjects) then begin
    MatCol(1,hpos,"",0,Objects,false,ObjSClass); hpos = hpos + 140;
//  MatCol(1,-400,"Short.",0,ACShort,false,ACShortSClass); // what the hell is this? Karl
    MatCol(1,hpos,"",0,Comment,false,0); hpos = hpos + 160; // -349    
    if (HasExtraNLComment) then begin
      MatCol(1,hpos," ",0,ExtraComment,false,0); hpos = hpos + 130; // -349
    end;
  end else begin
//  MatCol(1,-400,"Short.",0,ACShort,false,ACShortSClass); // what the hell is this? Karl
    MatCol(1,hpos,"",0,Comment,false,0);  hpos = hpos + 130; // -349
    if (HasExtraNLComment) then begin
      if (HasLocalization("POL")) then begin
        MatCol(1,hpos,"Additional Description",0,ExtraComment,false,0); hpos = hpos + 100; // -349 
      end else begin
      MatCol(1,hpos," ",0,ExtraComment,false,0); hpos = hpos + 130; // -349
    end;
  end;
  end;
  if (HasLocalization("GBR,LTU,POL") and IsEnterprise) then begin
    if (HasMultiCurrency) then begin
      MatCol(1,-240,"Base 1 Debit",0,DebVal,true,0); 
      MatCol(1,-150,"Base 1 Credit",0,CredVal,true,0); 
    end else begin
      MatCol(1,-240,"Debit",0,DebVal,true,0); 
      MatCol(1,-150,"Credit",0,CredVal,true,0); 
    end;
    MatCol(1,-60,"#V-Cd#",0,VATCode,false,VATCodeSClass);
    MatCol(1,-30,"Rvrs",0,RvrsVATCode,false,VATCodeSClass);
  end else begin
  if (HasMultiCurrency) then begin
    MatCol(1,-210," (. 1)",0,DebVal,true,0);
    MatCol(1,-120," (. 1)",0,CredVal,true,0);
    end else begin
      MatCol(1,-210," (. 1)",0,DebVal,true,0);
      MatCol(1,-120," (. 1)",0,CredVal,true,0);
    end;
  MatCol(1,-30,"",0,VATCode,false,VATCodeSClass);
  end;
  MatText(2,32,"",true);
  MatColTL(2,108,"",0,M4Code,ViewOnly,0,Sign,false,0);
  MatText(2,160,"  ",true);
  MatColTL(2,290,"",0,-1,ViewOnly,-1,OldTransDate,false,0);
  MatText(3,32," ",true);
  MatColTL(3,215,"",0,M4AppCode,ViewOnly,0,CorrNr,false,0);
  MatText(3,315," ",true);
  MatCol(3,385,"",0,CorrDate,false,0);
  MatText(4,32," ",true);
  MatColTL(4,215,"",0,M4AppCode,Normal,0,CorrNr,false,0);
  if (HasBase2) then begin
    Flip(flipnr); flipnr = flipnr + 1;
    MatCol(1,hpos=32,"",0,AccNumber,false,AccSClass); hpos = hpos + 69;
    if (HasObjects) then begin
      MatCol(1,hpos,"",0,Objects,false,ObjSClass); hpos = hpos + 140;
    end else begin
      MatCol(1,hpos,"",0,Comment,false,0); hpos = hpos + 160;
    end;
    MatCol(1,-400," .1",0,DebVal,true,0);
    MatCol(1,-300," .1",0,CredVal,true,0);
    MatCol(1,-200," .2",0,DebVal2,true,0);
    MatCol(1,-100," .2",0,CredVal2,true,0);
    MatText(2,32,"",true);
    MatCol(2,108,"",0,Sign,false,0);
    MatText(2,160,"  ",true);
    MatColTL(2,290,"",0,-1,ViewOnly,-1,OldTransDate,false,0);
    MatText(3,32," ",true);
    MatColTL(3,215,"",0,M4AppCode,ViewOnly,0,CorrNr,false,0);
    MatText(3,315," ",true);
    MatCol(3,385,"",0,CorrDate,false,0);
    MatText(4,32," ",true);
    MatColTL(4,215,"",0,M4AppCode,Normal,0,CorrNr,false,0);
  end;
  if (HasMultiCurrency) then begin
    Flip(flipnr); flipnr = flipnr + 1;
    MatCol(1,hpos=32,"",0,AccNumber,false,AccSClass); hpos = hpos + 69;
    if (HasObjects) then begin
      MatCol(1,hpos,"",0,Objects,false,ObjSClass); hpos = hpos + 140;
    end else begin
      MatCol(1,hpos,"",0,Comment,false,0); hpos = hpos + 160;
    end;
    if (HasBase2) then begin
      MatCol(1,-410,".1 ",0,DebVal,true,0);
      MatCol(1,-330,".1 ",0,CredVal,true,0);
    end else begin
      MatCol(1,-410,"",0,DebVal,true,0);
      MatCol(1,-330,"",0,CredVal,true,0);
    end;
    MatCol(1,-250,"",0,Curncy,false,CurncyCodeSClass);
    MatCol(1,-200,"  ",0,CurDebVal,true,0);
    MatCol(1,-100,"  ",0,CurCredVal,true,0);
    MatText(2,32,"",true);
    MatCol(2,108,"",0,Sign,false,0);
    MatText(2,160,"  ",true);
    MatColTL(2,290,"",0,-1,ViewOnly,-1,OldTransDate,false,0);
    MatText(3,32," ",true);
    MatColTL(3,215,"",0,M4AppCode,ViewOnly,0,CorrNr,false,0);
    MatText(3,315," ",true);
    MatCol(3,385,"",0,CorrDate,false,0);
    MatText(4,32," ",true);
    MatColTL(4,215,"",0,M4AppCode,Normal,0,CorrNr,false,0);
    Flip(flipnr); flipnr = flipnr + 1;
    MatCol(1,hpos=32,"",0,AccNumber,false,AccSClass); hpos = hpos + 69;
    if (HasObjects) then begin
      MatCol(1,hpos,"",0,Objects,false,ObjSClass);  hpos = hpos + 140;
    end else begin
      MatCol(1,hpos,"",0,Comment,false,0); hpos = hpos + 160;
    end;
    if (HasBase2) then begin
      MatCol(1,-400,"",0,Curncy,false,CurncyCodeSClass);
      MatCol(1,-350," .1",0,BaseRate1,true,0);
      MatCol(1,-280," .2",0,BaseRate2,true,0);
    end else begin
      MatCol(1,-300,"",0,Curncy,false,CurncyCodeSClass);
    end;
    MatCol(1,-210,"....",0,FrRate,true,0);
    MatCol(1,-140," .1",0,ToRateB1,true,0);
    if (HasBase2) then begin
      MatCol(1,-70," .2",0,ToRateB2,true,0);
    end;
    MatText(2,32,"",true);
    MatCol(2,108,"",0,Sign,false,0);
    MatText(2,160,"  ",true);
    MatColTL(2,290,"",0,-1,ViewOnly,-1,OldTransDate,false,0);
    MatText(3,32," ",true);
    MatColTL(3,215,"",0,M4AppCode,ViewOnly,0,CorrNr,false,0);
    MatText(3,315," ",true);
    MatCol(3,385,"",0,CorrDate,false,0);
    MatText(4,32," ",true);
    MatColTL(4,215,"",0,M4AppCode,Normal,0,CorrNr,false,0);
  end;
  if (IsEnterprise) then begin
    Flip(flipnr); flipnr = flipnr + 1;
    MatCol(1,32,"T",0,Typ,false,SetSClass);
    MatCol(1,52,"",0,SerNr,false,ARSClass);
    MatCol(1,112," .",0,DueDate,false,PasteCurDate);
    MatCol(1,184,".",0,CompCode,false,CUSClass);
    if (HasExtraNLComment) then begin
      MatCol(1,-550,"",0,Comment,false,0);
      MatCol(1,-410," ",0,ExtraComment,false,0);
    end else begin
      MatCol(1,-400,".",0,Comment,false,0);
    end;
    MatCol(1,-290,"",0,AccNumber,false,AccSClass);
    MatCol(1,-210,"",0,DebVal,true,0);
    MatCol(1,-120,"",0,CredVal,true,0);
    MatCol(1,-30,"",0,VATCode,false,VATCodeSClass);
    MatText(2,32,"",true);
    MatCol(2,108,"",0,Sign,false,0);
    MatText(2,160,"  ",true);
    MatColTL(2,290,"",0,-1,ViewOnly,-1,OldTransDate,false,0);
    MatText(3,32," ",true);
    MatColTL(3,215,"",0,M4AppCode,ViewOnly,0,CorrNr,false,0);
    MatText(3,315," ",true);
    MatCol(3,385,"",0,CorrDate,false,0);
    MatText(4,32," ",true);
    MatColTL(4,215,"",0,M4AppCode,Normal,0,CorrNr,false,0);
    Flip(flipnr); flipnr = flipnr + 1;
    MatCol(1,32,"",0,AccNumber,false,AccSClass);
    if (HasObjects) then begin
      MatCol(1,98,"",0,Objects,false,ObjSClass);
    end;
    if (HasExtraNLComment) then begin
      MatCol(1,-590,"",0,Comment,false,0);
      MatCol(1,-450,"Additional Description",0,ExtraComment,false,0);  
    end else begin
      MatCol(1,-420," .",0,Comment,false,0);
    end;
    MatCol(1,-330,"",0,NomVal,true,0);
    MatCol(1,-230,"",0,DebVal,true,0);
    MatCol(1,-130,"",0,CredVal,true,0);
    MatCol(1,-30,".",0,CorspSer,false,0);
    MatText(2,32,"",true);
    MatCol(2,108,"",0,Sign,false,0);
    MatText(2,160,"  ",true);
    MatColTL(2,290,"",0,-1,ViewOnly,-1,OldTransDate,false,0);
    MatText(3,32," ",true);
    MatColTL(3,215,"",0,M4AppCode,ViewOnly,0,CorrNr,false,0);
    MatText(3,315," -",true);
    MatCol(3,385,"",0,CorrDate,false,0);
    MatText(4,32,"  ",true);
    MatColTL(4,215,"",0,M4AppCode,Normal,0,CorrNr,false,0);
    Flip(flipnr); flipnr = flipnr + 1;
    MatCol(1,32,"",0,AccNumber,false,AccSClass);
    if (HasObjects) then begin
      MatCol(1,98,"",0,Objects,false,ObjSClass);
    end;
    if (HasExtraNLComment) then begin
      MatCol(1,-550,"",0,Comment,false,0);
      MatCol(1,-380," ",0,ExtraComment,false,0);
    end else begin
      MatCol(1,-420,"",0,Comment,false,0);
    end;
    if (StandardHansa==false) then begin
      MatCol(1,-260,". ",0,TAccNumber,false,TAccSClass);
      MatCol(1,-180,"",0,Qty,true,0);
      MatCol(1,-100,"SAFT ",0,SAFTType,false,SetSClass);
    end;
    MatText(2,32,"",true);
    MatCol(2,108,"",0,Sign,false,0);
    MatText(2,160,"  ",true);
    MatColTL(2,290,"",0,-1,ViewOnly,-1,OldTransDate,false,0);
    MatText(3,32," ",true);
    MatColTL(3,215,"",0,M4AppCode,ViewOnly,0,CorrNr,false,0);
    MatText(3,315," -",true);
    MatCol(3,385,"",0,CorrDate,false,0);
    MatText(4,32,"  ",true);
    MatColTL(4,215,"",0,M4AppCode,Normal,0,CorrNr,false,0);
  end;
  InsertRowTest;
  DeleteRowTest;
  EndMatrix;
  vs = 20;
  v = vm + 1;
  if (flipnr>2) then begin
    for (f=1;f<flipnr;f=f+1) begin
      VTab(-35,v,-16,v+vs,ToolFlip,f,chr(asc("A") + f - 1));
      v = v + vs;
    end;
  end;
  if (GuiType==kGuiMetro) then begin // Temporarily disabled on Windows 8
    SpecialMenu("",'B',0,"BalanceTRDsm");
    SpecialMenu("   ",' ',1,"SwapDCTRDsm");
    SpecialMenu("  ",' ',3,"CorrectionMarkTRDsm");
    SpecialMenu("  ",'t',6,"OpenSubsystemTRDsm");
    if (HasMultiCurrency) then begin
      SpecialMenu("  ",' ',7,"UpdCurRateTRDsm");
    end;
  end else begin
  SpecialMenu("",'B',0,"BalanceTRDsm");
  SpecialMenu("   ",' ',1,"SwapDCTRDsm");
//    if (HasIntegratedNL) then begin
    if (true) then begin
    SpecialMenu("  ",' ',2,"UpdateMarkTRDsm");
  SpecialMenu("  ",' ',3,"CorrectionMarkTRDsm");
    end;
  SpecialMenu(" ",'F',4,"CalcFieldTRDsm");
  SpecialMenu(" ",' ',5,"ChangeSignTRDsm");
    if (HasIntegratedNL) then begin
  SpecialMenu("  ",'t',6,"OpenSubsystemTRDsm");
    end;
  if (HasMultiCurrency) then begin
    SpecialMenu("  ",' ',7,"UpdCurRateTRDsm");
  end;
    SpecMenuGroup("",kSpecMenuGroupTypeExtendedPlusMenu,0);         
    SpecialMenu(" ",' ',0,"AddAccountQTDsm");         
  end;
  EndWindow;
end;

window PointsHistLClass:1
  wtag("language","RUS"), wtag("product","*"), wtag("productcode","*"), wtag("device","computer")
begin
  WindowBegin(" ",PointsHistLClass,CGmlist,-);
  SetWRect(64,80,549,298);
  SpawnClass(PointsHistDClass);
  Sizeable(-1,-1,0,0);
  UseView(PointsHistVc);
  RecordList(4,17,-21,-39);
  // RlColKey(4,4,"",SerNr,false,SerNr); //Edit***************************Sasha2,12:05 15.05.2017
  RlColKey(4,4,"Reg.Name",FileName,false,SerNr);		//Edit----------------------Dima  14.01.2016
  RlCol(84,84," -",TransNr,false);
  RlColKey(164,164," -",LMCardNr,false,CardDate);
  RlCol(-170,-170," .",TransDate,true);
  RlColKey(-80,-80," ",PointsFrom,true,PointsFrom);
  SearchField("");
  EndWindow;
end;

window ResRClass:1
  wtag("language","RUS"), wtag("product","*"), wtag("productcode","*"), wtag("device","computer")
begin
  real h,v,vm;
  WindowBegin("     ",ResRClass,CGRcW,RcType);
  SetWRect(20,80,527,370);
  PeriodField(h=100,v=6,"");
  if (HasNLBudget) then begin
    EditFieldTL(h,v+=20,150," ",M4UStr,Normal,21,Stext,false,PerSClass);
  end;
  CheckBox(345,v,0," ",flags[10]);			//Edit----------------------Dima  29.01.2016
  if (HasObjects) then begin
    EditFieldTL(h,v+=20,150,"",M4UStr,Normal,60 ,ObjStr,false,ObjSClass);
    EditFieldTL(h,v+=20,50," ",M4UStr,Normal,5 ,ObjType,false,OTSClass);
    CheckBox(180,v,0,"   ",flags[2]);
  end;
  if (HasMultiCurrency) then begin
    EditField(h,v+=20,50,"",Normal,CurncyCode,false,CurncyCodeSClass);
  end;
  if (HasLanguages) then begin
    EditField(h,v+=20,50,"",Normal,Language,false,LangSClass);
  end;
  if (HasObjects) then begin
    EditFieldTL(h,v+=20,150,". ",M4UStr,Normal,60,f6,false,ObjSClass);
  end;
  EditFieldTL(345,6,120,"",M4Str,Normal,60 ,f1,false,0);
  ButtonFrame(h=30,vm=(v+=41),123,5,"");
  RadioButton(h,v,0,0,"",AccSpec);
  RadioButton(h,v+=16,1,0," .",AccSpec);
  if (HasAdvancedAccounting or HasLocalization("FIN")) then begin         
    RadioButton(h,v+=16,2,0," ",AccSpec);
    RadioButton(h,v+=16,3,0," .",AccSpec);
    RadioButton(h,v+=16,4,0," ",AccSpec);
  end;
  EndFrame;
  ButtonFrame(h+=148,v=vm,123,5,"");
  RadioButton(h,v,0,0,"",Notation);
  RadioButton(h,v+=16,4,0," ",Notation);
  RadioButton(h,v+=16,1,0,"",Notation);
  RadioButton(h,v+=16,2,0,"",Notation);
  if (HasAdvancedAccounting) then begin
    RadioButton(h,v+=16,3,0,"% ",Notation);
  end;
  EndFrame;
  if (HasAdvancedAccounting or HasLocalization("FIN")) then begin
    ButtonFrame(h,v+=40,123,3," ");  
    RadioButton(h,v,0,0," ",flags[1]);  
    RadioButton(h,v+=16,1,0," %",flags[1]);  
    RadioButton(h,v+=16,3,0," ",flags[1]);  
  end;
  ButtonFrame(h+=148,v=vm,160,5,"");
  RadioButton(h,v,0,0,"",Comparison);
  RadioButton(h,v+=16,1,0,". ",Comparison);
  RadioButton(h,v+=16,4,0,". ",Comparison);
  if (HasNLBudget) then begin
    RadioButton(h,v+=16,2,0,"",Comparison);
    if (HasNLBudgetClass) then begin
      EditFieldTL(h+120,v+2,35,"",M4Code,Normal,5 ,FirstAcc,false,BudgetClassSClass);
    end;
    RadioButton(h,v+=16,3,0,". ",Comparison);
//    CheckBox(h+115,v,0,"Add",flags[6]);//for internal use only
  end;
  EndFrame;
  if (HasBase2) then begin
    ButtonFrame(h,v+=40,123,2," ");
    RadioButton(h,v,0,0," .  1",basecurncy);
    RadioButton(h,v+=16,1,0," .  2",basecurncy);
  end;
  h = 30; v = 270;
  if (HasSimulations) then begin
    CheckBox(h,v,0," ",SimVerf);
    v = v + 16;
  end;
  if (HasAdvancedAccounting) then begin
    CheckBox(h,v,0,"   ",flags[4]);
    CheckBox(h,v+=16,0," ",flags[5]);
  end;
//  CheckBox(h,v+=16,0,"    ",flags[19]);// reserved
  EndWindow;
end;

window IVJRClass:3
  wtag("language","RUS"), wtag("product","*"), wtag("productcode","*"), wtag("device","computer")
begin
  real h,h2,hs,v,v3,vm,vs,l;

  WindowBegin("  ",IVJRClass,CGRcW,RcType);
  if (IsEnterprise) then begin
  SetWRect(20,80,520,390);
  end else begin
    SetWRect(20,80,460,390);
  end;
  vs = 20;
  hs=148;
  if (IsEnterprise) then begin
    if (HasLocalization("ARG,HRV,LTU,LVA,POL,PRT,RUS") or (HasOfficialSerNr and HasPreferedOfficialSerNr==false))  then begin
    Tile(0,40,false,"",f1);
    end else begin
      Tile(0,20,false,"",f1);
    end;
  end;

  v = 6; h = 150;
  if (HasPreferedOfficialSerNr) then begin
    EditFieldTL(h,v,150," ",M4UStr,Normal,41,f6,false,0);
    v = v + 20;
    if (HasLocalization("POL,PRT")==false)  then begin
      EditFieldTL(h,v, 150," /",M4Str,Normal,30,f1,false,0);
      v = v + 20;
    end;
  end else begin
    EditFieldTL(h,v,150," /",M4Str,Normal,30,f1,false,0);
    v = v + 20;
    if (HasOfficialSerNr or HasInvoiceOfficialSerNr) then begin
      EditFieldTL(h,v,150,"  ",M4UStr,Normal,41,f6,false,0);
      v = v + 20;
    end;
  end;

  if (IsEnterprise) then begin
    TileButtons(v,2);
    Tile(1,380,false,"1",f2);
    v = 6;
    vm = v;
  end;
  PeriodField(h,v,"");
  EditFieldTL(h,v+=vs, 150," . /",M4UStr,Normal,21,Period2Str2,false,PerSClass);
  EditFieldTL(h,v+=vs ,150,"",M4UStr,Normal,50,f2,false,CUSClass);
  if (HasCategories) then begin
    EditFieldTL(h,v+=vs ,70,"",M4UStr,Normal,5,f3,false,CCatSClass);
  end;
  if (HasContactClassification) then begin
    EditFieldTL(h,v+=vs ,70," ",M4UStr,Normal,60,f5,false,CTypeSClass);
    EditFieldTL(h,v+=vs ,70,"",M4UStr,Normal,30,f4,false,CClassSClass);
  end;
  if (HasSalesman or HasSalesmanBonus) then begin
    EditFieldTL(h,v+=vs ,70,"",M4UStr,Normal,10,AccStr,false,UserSClass);
  end;
  if (HasSalesGroup) then begin
    EditFieldTL(h,v+=vs ,50,"  ",M4UStr,Normal,10,f14,false,SalesGroupSClass);
  end;
  if (HasObjects) then begin
   EditFieldTL(h,v+=vs,250,"",M4UStr,Normal,60,ObjStr,false,ObjSClass);
   EditFieldTL(h,v+=vs,50," ",M4UStr,Normal,5,ObjType,false,OTSClass);
    EditFieldTL(h,v+=vs,250," ",M4UStr,Normal,60,f11,false,ObjSClass);  
  end;
  if (HasModTS or IsEnterprise) then begin
    EditFieldTL(h,v+=vs,50,"",M4UStr,Normal,20,FirstAcc,false,PRSClass);
  end;
  if (HasMultiLocations) then begin
    EditFieldTL(h,v+=vs,70,"",M4UStr,Normal,60,LastAcc,false,LocationSClass);
  end;
  if (IsEnterprise) then begin
    EditFieldTL(h,v+=vs,50," ",M4UStr,Normal,5,TransStr,false,PDSClass);
    EditFieldTL(h,v+=vs,50,"",M4Code,Normal,20,f12,false,CUSClass);  
  end;
  if (IsEnterprise) then begin
    EditFieldTL(h,v3=(v+=vs),50,". ",M4Val,Normal,0,vals0,false,0);
  end else begin
    EditFieldTL(h,v+=vs,100," ",M4UStr,Normal,100,f13,false,VATCodeSClass); 
  end;
  if (IsEnterprise) then begin
    h = 320;
    v = vm + 10;
  end else begin
    v = v + 40;
    v3 = v + 20;
    vm = v;
    h = 30;
  end;
  ButtonFrame(h,v,123,5,"");
  CheckBox(h,v,0,"",flags[1]);
  CheckBox(h,v+=16,0,"",flags[2]);
  if (IsEnterprise) then begin
    RadioButton(h,v+=16,0,0,". ",flags[7]);
    RadioButton(h,v+=16,1,0,". ",flags[7]);
    RadioButton(h,v+=16,2,0," ",flags[7]);
    
    RadioButton(h,v+=26,0,0,"",flags[21]); //Edit***************************Sasha2,15:37 20.05.2016 {
    RadioButton(h,v+=16,1,0," ",flags[21]);
    RadioButton(h,v+=16,2,0,"  ",flags[21]); //Edit***************************Sasha2,15:37 20.05.2016 }
  end;
  EndFrame;

  v3 = v3 + 41;
  v = v3;
  if (IsEnterprise) then begin
    vm = v;
    h = 148;
  end else begin
    h = 30;
  end;
  ButtonFrame(h,v,123,3,"");
  RadioButton(h,v,0,0,"",ArtMode);
  RadioButton(h,v+=16,1,0,"",ArtMode);
  if (HasMultiCurrency) then begin
    RadioButton(h,v+=16,4,0,"  .",ArtMode);
  end;
  EndFrame;
  if (IsEnterprise==false and HasBase2) then begin
    CheckBox(h,v+=42,0,"- .  1 & 2 ",flags[12]);
  end;

  if (IsEnterprise) then begin
    h2 = 320;
    l = 160;
  end else begin
    h2 = h + 148;
    l = 123;
  end;
  ButtonFrame(h2,v=vm,l,5,"");
  if (HasModNL) then begin
    RadioButton(h2,v,0,0," ",flags[10]);
  end else begin
    RadioButton(h2,v,0,0," /",flags[10]);
  end;
  if (HasLocalization("BRA,POL,PRT")) then begin
    RadioButton(h2,v+=16,5,0," /",flags[10]);
  end else begin
    RadioButton(h2,v+=16,1,0," /",flags[10]);
  end;
  if (HasMultiLocations) then begin
    RadioButton(h2,v+=16,2,0," ( .)",flags[10]);
  end;
  if (HasOfficialSerNr or HasInvoiceOfficialSerNr) then begin
    RadioButton(h2,v+=16,3,0,"  ",flags[10]);
  end;
  if (IsEnterprise) then begin
    RadioButton(h2,v+=16,4,0," /",flags[10]);
  end;
  EndFrame;
  if (IsEnterprise) then begin
    Tile(2,330,false,"2",Stext);
    v = 6;
    EditFieldTL(h=150,v,100," ",M4UStr,Normal,21,Stext,false,ITSClass);
    EditFieldTL(h,v+=vs,150," ", M4UStr,Normal,60,Comment,false,DISClass);         
    EditFieldTL(h,v+=vs,100,"",M4UStr,Normal,41,f10,false,INSClass);
    EditFieldTL(h,v+=vs,100," ",M4UStr,Normal,21,f7,false,AccSClass);
    EditFieldTL(h,v+=vs,100," ",M4UStr,Normal,21,f8,false,AccSClass);
    if (StandardHansa==false) then begin
      EditFieldTL(h,v+=vs,100,". ",M4UStr,Normal,20,f9,false,CUSClass);
    end;
    EditFieldTL(h,v+=vs,100," ",M4UStr,Normal,100,f13,false,VATCodeSClass); 
    //    EditFieldTL(h,v+=vs,50,"Order Class",M4UStr,Normal,5,Stext,false,OrderClassSClass); // no more strings to use....
    ButtonFrame(h=50,vm = (v+=40),123,4," ");
    CheckBox(h,v,0,"-",flags[3]);
    CheckBox(h,v+=16,0," ",flags[4]);
    CheckBox(h,v+=16,0," ",flags[5]);
    CheckBox(h,v+=16,0," ",flags[6]);
    CheckBox(h,v+=26,0,"/,    ",flags[19]);
    StaticText(h+17,v+=30,"(   /)",false);
    CheckBox(h=220,v=vm,0," .",flags[11]);
    CheckBox(h,v+=16,0,"  .  1  2",flags[12]);
    if (StandardHansa==false) then begin
      CheckBox(h,v+=16,0,"  /",flags[13]);
    end;
    CheckBox(h,v+=16,0,"  /",flags[14]);
    CheckBox(h,v+=16,0,"  ",flags[15]);
    CheckBox(h,v+=16,0,"  /",flags[17]);
    CheckBox(h,v+=16,0," . ",flags[18]);
    CheckBox(h,v+=16,0,"Invoices with Total amount equal zero",flags[20]);
    CheckBox(h+=hs,v=vm,0,"   ",flags[16]);
  end else begin
    ButtonFrame(h+=148,v+=41,123,3," .");
    CheckBox(h,v,0,"",flags[3]);
    CheckBox(h,v+=16,0,". ",flags[4]);
    CheckBox(h,v+=16,0,"-",flags[5]);
    if (HasLocalization("PRT")) then begin
      CheckBox(h,v+=16,0," ",flags[6]);
    end;
    EndFrame;
    v = v + 24;
    if (HasOfficialSerNr or HasInvoiceOfficialSerNr) then begin
      CheckBox(h,v,0," . ",flags[16]); v = v + 16;       
    end;
    if (HasLocalization("PRT")) then begin
      CheckBox(h,v,0,"Invoices with Total equal zero",flags[20]);
    end;
  end;
  EndWindow;
end;

window ToDoWClass:5
  wtag("language","RUS"), wtag("product","*"), wtag("productcode","*"), wtag("device","computer")
begin
  real h,h2,hof,hs,v,v2,vm,vs;
  record RcVc RepSpec;
  Integer wn;
  Boolean recurrinf;
  string 255 wname;
  
  WindowBegin(" -  ",ToDoWClass,CGother,RcType);
  UseView(RcVc);
  DynamicWindow;
  SetWRect(20,80,1250,400); //Edit***************************Sasha2,14:06 15.05.2017
  Sizeable(-1,-1,0,0);

  wn = CurWindow;
  if (wn>0) then begin
    if (GetWindowClass(wn)=="") then begin
      GetWindowRecord(wn,RepSpec);
    end;
  end;
  recurrinf = RepSpec.flags[3]==kTodoFlagRecurring;
  if (recurrinf) then begin 
    wname = " -  "; 
  end else begin
    wname = " -  "; 
  end;

  ToolBar;
  h = -115; v = 5; v2 = 25;
//  PushButton(h,v,h+100,v2,ToolOK,"Save");
//  h = h -110;
  if (RepSpec.flags[3]!=kTodoFlagRecurring) then begin
    HalPushButton(h,v,h+110,v2,"NewActivityTool"," ");
  end else begin
    HalPushButton(h,v,h+110,v2,"NewActivityTool"," ");
  end;
  h = h -110;
  PushButton(h,v,h+100,v2,ToolCalDay,"");
  h = h -110;
  if (RepSpec.flags[3]!=kTodoFlagRecurring) then begin
    HalPushButton(h,v,h+110,v2,"RecurringFillToDoClient"," ");
  end else begin
    HalPushButton(h,v,h+110,v2,"NotRecurringFillToDoClient","");
  end;
  EndToolBar;
  if (GuiType==kGuiMetro) then begin
    TaskManager(0,0,-1,-24); // should be one more right...

    BeginDrawer(240,600);

    v = 5;
    h = 70; vs=20;
    EditFieldTL(h,v+=vs,50,"", M4UStr,Normal,10,f1,false,UserSClass);
    EditFieldTL(h,v+=vs,50,"", M4UStr,Normal,5,f3,false,ActTypeSClass);
    EditFieldTL(h,v+=vs,100,"", M4UStr,Normal,20,f4,false,AllCUSClass);
    EditFieldTL(h,v+=vs,50,"", M4Str,Normal,21,LastAcc,false,0);
    if (HasModTS) then begin
      EditFieldTL(h,v+=vs,50,"", M4UStr,Normal,10,FirstAcc,false,PRSClass);
    end;
    EditFieldTL(h,v+=vs,50,"", M4UStr,Normal,5,AccStr,false,ActTypeGrSClass);
    PeriodField(h,v+=vs,"");

    //vm = 23;
    //hs = 115;
      hof = 105;
      h2 = 20;
    ButtonFrame(h2=30,v+=40,hof,4,"");
    RadioButton(h2,v,0,0,"",flags[5]);
    RadioButton(h2,v+=16,1,0,"",flags[5]);
    RadioButton(h2,v+=16,2,0,"",flags[5]);
    RadioButton(h2,v+=16,3,0," ",flags[5]);
    ButtonFrame(h2,v+=48,hof,6," ");
    RadioButton(h2,v,0,0,"",flags[3]);
    RadioButton(h2,v+=16,1,255,", .",flags[3]);
    RadioButton(h2,v+=16,2,0,"  ",flags[3]);
    RadioButton(h2,v+=16,4,0,"",flags[3]); 
    if (IsEnterprise) then begin
      RadioButton(h2,v+=16,kTodoFlagProject,0,"",flags[3]); 
    end;
    RadioButton(h2,v+=16,3,255,"",flags[3]);
    EndFrame;
    ButtonFrame(h2,v+=48,hof,6,". ");
    RadioButton(h2,v,0,0," ",flags[1]);
    RadioButton(h2,v+=16,4,0,"",flags[1]);  
    RadioButton(h2,v+=16,5,0,"",flags[1]);  
    RadioButton(h2,v+=16,1,0,"",flags[1]);
    RadioButton(h2,v+=16,2,0,"",flags[1]);
    RadioButton(h2,v+=16,3,0,"",flags[1]);
    ButtonFrame(h2,v+=48,hof,3,"");
    RadioButton(h2,v,0,0,"",flags[2]);
    RadioButton(h2,v+=16,1,0,"CC",flags[2]);
    RadioButton(h2,v+=16,2,0,"",flags[2]);
    CheckBox(h2,v+24,0," ",flags[6]);
    EndDrawer;

  end else begin
    Tile(0,30+17+20,false,"",f1);
    v = 5; vs = 20;
    EditFieldTL(90,v,50,"", M4UStr,Normal,10,f1,false,UserSClass);
    EditFieldTL(200,v,50,"", M4UStr,Normal,5,f3,false,ActTypeSClass);
    EditFieldTL(330,v,100,"", M4UStr,Normal,20,f4,false,AllCUSClass);
    EditFieldTL(490,v,50,".", M4Str,Normal,21,LastAcc,false,0);
    PeriodField(-200,v,"");
    v = v + vs;
    if (HasModTS) then begin
      EditFieldTL(90,v,50,"", M4UStr,Normal,10,FirstAcc,false,PRSClass);
    end;
    EditFieldTL(200,v,50,"", M4UStr,Normal,5,AccStr,false,ActTypeGrSClass);
    TileButton(1,"");
    TileButton(2,"");
  //  CheckBox(300,v,0,"Incl. Done",flags[1]);
  //  CheckBox(425,v,0,"CCs",flags[2]);

    Tile(1,100,true,"1",f1);

    v = 15;
    h = 20;

    if (GuiType!=kGuiCocoa) then begin
    StaticText(40,v-4,"",false);
    StaticText(68,v-4,".",false);
    StaticText(99,v-4,"",false);
    StaticText(-478,v-4,"",true);
      StaticText(-428,v-4,"",false); 
    StaticText(-366,v-4,"",false);
      if (HasModTS) then begin
      StaticText(-326,v-4,"",false);
    end;
    StaticText(-228,v-4,"",false);
    StaticText(-102,v-4,"",true);//it shows phone no. not Date
    end;

  //  StaticText(-204,v-4,"",false);
  //  StaticText(-28,v-4,"Phone",true);

   /* ScrollBar(-14 - ScrollBarWidth,22,-14,-69); */
  //  EditFieldTL(217+25,-47+20,200,"",   M4Str,Normal,100,f2,false,0);
    TaskManager(5,5,-5,-5); //for webclient - will simply be ignored on platforms that dont implement this control
    if (GuiType!=kGuiCocoa) then begin
    ScrollBar(-14 - ScrollBarWidth,22,-14,-69);
    end;
    Tile(2,130,false,"2",f1);
    vm = 23; hs = 125; hof = 105;
    ButtonFrame(h2=30,v=vm,hof,4,"");
    RadioButton(h2,v,0,0,"",flags[5]);
    RadioButton(h2,v+=16,1,0,"",flags[5]);
    RadioButton(h2,v+=16,2,0,"",flags[5]);
    RadioButton(h2,v+=16,3,0,"",flags[5]);
    ButtonFrame(h2+=hs,v=vm,hof,6," ");
    if (HasApprovals) then begin
    RadioButton(h2,v,0,0,"",flags[3]);
    end else begin
      RadioButton(h2,v,0,0,"",flags[3]); 
    end;
    RadioButton(h2,v+=16,1,0,", ",flags[3]); 
    RadioButton(h2,v+=16,2,0,"  ",flags[3]);
    if (HasApprovals) then begin
      RadioButton(h2,v+=16,4,0,"",flags[3]); 
    end;
    if (IsEnterprise) then begin
      RadioButton(h2,v+=16,kTodoFlagProject,0,"",flags[3]); 
    end;
    RadioButton(h2,v+=16,3,0,"",flags[3]); 
//Recurring kTodoFlagRecurring    
    EndFrame;
    ButtonFrame(h2+=hs,v=vm,hof,4,". ");
    RadioButton(h2,v,0,0," ",flags[1]);
    RadioButton(h2,v+=16,1,0,"",flags[1]);
    RadioButton(h2,v+=16,2,0,"",flags[1]);
    RadioButton(h2,v+=16,3,0,"",flags[1]);
    ButtonFrame(h2+=hs,v=vm,hof,3,"");
    RadioButton(h2,v,0,0,"",flags[2]);
    RadioButton(h2,v+=16,1,0,"CC",flags[2]);
    RadioButton(h2,v+=16,2,0,"",flags[2]);
    CheckBox(h2+=hs,v=vm,0," ",flags[6]);
  end;

  /* waiting for Karls final word
    ButtonFrame(h2+=hs,v=vm,hof,4,"Display");
    RadioButton(h2,v,0,0,"Up To Today",flags[4]);
    RadioButton(h2,v+=16,1,0,"Next Week's",flags[4]);
    RadioButton(h2,v+=16,3,0,"Next Month's",flags[4]);
    RadioButton(h2,v+=16,2,0,"",flags[4]);
  */
  /*
    ButtonFrame(h2+=hs,v=vm,hof,4,"Calendar Items");
    RadioButton(h2,v,0,0,"None",flags[3]);
    RadioButton(h2,v+=16,1,255,"",flags[3]);
    RadioButton(h2,v+=16,2,0,"Timed To Dos",flags[3]);
    RadioButton(h2,v+=16,3,255,"Both",flags[3]);
  */

//  SpecialMenu("Open Attachment",'a',3,"ToDoWOpenAttachmentLsm");
  SpecMenuItem("",' ',mSaveTodoChanges);
  SpecMenuItem(" ",' ',mSetTodoDate);
  SpecialMenu("",'F',3,"ToDoWSearchLsm");
  SpecialMenu(" ",'r',4,"ToDoWListLsm");
  SpecMenuItem("",' ',mTodoApprove); 
  SpecMenuItem("Delete",' ',mTodoDelete); 
//  SpecialMenu("Approve",' ',5,"ToDoWApproveActivity");//ActDClassApproveActivity 
//make hal primitive getting selectd activity nr from task manager
  EndWindow;
end;

window SVOListRClass:1
  wtag("language","RUS"), wtag("product","*"), wtag("productcode","*"), wtag("device","computer")
begin
  real h,v,vm,vs;
  WindowBegin("    ",SVOListRClass,CGRcW,RcType);
  SetWRect(20,80,450,300);
  v= 6; vs = 20;
  EditFieldTL(150,v, 150," ",   M4Str,Normal,30,f1,false,0);
  PeriodField(150,v+=vs,"");
  EditFieldTL(150,v+=vs ,150,"",M4UStr,Normal,20,f2,false,CUSClass);
  if (HasMultiLocations) then begin 
    EditFieldTL(150,v+=20, 50, "",M4Code,Normal,10,FirstAcc,false,LocationSClass);  
  end;  
  if (HasOrderClasses) then begin
    EditFieldTL(150,v+=vs ,50," ",M4UStr,Normal,5,AccStr,false,OrderClassSClass);
  end;
  EditFieldTL(150,v+=vs ,100,".",M4UStr,Normal,50,f3,false,UserSClass); //Edit***************************Sasha2,12:00 14.02.2017
  EditFieldTL(150,v+=vs ,100,"",M4UStr,Normal,50,f4,false,UserSClass); //Edit***************************Sasha2,12:00 14.02.2017
  EditFieldTL(150,v+=vs ,50,"..",M4UStr,Normal,50,f5,false,SalesGroupSClass); //Edit***************************Sasha2,12:00 14.02.2017
  //CheckBox(h=160,v+=22,0," ",flags[7]); //origin field
  /*ButtonFrame(h=12,vm=(v+=41),123,3,""); //origin field
  RadioButton(h,v,0,0,"",ArtMode); //origin field
  RadioButton(h,v+=16,1,0,"",ArtMode); //origin field
  RadioButton(h,v+=16,2,0," ",ArtMode); //origin field
  ButtonFrame(h+=148,v = vm,123,3,""); //origin field
  CheckBox(h,v,0,".",flags[1]); //origin field
  CheckBox(h,v+=16,0,". .",flags[2]); //origin field
  CheckBox(h,v+=16,0,".",flags[3]);*/ //origin field
  ButtonFrame(h=12,vm=(v+=41),123,4,"  "); //Edit***************************Sasha2,14:55 15.05.2017 {
  RadioButton(h,v,0,0," ",ArtMode);
  RadioButton(h,v+=16,1,0," ..",ArtMode);
  RadioButton(h,v+=16,2,0," . .",ArtMode);
  RadioButton(h,v+=16,3,0," ",ArtMode);
  ButtonFrame(h+=148,v = vm,123,6,"");
  CheckBox(h,v,0," ",flags[1]);
  CheckBox(h,v+=16,0," ",flags[2]);
  CheckBox(h,v+=16,0," ",flags[3]);
  CheckBox(h,v+=16,0,". .",flags[9]);
  CheckBox(h,v+=16,0," .",flags[10]);
  CheckBox(h,v+=16,0," ",flags[11]); //Edit***************************Sasha2,14:55 15.05.2017 }
  ButtonFrame(h+=148,v = vm,123,3,"  ");
  CheckBox(h,v,0," ",flags[4]);
  //CheckBox(h,v+=16,0,". ",flags[5]);  //origin field
  CheckBox(h,v+=16,0,"",flags[6]);
  /*ButtonFrame(h=12,vm=(v+=41),123,2,""); //Edit***************************Sasha2,14:54 15.05.2017 {
  CheckBox(h,v,0," ",flags[7]);
  CheckBox(h,v+=16,0,"",flags[8]);*/  //Edit***************************Sasha2,14:54 15.05.2017 }
  EndWindow;
end;

window TRLClass:3
  wtag("language","RUS"), wtag("product","*"), wtag("productcode","*"), wtag("device","computer")
begin
  WindowBegin(" ",TRLClass,CGmlist,TRView);
  SetWRect(20,80,600,298);
  SpawnClass(TRDClass);
  Sizeable(-1,-1,0,0);
  UseView(TRVc);
  FormName(PrintTRL);
  RecordList(4,17,-21,-39);
  RlColKeyTL(4,4,    "",M4AppCode,IntYc,false,Number);
  RlColKey(134,134,"",TransDate,false,TransDate);
  RlColKey(219,219,"",Comment,false,Comment);
    RlColKey(-98,-98,"",RefStr,false,RefStr);
  SearchField("");
  SpecialMenu("   . ",' ',0,"CreateUSDRemTRLsm"); //Edit***************************Sasha2,14:59 15.05.2017
  EndWindow;
end;

window FormDefDClass:1
  wtag("language","RUS"), wtag("product","*"), wtag("productcode","*"), wtag("device","computer")
begin
  real h,v,vs;
  WindowBegin(" ",FormDefDClass,CGview,-);
  SetWRect(20,80,730,410);
  UseView(FormDefVc);
  v = 6; vs = 20; h = 100;
  if (IsEnterprise) then begin
    EditField(h,v ,80,"",ViewOnly,repname,false,0);
    EditField(h+=160,v,80,"",ViewOnly,critname,false,0);
    EditField(h+=160,v,80,"",ViewOnly,defname,false,0);
    EditField(h+=160,v,80,"",ViewOnly,modname,false,0);
  end;
//  FORMDEF_RUS;
  MatrixBegin(6,v+=40,-24,-20,FormDefRowType,99);
  h = 24;
  MatCol(1,h,".",0,intdocnr,false,0);
  h = h + 30;
  if (HasLanguages) then begin
    MatCol(1,h,"",0,LangCode,false,LangSClass);
    h = h + 40;
  end;
  if (IsEnterprise) then begin
    MatCol(1,h,". .",0,UserGroup,false,AccessSClass);
    h = h + 60;
  end;
  if (HasNumberSeries) then begin
    MatCol(1,h," ",0,SerNr,false,0);
    h = h + 70;
  end;
  MatCol(1,h,"",0,FPCode,false,DocSClass);
  h = h + 200;
/* No code behind this */
  MatCol(1,324,"E-Form",0,EformCode,false,0); //Edit***************************Sasha2,15:04 15.05.2017
  if (IsEnterprise) then begin
    MatCol(1,h,"",0,PrintGroupCode,false,PrintGroupSClass);
  end;
  MatCol(1,-60,"",0,Typ,false,SetSClass);
  EndMatrix;
  EndWindow;
end;